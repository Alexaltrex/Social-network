{"version":3,"sources":["components/Profile/Profile.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatus/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileAboutMe/ProfileAboutMe.tsx","components/Profile/ProfileInfo/ProfileAboutMeForm/ProfileAboutMeForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/AddPostFormRedux/AddPostFormRedux.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainerAJAX.tsx","components/Profile/ProfileContainer.tsx"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","className","onDoubleClick","autoFocus","onChange","e","currentTarget","value","onBlur","updateStatus","ProfileAboutMe","setEditModeOn","profile","isOwner","contactsElements","Object","keys","contacts","map","key","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","onClick","ProfileAboutMeFormRedux","reduxForm","form","handleSubmit","error","onSubmit","createField","Input","type","Textarea","i","style","summaryError","ProfileInfo","savePhoto","saveProfile","Preloader","profileInfo","img","src","alt","avatar","avatarImg","photos","large","userPhoto","target","files","length","initialValues","values","then","Post","message","likeCount","s","item","itemPost","like","AddPostFormRedux","required","maxLength30","MyPostMemo","React","memo","posts","addPost","postsElements","post","id","myPosts","newPostText","profileAC","MyPostsContainer","connect","state","profilePage","Profile","ProfileContainerAJAX","match","authorizedUserId","history","getProfile","getStatus","isLoading","userId","params","push","Error","setUserProfile","toggleLoading","ProfileContainer","compose","usersPage","auth","isAuth","withRouter","withAuthRedirect"],"mappings":"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","file":"static/js/3.9a7a4163.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__1ybnC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"ProfileInfo_avatar__3HBtz\",\"img\":\"ProfileInfo_img__1Qq8l\",\"avatarImg\":\"ProfileInfo_avatarImg__2gWP3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__1axm2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3dCVu\",\"img\":\"Post_img__2akep\",\"itemPost\":\"Post_itemPost__2iDLp\"};","import React, {ChangeEvent, useEffect, useState} from 'react';\r\n\r\ntype PropsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\n\r\nconst ProfileStatusWithHooks:React.FC<PropsType> = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(status);\r\n    }, [status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    };\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n    const onChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n        <div className='status'>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{status || '---------'}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input autoFocus={true}\r\n                       onChange={onChange}\r\n                       onBlur={deactivateEditMode}\r\n                       value={status}\r\n                />\r\n            </div>\r\n            }\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport {ContactsType, ProfileType} from \"../../../../types/types\";\r\n\r\ntype PropsType = {\r\n    setEditModeOn: any\r\n    profile: ProfileType\r\n    isOwner: boolean\r\n}\r\n\r\nconst ProfileAboutMe: React.FC<PropsType> = (props) => {\r\n    const {setEditModeOn, profile, isOwner} = props;\r\n    const onClick = () => {\r\n        setEditModeOn();\r\n    };\r\n    const contactsElements = Object\r\n        .keys(profile.contacts)\r\n        .map((key) => {\r\n            return <div key={key}>\r\n                <b>{key}:</b>\r\n                <span>{profile.contacts[key as keyof ContactsType]}</span>\r\n            </div>\r\n        });\r\n\r\n    return (<div>\r\n            <h2>{profile.fullName}</h2>\r\n            <h3>{profile.aboutMe}</h3>\r\n            <div>\r\n                <b>Контакты: </b>{contactsElements}</div>\r\n            <div>\r\n                <b>Ищу работу: </b>\r\n                <span>{profile.lookingForAJob}</span>\r\n            </div>\r\n            <div>\r\n                <b>My professional skills: </b>\r\n                <span>{profile.lookingForAJobDescription}</span>\r\n            </div>\r\n            {isOwner && <div>\r\n                <button onClick={onClick}>edit profile</button>\r\n            </div>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProfileAboutMe;","import React from 'react';\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {createField, GetStringKeysType, Input, Textarea} from \"../../../common/FormsControls/FormControls\";\r\nimport style from \"../../../common/FormsControls/FormControls.module.css\";\r\nimport {LoginFormValuesType} from \"../../../Login/Login\";\r\nimport {ProfileType} from \"../../../../types/types\";\r\n\r\ntype OwnPropsType = {\r\n    profile: ProfileType\r\n}\r\ntype ProfileAboutMeFormValuesType = ProfileType;\r\ntype ProfileAboutMeFormKeysType = GetStringKeysType<ProfileAboutMeFormValuesType>;\r\n\r\nlet ProfileAboutMeForm: React.FC<InjectedFormProps<ProfileAboutMeFormValuesType, OwnPropsType> & OwnPropsType> = (props) => {\r\n    const {handleSubmit, profile, error} = props\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <b>Full name:</b>\r\n                {createField<ProfileAboutMeFormKeysType>('Full name', 'fullName', [], Input)}\r\n            </div>\r\n            <div>\r\n                <b>Ищу работу: </b>\r\n                {createField<ProfileAboutMeFormKeysType>('', 'lookingForAJob', [], Input, {type: 'checkbox'})}\r\n            </div>\r\n            <div>\r\n                <b>My professional skills:</b>\r\n                {createField<ProfileAboutMeFormKeysType>('My professional skills', 'lookingForAJobDescription', [], Textarea)}\r\n            </div>\r\n            <div>\r\n                <b>About me:</b>\r\n                {createField<ProfileAboutMeFormKeysType>('About me', 'aboutMe', [], Textarea)}\r\n            </div>\r\n            <div>\r\n                <b>Контакты: </b>\r\n                {Object.keys(profile.contacts).map((key, i) => (\r\n                    <div key={key}><b>{key}: </b>\r\n                        <span>\r\n                        {createField(key, `contacts.${key}`, [], Input)}\r\n                        </span>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            {props.error && <div className={style.summaryError}>{props.error}</div>}\r\n            <div>\r\n                <button>save changes</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst ProfileAboutMeFormRedux = reduxForm<ProfileAboutMeFormValuesType, OwnPropsType>({\r\n    form: 'profileAboutMeForm'\r\n})(ProfileAboutMeForm);\r\n\r\n\r\nexport default ProfileAboutMeFormRedux;","import React, {ChangeEvent, useState} from 'react';\r\nimport style from './ProfileInfo.module.css';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatus/ProfileStatusWithHooks\";\r\nimport userPhoto from './../../../assets/img/user.png';\r\nimport ProfileAboutMe from \"./ProfileAboutMe/ProfileAboutMe\";\r\nimport ProfileAboutMeFormRedux from \"./ProfileAboutMeForm/ProfileAboutMeForm\";\r\nimport {ProfileType} from \"../../../types/types\";\r\nimport {ProfilePropsType} from \"../Profile\";\r\n\r\nconst ProfileInfo: React.FC<ProfilePropsType> = (props) => {\r\n    const {profile, savePhoto, saveProfile, status, updateStatus, isOwner} = props;\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n\r\n    const setEditModeOn = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n    let lookingForAJob;\r\n    profile.lookingForAJob ? lookingForAJob = 'да' : lookingForAJob = 'нет';\r\n\r\n    const onPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files) {\r\n            if (e.target.files.length) {\r\n                savePhoto(e.target.files[0])\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    const onSubmit = (values: ProfileType) => {\r\n        saveProfile(values)\r\n            .then(() => {\r\n                setEditMode(false);\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className={style.profileInfo}>\r\n            <div className={style.img}>\r\n                <img\r\n                    src=\"https://gran-tur.com/assets/image/Blog/%D0%A2%D1%83%D1%80%D1%86%D0%B8%D1%8F/%D0%9F%D0%BB%D1%8F%D0%B6%D0%B8%20%D0%A2%D1%83%D1%80%D1%86%D0%B8%D0%B8/plyaz%20kliopatry.jpg\"\r\n                    alt=\"\"/>\r\n                <ProfileStatusWithHooks\r\n                    status={status}\r\n                    updateStatus={updateStatus}\r\n                />\r\n            </div>\r\n            <div className={style.avatar}>\r\n                <div>\r\n                    <img\r\n                        className={style.avatarImg}\r\n                        src={profile.photos.large || userPhoto}\r\n                        alt=\"\"/>\r\n                    {isOwner && <input type=\"file\" onChange={onPhotoSelected}/>}\r\n                </div>\r\n                {editMode\r\n                    ? <ProfileAboutMeFormRedux\r\n                        initialValues={profile}\r\n                        onSubmit={onSubmit}\r\n                        profile={profile}/>\r\n                    : <ProfileAboutMe profile={profile}\r\n                                      setEditModeOn={setEditModeOn}\r\n                                      isOwner={isOwner}/>}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileInfo;\r\n","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\ntype PropsType = {\r\n    message: string\r\n    likeCount: number\r\n}\r\n\r\nconst Post: React.FC<PropsType> = (props) => {\r\n    const {message, likeCount} = props\r\n    return (\r\n        <div className={s.item}>\r\n            <div className={s.itemPost}>\r\n                <div className={s.img}>\r\n                    <img\r\n                        src=\"data:image/jpeg;base64,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\"\r\n                        alt=\"\"/>\r\n                </div>\r\n                <div>\r\n                    {message}\r\n                </div>\r\n            </div>\r\n            <div className={s.like}>\r\n                {likeCount}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Post;\r\n","import {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {createField, GetStringKeysType, Input, Textarea} from \"../../../common/FormsControls/FormControls\";\r\nimport {maxLength30, required} from \"../../../../utilities/validators/validators\";\r\nimport React from \"react\";\r\nimport {LoginFormValuesType} from \"../../../Login/Login\";\r\n\r\ntype OwnPropsType = {}\r\n\r\nexport type AddPostFormValuesType = {\r\n    newPostText: string\r\n}\r\n\r\ntype AddPostFormKeysType = GetStringKeysType<AddPostFormValuesType>;\r\n\r\nconst AddPostForm: React.FC<InjectedFormProps<AddPostFormValuesType, OwnPropsType> & OwnPropsType> = (props) => {\r\n    const {handleSubmit} = props;\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                {createField<AddPostFormKeysType>('enter your post', \"newPostText\", [required, maxLength30], Textarea)}\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst AddPostFormRedux = reduxForm<AddPostFormValuesType, OwnPropsType>({form: 'post'})(AddPostForm);\r\n\r\nexport default AddPostFormRedux;","import React from 'react';\r\nimport style from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport AddPostFormRedux, {AddPostFormValuesType} from \"./AddPostFormRedux/AddPostFormRedux\";\r\nimport {PostType} from \"../../../types/types\";\r\n\r\ntype PropsType = {\r\n    posts: Array<PostType>\r\n    addPost: (newPostText: string) => void\r\n}\r\n\r\nconst MyPosts: React.FC<PropsType> = (props) => {\r\n    const {posts, addPost} = props;\r\n    let postsElements = posts.map(post =>\r\n        <Post key={post.id} message={post.message} likeCount={post.likeCount}/>\r\n    );\r\n\r\n    let addPostLocale = (values: AddPostFormValuesType) => {\r\n        addPost(values.newPostText);\r\n    };\r\n\r\n    return (\r\n        <div className={style.myPosts}>\r\n            <h3>My posts</h3>\r\n            <AddPostFormRedux onSubmit={addPostLocale}/>\r\n            <div className={style.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst MyPostMemo = React.memo(MyPosts)\r\n\r\nexport default MyPostMemo;\r\n","import {connect} from \"react-redux\";\r\nimport {profileAC} from \"../../../redux/profile-reducer\";\r\nimport MyPostMemo from \"./MyPosts\";\r\nimport {StateType} from \"../../../redux/redux-store\";\r\nimport {PostType} from \"../../../types/types\";\r\n\r\n\r\nlet mapStateToProps = (state: StateType) => ({\r\n    posts: state.profilePage.posts,\r\n});\r\n\r\nconst addPost = profileAC.addPost;\r\n\r\nconst MyPostsContainer = connect<MapStatePropsType,\r\n    MapDispatchPropsType,\r\n    OwnPropsType,\r\n    StateType>(mapStateToProps, {addPost})(MyPostMemo);\r\n\r\nexport default MyPostsContainer;\r\n\r\ntype MapStatePropsType = {\r\n    posts: Array<PostType>\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    addPost: (newPostText: string) => void\r\n}\r\n\r\ntype OwnPropsType = {}\r\n","import React from 'react';\r\nimport style from './Profile.module.css';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileType} from \"../../types/types\";\r\n\r\nexport type ProfilePropsType = {\r\n    profile: ProfileType | null\r\n    savePhoto: (photo: File) => void\r\n    saveProfile: (values: ProfileType) => Promise<any>\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n}\r\n\r\nconst Profile: React.FC<ProfilePropsType> = (props) => {\r\n    const {profile, savePhoto, saveProfile, status, updateStatus, isOwner} = props\r\n    return (\r\n        <div className={style.profile}>\r\n\r\n            <ProfileInfo profile={profile}\r\n                         savePhoto={savePhoto}\r\n                         saveProfile={saveProfile}\r\n                         status={status}\r\n                         isOwner={isOwner}\r\n                         updateStatus={updateStatus}\r\n                         />\r\n            <MyPostsContainer/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n","import React, {useEffect} from \"react\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport Profile from \"./Profile\";\r\nimport {RouteComponentProps} from \"react-router\";\r\nimport {ProfileContainerPropsType} from \"./ProfileContainer\";\r\n\r\n// class ProfileContainerAJAX extends React.Component<PropsType> {\r\n//\r\n//     refreshProfile() {\r\n//         const {match, authorizedUserId, history, getProfile, getStatus} = this.props;\r\n//         let userId: null | number = +match.params.userId;\r\n//         if (!userId) {\r\n//             userId = authorizedUserId;\r\n//             if (!userId) { // если авторизованного тоже нет\r\n//                 history.push('/login');// программный редирект\r\n//\r\n//             }\r\n//         }\r\n//         if (!userId) {\r\n//             throw new Error('ID should be exist')\r\n//         } else {\r\n//             getProfile(userId);\r\n//             getStatus(userId);\r\n//         }\r\n////     }\r\n//\r\n//     componentDidMount() {\r\n//         this.refreshProfile()\r\n//     }\r\n//\r\n//     componentDidUpdate(prevProps: PropsType, prevState: PropsType) {\r\n//         if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n//             this.refreshProfile()\r\n//         }\r\n//     }\r\n//\r\n//     render() {\r\n//         return (\r\n//             <>\r\n//                 {this.props.isLoading ? <Preloader/> : null}\r\n//                 <Profile profile={this.props.profile}\r\n//                          savePhoto={this.props.savePhoto}\r\n//                          saveProfile={this.props.saveProfile}\r\n//                          status={this.props.status}\r\n//                          updateStatus={this.props.updateStatus}\r\n//                          isOwner={!this.props.match.params.userId}\r\n//                 />\r\n//             </>\r\n//         );\r\n//     }\r\n// }\r\n//\r\n// export default ProfileContainerAJAX\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\ntype ProfileContainerAJAXPropsType = ProfileContainerPropsType & RouteComponentProps<PathParamsType>\r\n\r\nconst ProfileContainerAJAX: React.FC<ProfileContainerAJAXPropsType> = (props) => {\r\n    const {match, authorizedUserId, history, getProfile, getStatus,\r\n        isLoading, profile, savePhoto, saveProfile, status, updateStatus} = props;\r\n\r\n    useEffect(()=>{\r\n        let userId: null | number = +match.params.userId;\r\n        if (!userId) {\r\n            userId = authorizedUserId;\r\n            if (!userId) { // если авторизованного тоже нет\r\n                history.push('/login');// программный редирект\r\n\r\n            }\r\n        }\r\n        if (!userId) {\r\n            throw new Error('ID should be exist')\r\n        } else {\r\n            getProfile(userId);\r\n            getStatus(userId);\r\n        }\r\n    }, [match.params.userId])\r\n\r\n    return (\r\n        <>\r\n            {isLoading ? <Preloader/> : null}\r\n            <Profile profile={profile}\r\n                     savePhoto={savePhoto}\r\n                     saveProfile={saveProfile}\r\n                     status={status}\r\n                     updateStatus={updateStatus}\r\n                     isOwner={!match.params.userId}\r\n            />\r\n        </>\r\n    )\r\n\r\n};\r\n\r\nexport default ProfileContainerAJAX;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getProfile,\r\n    getStatus, profileAC,\r\n    savePhoto,\r\n    saveProfile,\r\n    updateStatus\r\n} from \"../../redux/profile-reducer\";\r\nimport {withRouter, RouteComponentProps} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {ProfileType} from \"../../types/types\";\r\nimport {StateType} from \"../../redux/redux-store\";\r\nimport ProfileContainerAJAX from \"./ProfileContainerAJAX\";\r\n\r\n//type MapStatePropsType = ReturnType<typeof mapStateToProps>\r\ntype MapStatePropsType = {\r\n    profile: ProfileType | null\r\n    isLoading: boolean\r\n    status: string\r\n    authorizedUserId: number | null\r\n    isAuth: boolean\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    setUserProfile: (profile: ProfileType) => void\r\n    toggleLoading: (isLoading: boolean) => void\r\n    getProfile: (id: number) => void\r\n    getStatus: (id: number) => void\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (photo: File) => void\r\n    saveProfile: (values: ProfileType) => Promise<any>\r\n}\r\n\r\n\r\n\r\nexport type ProfileContainerPropsType = MapStatePropsType & MapDispatchPropsType;\r\n\r\nlet mapStateToProps = (state: StateType) => ({\r\n    profile: state.profilePage.profile,\r\n    isLoading: state.usersPage.isLoading,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.id,\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nconst setUserProfile = profileAC.setUserProfile\r\nconst toggleLoading = profileAC.toggleLoading\r\n\r\nlet ProfileContainer = compose<React.ComponentType>(connect(mapStateToProps,\r\n    {\r\n        setUserProfile, toggleLoading, getProfile, getStatus,\r\n        updateStatus, savePhoto, saveProfile\r\n    }), withRouter, withAuthRedirect)(ProfileContainerAJAX);\r\n\r\nexport default ProfileContainer;\r\n"],"sourceRoot":""}