(this["webpackJsonpreact-02"]=this["webpackJsonpreact-02"]||[]).push([[4],{814:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t(9),r={getCurrentDate:function(){return new Date},getMonthWord:function(e,a){var t=[{eng:"January",rus:"\u042f\u043d\u0432\u0430\u0440\u044f"},{eng:"February",rus:"\u0424\u0435\u0432\u0440\u0430\u043b\u044f"},{eng:"March",rus:"\u041c\u0430\u0440\u0442\u0430"},{eng:"April",rus:"\u0410\u043f\u0440\u0435\u043b\u044f"},{eng:"May",rus:"\u041c\u0430\u044f"},{eng:"June",rus:"\u0418\u044e\u043d\u044f"},{eng:"July",rus:"\u0418\u044e\u043b\u044f"},{eng:"August",rus:"\u0410\u0432\u0433\u0443\u0441\u0442\u0430"},{eng:"September",rus:"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f"},{eng:"October",rus:"\u041e\u043a\u0442\u044f\u0431\u0440\u044f"},{eng:"November",rus:"\u041d\u043e\u044f\u0431\u0440\u044f"},{eng:"December",rus:"\u0414\u0435\u043a\u0430\u0431\u0440\u044f"}];return"eng"===a?t[e].eng:t[e].rus},dateTranslateFromJS:function(e,a){var t=e.getMonth()+1,n=e.getDate(),r=e.getHours(),l=e.getMinutes();r<10&&(r="0".concat(r)),l<10&&(l="0".concat(l));var s=this.getMonthWord(t,a);return"".concat(n," ").concat(s," in ").concat(r,":").concat(l)},dateTranslateFromAPI:function(e,a){var t=e.slice(5,7),r=this.getMonthWord(+t,a),l="0"===e[8]?e.slice(9,10):e.slice(8,10),s=e.slice(11,13),c=e.slice(14,16);return"".concat(l," ").concat(r," ").concat(Object(n.b)(a,"in")," ").concat(s,":").concat(c)}}},815:function(e,a,t){"use strict";var n=t(29);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(31)).default)(r.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");a.default=l},817:function(e,a,t){"use strict";var n=t(29);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(31)).default)(r.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");a.default=l},818:function(e,a,t){"use strict";var n=t(29);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(31)).default)(r.default.createElement("path",{d:"M19 4h-3.5l-1-1h-5l-1 1H5v2h14zM6 7v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm8 7v4h-4v-4H8l4-4 4 4h-2z"}),"RestoreFromTrash");a.default=l},819:function(e,a,t){"use strict";var n=t(29);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(31)).default)(r.default.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");a.default=l},820:function(e,a,t){"use strict";var n=t(29);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(31)).default)(r.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");a.default=l},821:function(e,a,t){"use strict";var n=t(29);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(31)).default)(r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");a.default=l},841:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(85),s=t(793),c=t(736),o=t(737),i=t(34),d=t(33),m=t(79),u=t(789),g=t(804),b=t(744),f=t(814),p=t(20),v=t(7),E=function(e){var a=e.primary,t=e.secondary,n=e.to,l=e.src,s=function(e){var a=e.secondary,t=e.to,n=e.dialog,l=j(),s=Object(v.d)(p.c),c=Object(i.g)().userId;return{classes:l,selected:(c?+c:void 0)===n.id,renderLink:r.a.useMemo((function(){return r.a.forwardRef((function(e,a){return r.a.createElement(d.b,Object.assign({to:t,ref:a},e))}))}),[t]),secondaryTransformed:f.a.dateTranslateFromAPI(a,s)}}({secondary:t,to:n,dialog:e.dialog}),c=s.classes,E=s.selected,h=s.renderLink,O=s.secondaryTransformed;return r.a.createElement("li",{className:c.item},r.a.createElement(o.a,{button:!0,className:c.listItem,component:h,selected:E},r.a.createElement(g.a,null,r.a.createElement(b.a,{src:l,className:c.avatar})),r.a.createElement(m.a,{color:"primary",variant:"h6"},r.a.createElement(u.a,{primary:a,secondary:O,classes:{primary:c.primary,secondary:c.secondary}}))))},h=function(e){var a=e.dialog;return r.a.createElement(E,{to:"/dialogs/".concat(a.id),primary:a.userName,secondary:a.lastDialogActivityDate,src:a.photos.small?a.photos.small:void 0,dialog:a})},j=Object(l.a)({item:{borderTop:"1px solid #ccc","&:last-child":{borderBottom:"1px solid #ccc"}},avatar:{width:50,height:50,marginRight:10},listItem:{padding:"5px 10px"},secondary:{fontSize:"0.75rem",fontStyle:"italic"},primary:{fontSize:"0.9rem"}}),O=t(801),y=t(96),I=t(108),S=t(9),x=function(){var e={classes:D()}.classes;return r.a.createElement("div",{className:e.skeletonWrapper},r.a.createElement(O.a,{variant:"circle",width:40,height:40,className:e.avatar}),r.a.createElement(O.a,{variant:"rect",width:200,height:45}))},N=function(e){var a=function(e){for(var a=e.dialogs,t=D(),n=Object(v.d)(y.c),l=Object(v.d)(y.a),s=Object(v.d)(y.b),c=Object(v.d)(y.m),o=Object(v.d)(p.c),i=a&&a.map((function(e){return r.a.createElement(h,{key:e.id,dialog:e})})),d=s.map((function(e){return r.a.createElement(h,{key:e.dialog.id,dialog:e.dialog})})),m=c.map((function(e){return r.a.createElement(h,{key:e.dialog.id,dialog:e.dialog})})),u=[],g=0;g<9;g++)u.push(r.a.createElement(x,{key:g}));return{classes:t,dialogsIsLoading:n,currentDialogsSidebarItem:l,deletedMessages:s,spamMessages:c,dialogsElements:i,dialogsDeletedElements:d,dialogsSpamElements:m,skeletonElements:u,thereAreNoDeletedDialogs:Object(S.b)(o,"There are no deleted dialogs")}}({dialogs:e.dialogs}),t=a.classes,n=a.dialogsIsLoading,l=a.currentDialogsSidebarItem,o=a.deletedMessages,i=a.spamMessages,d=a.dialogsElements,u=a.dialogsDeletedElements,g=a.dialogsSpamElements,b=a.skeletonElements,f=a.thereAreNoDeletedDialogs;return r.a.createElement(s.a,{className:t.card,elevation:6},l===I.a.all&&r.a.createElement(r.a.Fragment,null,n?r.a.createElement("div",null,b):r.a.createElement(c.a,{disablePadding:!0},d)),l===I.a.deleted&&r.a.createElement(r.a.Fragment,null,0===o.length?r.a.createElement("div",{className:t.emptyDialogs},r.a.createElement(m.a,{variant:"subtitle1",color:"primary"},f)):r.a.createElement(c.a,{disablePadding:!0},u)),l===I.a.spam&&r.a.createElement(r.a.Fragment,null,0===i.length?r.a.createElement("div",{className:t.emptyDialogs},r.a.createElement(m.a,{variant:"subtitle1",color:"primary"},"There are no spam dialogs")):r.a.createElement(c.a,{disablePadding:!0},g)))},D=Object(l.a)({card:{},avatar:{marginRight:10},btnWrapper:{marginBottom:10},skeletonWrapper:{padding:"0 16px",height:72,display:"flex",alignItems:"center"},emptyDialogs:{padding:"8px 16px"}}),M=t(1),k=t(4),C=(t(2),t(3)),L=t(6),w=t(11),F=n.forwardRef((function(e,a){var t=e.classes,r=e.className,l=e.color,s=void 0===l?"default":l,c=e.component,o=void 0===c?"li":c,i=e.disableGutters,d=void 0!==i&&i,m=e.disableSticky,u=void 0!==m&&m,g=e.inset,b=void 0!==g&&g,f=Object(k.a)(e,["classes","className","color","component","disableGutters","disableSticky","inset"]);return n.createElement(o,Object(M.a)({className:Object(C.default)(t.root,r,"default"!==s&&t["color".concat(Object(w.a)(s))],b&&t.inset,!u&&t.sticky,!d&&t.gutters),ref:a},f))})),z=Object(L.a)((function(e){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:e.palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},colorPrimary:{color:e.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}}),{name:"MuiListSubheader"})(F),R=t(370),H=t(369),T=t(817),W=t.n(T),A=t(86),P=t(815),B=t.n(P),_=t(818),J=t.n(_),G=t(783),V=t(52),q=t(244),K=t(55),Q=t(51),U=t(72),X=t(18),Y={entering:{transform:"none"},entered:{transform:"none"}},Z={enter:K.b.enteringScreen,exit:K.b.leavingScreen},$=n.forwardRef((function(e,a){var t=e.children,r=e.disableStrictModeCompat,l=void 0!==r&&r,s=e.in,c=e.onEnter,o=e.onEntered,i=e.onEntering,d=e.onExit,m=e.onExited,u=e.onExiting,g=e.style,b=e.timeout,f=void 0===b?Z:b,p=e.TransitionComponent,v=void 0===p?q.a:p,E=Object(k.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),h=Object(Q.a)(),j=h.unstable_strictMode&&!l,O=n.useRef(null),y=Object(X.a)(t.ref,a),I=Object(X.a)(j?O:void 0,y),S=function(e){return function(a,t){if(e){var n=j?[O.current,a]:[a,t],r=Object(V.a)(n,2),l=r[0],s=r[1];void 0===s?e(l):e(l,s)}}},x=S(i),N=S((function(e,a){Object(U.b)(e);var t=Object(U.a)({style:g,timeout:f},{mode:"enter"});e.style.webkitTransition=h.transitions.create("transform",t),e.style.transition=h.transitions.create("transform",t),c&&c(e,a)})),D=S(o),C=S(u),L=S((function(e){var a=Object(U.a)({style:g,timeout:f},{mode:"exit"});e.style.webkitTransition=h.transitions.create("transform",a),e.style.transition=h.transitions.create("transform",a),d&&d(e)})),w=S(m);return n.createElement(v,Object(M.a)({appear:!0,in:s,nodeRef:j?O:void 0,onEnter:N,onEntered:D,onEntering:x,onExit:L,onExited:w,onExiting:C,timeout:f},E),(function(e,a){return n.cloneElement(t,Object(M.a)({style:Object(M.a)({transform:"scale(0)",visibility:"exited"!==e||s?void 0:"hidden"},Y[e],g,t.props.style),ref:I},a))}))})),ee=function(e){var a=e.currentDialog,t=e.userId,n=function(e){var a,t=e.currentDialog,n=e.userId,r=ae(),l=Object(v.d)(y.l),s=Object(v.d)(y.k),c=Object(v.d)(y.c),o=Object(v.d)(y.e),i=Object(v.d)(y.b),d=Object(v.d)(y.a),m=Object(v.d)(p.c),u=!o&&t?"/users/".concat(t.id):"#",g=n&&i.find((function(e){return+e.dialog.id===+n})),b=g&&g.dialog;d===I.a.all?a=t&&t.photos.small?t.photos.small:void 0:d===I.a.deleted&&(a=b&&b.photos.small?b.photos.small:void 0);var f=Object(v.c)(),E=Object(S.b)(m,"messages"),h=Object(S.b)(m,"Delete"),j=Object(S.b)(m,"Select a dialog"),O=Object(S.b)(m,"Restore"),x=Object(S.b)(m,"Select deleted dialog");return{classes:r,selectedMessages:l,selectedDeletedMessages:s,dialogsIsLoading:c,loading:o,currentDialogsSidebarItem:d,to:u,currentDeletedDialog:b,src:a,onDeleteHandler:function(){n&&t&&f(Object(A.b)(l,t))},onCleanArrayHandler:function(){d===I.a.all?f(A.c.cleanSelectedMessages()):d===I.a.deleted&&f(A.c.cleanSelectedDeletedMessages())},onSpamHandler:function(){n&&t&&f(Object(A.h)(l,t))},onRestoreHandler:function(){n&&t&&f(Object(A.f)(s))},messagesLabel:E,deleteLabel:h,selectADialogLabel:j,restoreLabel:O,selectDeletedDialogLabel:x}}({currentDialog:a,userId:t}),l=n.classes,s=n.selectedMessages,c=n.selectedDeletedMessages,o=n.dialogsIsLoading,i=n.loading,u=n.currentDialogsSidebarItem,g=n.to,f=n.currentDeletedDialog,E=n.src,h=n.onDeleteHandler,j=n.onCleanArrayHandler,x=(n.onSpamHandler,n.onRestoreHandler),N=n.messagesLabel,D=n.deleteLabel,M=n.selectADialogLabel,k=n.restoreLabel,C=n.selectDeletedDialogLabel;return r.a.createElement("div",{className:l.headerWrapper},u===I.a.all&&r.a.createElement(r.a.Fragment,null,o?r.a.createElement(z,{component:"div",className:l.header},r.a.createElement(O.a,{variant:"circle",width:40,height:40,className:l.avatar}),r.a.createElement(O.a,{variant:"rect",width:200,height:25})):r.a.createElement(z,{component:"div",className:l.header},a?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{src:E,className:l.avatar}),r.a.createElement(R.a,{component:d.b,className:l.link,to:g,variant:"subtitle2"},a.userName),0!==s.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:l.messagesCount},r.a.createElement(m.a,{variant:"body2",color:"textPrimary"},s.length," ",N),r.a.createElement(H.a,{onClick:j,className:l.iconClean,disabled:i},r.a.createElement(W.a,null))),r.a.createElement("div",{className:l.iconButtonWrapper},r.a.createElement(G.a,{title:D,TransitionComponent:$,arrow:!0},r.a.createElement(H.a,{onClick:h,className:l.iconClean,disabled:i},r.a.createElement(B.a,null)))))):r.a.createElement(m.a,{variant:"subtitle1",color:"primary"},M))),u===I.a.deleted&&r.a.createElement(z,{component:"div",className:l.header},t&&f?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{src:E,className:l.avatar}),r.a.createElement(R.a,{component:d.b,className:l.link,to:g,variant:"subtitle2"},f.userName),0!==c.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:l.messagesCount},r.a.createElement(m.a,{variant:"body2",color:"textPrimary"},c.length," ",N),r.a.createElement(H.a,{onClick:j,className:l.iconClean,disabled:i},r.a.createElement(W.a,null))),r.a.createElement("div",{className:l.iconButtonWrapper},r.a.createElement(G.a,{title:k,TransitionComponent:$,arrow:!0},r.a.createElement(H.a,{onClick:x,className:l.iconClean,disabled:i},r.a.createElement(J.a,null)))))):r.a.createElement(m.a,{variant:"subtitle1",color:"primary"},C)))},ae=Object(l.a)({avatar:{marginRight:10},header:{display:"flex",alignItems:"center",height:50},headerWrapper:{padding:5,borderBottom:"1px solid #ccc"},link:{marginRight:15},messagesCount:{display:"flex",alignItems:"center",marginRight:30},iconClean:{padding:5},iconButtonWrapper:{marginRight:10}}),te=t(38),ne=t(821),re=t.n(ne),le=t(83),se=t(245),ce=t(820),oe=t.n(ce),ie=t(819),de=t.n(ie),me=n.forwardRef((function(e,a){var t=e.classes,r=e.className,l=e.color,s=void 0===l?"inherit":l,c=e.component,o=void 0===c?"span":c,i=e.fontSize,d=void 0===i?"default":i,m=Object(k.a)(e,["classes","className","color","component","fontSize"]);return n.createElement(o,Object(M.a)({className:Object(C.default)("material-icons",t.root,r,"inherit"!==s&&t["color".concat(Object(w.a)(s))],"default"!==d&&t["fontSize".concat(Object(w.a)(d))]),"aria-hidden":!0,ref:a},m))}));me.muiName="Icon";var ue=Object(L.a)((function(e){return{root:{userSelect:"none",fontSize:e.typography.pxToRem(24),width:"1em",height:"1em",overflow:"hidden",flexShrink:0},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(36)}}}),{name:"MuiIcon"})(me),ge=t(71),be=function(e){var a=e.message,t=e.src,l=function(e){var a,t=e.message,l=e.src,s=fe(),c=Object(n.useState)(!1),o=Object(te.a)(c,2),i=o[0],d=o[1],m=Object(v.d)(le.b),u=Object(v.d)(se.h),g=Object(v.d)(y.l),b=Object(v.d)(y.k),f=Object(v.d)(y.g),E=Object(v.d)(y.a),h=Object(v.d)(p.c),j=Object(v.c)();a=E===I.a.all?!!g.find((function(e){return e.id===t.id})):E===I.a.deleted&&!!b.find((function(e){return e.id===t.id}));var O=u?t.senderId===m?u.photos.small:l:void 0,S=t.senderId===m?"/profile":"/users/".concat(t.senderId),x=t.senderId===m?r.a.createElement(de.a,null):r.a.createElement(oe.a,null);return{classes:s,hover:i,selectedMessages:g,messagesIsDeleting:f,lang:h,selected:a,onClickHandler:function(){E===I.a.all?j(a?A.c.removeFromSelectedMessages(t):A.c.addToSelectedMessages(t)):E===I.a.deleted&&j(a?A.c.removeFromSelectedDeletedMessages(t):A.c.addToSelectedDeletedMessages(t))},onMouseEnterHandler:function(){d(!0)},onMouseLeaveHandler:function(){d(!1)},srcFinally:O,to:S,icon:x}}({message:a,src:t}),s=l.classes,c=l.hover,i=l.selectedMessages,u=l.messagesIsDeleting,g=l.lang,E=l.selected,h=l.onClickHandler,j=l.onMouseEnterHandler,O=l.onMouseLeaveHandler,S=l.srcFinally,x=l.to,N=l.icon;return r.a.createElement("div",{className:s.listItemWrapper},r.a.createElement(o.a,{button:!0,onClick:h,selected:E,className:s.listItem,classes:{selected:s.selected},onMouseEnter:j,onMouseLeave:O},(c&&!E||E)&&r.a.createElement(re.a,{className:s.checkedIcon,color:E?"inherit":"disabled",fontSize:"small"}),r.a.createElement(b.a,{src:S,className:s.avatar}),r.a.createElement("div",{className:s.messageBlock},r.a.createElement("div",{className:s.title},r.a.createElement(R.a,{component:d.b,className:s.link,to:x,variant:"subtitle2"},a.senderName),r.a.createElement(m.a,{variant:"subtitle2",color:"textSecondary"},f.a.dateTranslateFromAPI(a.addedAt,g))),r.a.createElement("div",null,a.body)),r.a.createElement(ue,{className:s.icon},N)),u&&i.find((function(e){return e.id===a.id}))&&r.a.createElement(ge.a,{size:50,styleType:"absolute"}))},fe=Object(l.a)({listItemWrapper:{position:"relative"},listItem:{boxSizing:"border-box",margin:"2px 0px",padding:8,paddingLeft:40,position:"relative",display:"flex",alignItems:"flex-start"},checkedIcon:{position:"absolute",top:"50%",left:5,transform:"translate(0, -50%)"},selected:{backgroundColor:"red"},avatar:{marginRight:10},title:{display:"flex"},link:{marginRight:10},messageBlock:{flexGrow:1},icon:{marginRight:10}}),pe=function(e){var a=e.messages,t=function(e){var a=e.messages,t=e.src,l=e.userId,s=ve(),c=Object(v.d)(y.h),o=Object(v.d)(y.f),i=Object(v.d)(y.g),d=Object(v.d)(y.b),m=Object(v.d)(y.a),u=Object(v.c)();Object(n.useEffect)((function(){u(A.c.cleanSelectedMessages())}),[l,u]);var g=a&&a.map((function(e){return r.a.createElement(be,{key:e.id,message:e,src:t})})),b=!!l&&d.find((function(e){return e.dialog.id===+l})),f=b&&b.messages.map((function(e){return r.a.createElement(be,{key:e.id,message:e,src:t})}));return{classes:s,messagesIsLoading:c,messageIsSending:o,messagesIsDeleting:i,currentDialogsSidebarItem:m,elements:g,deletedMessagesItem:b,elementsDeleted:f}}({messages:a,src:e.src,userId:e.userId}),l=t.classes,s=t.messagesIsLoading,c=t.messageIsSending,o=t.messagesIsDeleting,i=t.currentDialogsSidebarItem,d=t.elements,m=t.deletedMessagesItem,u=t.elementsDeleted;return r.a.createElement(r.a.Fragment,null,i===I.a.all&&r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(r.a.Fragment,null,d),c&&r.a.createElement(r.a.Fragment,null,a?r.a.createElement(r.a.Fragment,null,d):null),s&&r.a.createElement("div",{className:l.circularPreloaderWrapper},r.a.createElement(ge.a,{size:36})),!s&&!c&&!o&&r.a.createElement(r.a.Fragment,null,a?r.a.createElement(r.a.Fragment,null,d):null)),i===I.a.deleted&&m&&r.a.createElement(r.a.Fragment,null,u))},ve=Object(l.a)({circularPreloaderWrapper:{margin:"10px 0"},emptyMessages:{padding:"8px 16px"}}),Ee=t(160),he=t.n(Ee),je=t(255),Oe=t(48),ye=t(235),Ie=t(49),Se=t(236),xe=t(375),Ne=t.n(xe),De=Object(Se.a)({form:"send-message-from-dialog",onSubmitSuccess:function(e,a){a(Object(Ie.a)("send-message-from-dialog"))}})((function(e){var a=e.handleSubmit,t=e.submitting,n=e.pristine,l=e.loading,s=function(e){var a=Ce(),t=ke(),n=Object(v.d)(p.c);return{classes:a,classesField:t,label:e?Object(S.b)(n,"Message is sent..."):Object(S.b)(n,"Enter your message"),placeholder:Object(S.b)(n,"Enter your message")}}(e.messageIsSending),c=s.classes,o=s.classesField,i=s.label,d=s.placeholder;return r.a.createElement("form",{onSubmit:a,className:c.form},r.a.createElement("div",{className:c.fieldWrapper},r.a.createElement(ye.a,{name:"message",component:je.a,validate:[Oe.d],autoFocus:!0,rows:1,className:c.textArea,classes:o,label:i,placeholder:d,size:"small"})),r.a.createElement(H.a,{type:"submit",color:"primary",disabled:t||n||l},r.a.createElement(he.a,null)))})),Me=function(e){var a=function(e){var a=Ce(),t=Object(v.d)(y.f),n=Object(v.d)(y.e),r=Object(v.c)();return{classes:a,messageIsSending:t,loading:n,onSubmit:function(a){e&&r(Object(A.g)(e,a.message))}}}(e.id),t=a.classes,n=a.messageIsSending,l=a.loading,s=a.onSubmit;return r.a.createElement("div",{className:t.formWrapper},r.a.createElement(De,{onSubmit:s,messageIsSending:n,loading:l}))},ke=Object(l.a)({root:{backgroundColor:"white",width:"100%"}}),Ce=Object(l.a)({formWrapper:{backgroundColor:Ne.a[100],padding:10},form:{display:"flex",alignItems:"center"},fieldWrapper:{flexGrow:1,marginRight:5},textArea:{width:"100%"}}),Le=function(e){var a=e.currentDialog,t=e.userId,n=function(e){var a=we(),t=Object(v.d)(y.i),n=Object(v.d)(y.a),r=Object(v.d)(y.b),l=Object(v.d)(p.c);return{src:null!==e?e.photos.small:void 0,classes:a,messages:t,currentDialogsSidebarItem:n,deletedMessages:r,lang:l}}(a),l=n.src,o=n.classes,i=n.messages,d=n.currentDialogsSidebarItem,u=n.deletedMessages,g=n.lang;return r.a.createElement(s.a,{elevation:6},d===I.a.all||d===I.a.deleted&&u.length?r.a.createElement(c.a,{disablePadding:!0,subheader:r.a.createElement(ee,{currentDialog:a,userId:t})},r.a.createElement(pe,{messages:i,src:l,userId:t})):r.a.createElement("div",{className:o.emptyMessages},r.a.createElement(m.a,{variant:"subtitle1",color:"primary"},Object(S.b)(g,"There ara no deleted messages"))),d===I.a.all&&t&&r.a.createElement(Me,{id:t}))},we=Object(l.a)({btnWrapper:{marginBottom:10},skeleton:{borderRadius:4},emptyMessages:{padding:"8px 16px"}}),Fe=t(806),ze=t(46),Re=t.n(ze),He=t(805),Te=t(299),We=t.n(Te),Ae=function(){var e=function(){var e=Pe(),a=Object(v.d)(y.a),t=Object(v.d)(y.e),n=Object(v.d)(p.c),r=Object(v.c)();return{classes:e,currentDialogsSidebarItem:a,loading:t,onChangeHandle:function(e,a){r(A.c.setCurrentDialogsSidebarItem(a))},allLabel:Object(S.b)(n,"All"),deletedLabel:Object(S.b)(n,"Deleted")}}(),a=e.classes,t=e.currentDialogsSidebarItem,n=e.loading,l=e.onChangeHandle,c=e.allLabel,o=e.deletedLabel;return r.a.createElement(s.a,{className:a.card,elevation:6},r.a.createElement(Fe.a,{classes:{indicator:a.indicator},orientation:"vertical",value:t,onChange:l,className:a.tabs},r.a.createElement(He.a,{label:c,component:d.b,to:"/dialogs",disabled:n,icon:r.a.createElement(We.a,{className:a.icon}),classes:{wrapper:a.wrapper,selected:a.selected,root:a.tabRoot,labelIcon:a.labelIcon}}),r.a.createElement(He.a,{label:o,component:d.b,to:"/dialogs",disabled:n,icon:r.a.createElement(B.a,{className:a.icon}),classes:{wrapper:a.wrapper,selected:a.selected,root:a.tabRoot,labelIcon:a.labelIcon}})))},Pe=Object(l.a)({card:{padding:5},tabs:{borderLeft:"3px solid #ccc"},indicator:{width:2,left:0,right:"auto"},wrapper:{flexDirection:"row",justifyContent:"flex-start",textTransform:"none","& > *:first-child":{marginBottom:"0!important"}},icon:{margin:"0 10px"},selected:{color:Re.a[500],backgroundColor:"#eee"},tabRoot:{padding:0,minWidth:0},labelIcon:{minHeight:50}}),Be=t(161),_e=(a.default=function(){var e=function(){Object(Be.a)();var e=_e(),a=Object(v.c)(),t=Object(v.d)(p.b),r=Object(v.d)(y.d),l=Object(i.g)().userId,s=l?+l:void 0;Object(n.useEffect)((function(){a(Object(A.d)())}),[a]),Object(n.useEffect)((function(){return s&&a(Object(A.e)(s)),function(){a(A.c.setMessages(null))}}),[s,a]);var c=r&&s?r.find((function(e){return e.id===s})):null;return{classes:e,isLoading:t,dialogs:r,userIdNumber:s,currentDialog:c}}(),a=e.classes,t=e.isLoading,l=e.dialogs,s=e.userIdNumber,c=e.currentDialog;return r.a.createElement(r.a.Fragment,null,(!t||l)&&r.a.createElement("div",{className:a.root},r.a.createElement("div",{className:a.firstColumn},r.a.createElement(N,{dialogs:l})),r.a.createElement("div",{className:a.secondColumn},r.a.createElement(Le,{currentDialog:c,userId:s})),r.a.createElement("div",{className:a.lastColumn},r.a.createElement(Ae,null))))},Object(l.a)({root:{display:"flex"},firstColumn:{flexBasis:230,flexShrink:0,marginRight:10},secondColumn:{flexGrow:1,marginRight:10},lastColumn:{flexBasis:140,flexShrink:0}}))}}]);
//# sourceMappingURL=4.0caf216f.chunk.js.map