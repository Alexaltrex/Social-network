(this["webpackJsonpreact-02"]=this["webpackJsonpreact-02"]||[]).push([[4],{606:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t(10),r={getCurrentDate:function(){return new Date},getMonthWord:function(e,a){var t=[{eng:"January",rus:"\u042f\u043d\u0432\u0430\u0440\u044f"},{eng:"February",rus:"\u0424\u0435\u0432\u0440\u0430\u043b\u044f"},{eng:"March",rus:"\u041c\u0430\u0440\u0442\u0430"},{eng:"April",rus:"\u0410\u043f\u0440\u0435\u043b\u044f"},{eng:"May",rus:"\u041c\u0430\u044f"},{eng:"June",rus:"\u0418\u044e\u043d\u044f"},{eng:"July",rus:"\u0418\u044e\u043b\u044f"},{eng:"August",rus:"\u0410\u0432\u0433\u0443\u0441\u0442\u0430"},{eng:"September",rus:"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f"},{eng:"October",rus:"\u041e\u043a\u0442\u044f\u0431\u0440\u044f"},{eng:"November",rus:"\u041d\u043e\u044f\u0431\u0440\u044f"},{eng:"December",rus:"\u0414\u0435\u043a\u0430\u0431\u0440\u044f"}];return"eng"===a?t[e].eng:t[e].rus},dateTranslateFromJS:function(e,a){var t=e.getMonth()+1,n=e.getDate(),r=e.getHours(),l=e.getMinutes();r<10&&(r="0".concat(r)),l<10&&(l="0".concat(l));var s=this.getMonthWord(t,a);return"".concat(n," ").concat(s," in ").concat(r,":").concat(l)},dateTranslateFromAPI:function(e,a){var t=e.slice(5,7),r=this.getMonthWord(+t,a),l="0"===e[8]?e.slice(9,10):e.slice(8,10),s=e.slice(11,13),c=e.slice(14,16);return"".concat(l," ").concat(r," ").concat(Object(n.b)(a,"in")," ").concat(s,":").concat(c)}}},607:function(e,a,t){"use strict";var n=t(35);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(37)).default)(r.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");a.default=l},623:function(e,a,t){"use strict";var n=t(35);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(37)).default)(r.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");a.default=l},624:function(e,a,t){"use strict";var n=t(35);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(37)).default)(r.default.createElement("path",{d:"M19 4h-3.5l-1-1h-5l-1 1H5v2h14zM6 7v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm8 7v4h-4v-4H8l4-4 4 4h-2z"}),"RestoreFromTrash");a.default=l},625:function(e,a,t){"use strict";var n=t(35);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(37)).default)(r.default.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");a.default=l},626:function(e,a,t){"use strict";var n=t(35);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(37)).default)(r.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");a.default=l},627:function(e,a,t){"use strict";var n=t(35);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),l=(0,n(t(37)).default)(r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");a.default=l},633:function(e,a,t){"use strict";t.r(a);var n=t(23),r=t(0),l=t.n(r),s=t(85),c=t(586),o=t(530),i=t(531),d=t(40),m=t(39),u=t(79),g=t(582),b=t(597),f=t(539),p=t(606),v=t(19),E=t(6),h=function(e){var a=e.primary,t=e.secondary,n=e.to,r=e.src,s=function(e){var a=e.secondary,t=e.to,n=e.dialog,r=O(),s=Object(E.d)(v.c),c=Object(d.g)().userId;return{classes:r,selected:(c?+c:void 0)===n.id,renderLink:l.a.useMemo((function(){return l.a.forwardRef((function(e,a){return l.a.createElement(m.b,Object.assign({to:t,ref:a},e))}))}),[t]),secondaryTransformed:p.a.dateTranslateFromAPI(a,s)}}({secondary:t,to:n,dialog:e.dialog}),c=s.classes,o=s.selected,h=s.renderLink,j=s.secondaryTransformed;return l.a.createElement("li",{className:c.item},l.a.createElement(i.a,{button:!0,className:c.listItem,component:h,selected:o},l.a.createElement(b.a,null,l.a.createElement(f.a,{src:r,className:c.avatar})),l.a.createElement(u.a,{color:"primary",variant:"h6"},l.a.createElement(g.a,{primary:a,secondary:j,classes:{primary:c.primary,secondary:c.secondary}}))))},j=function(e){var a=e.dialog;return l.a.createElement(h,{to:"/dialogs/".concat(a.id),primary:a.userName,secondary:a.lastDialogActivityDate,src:a.photos.small?a.photos.small:void 0,dialog:a})},O=Object(s.a)({item:{borderTop:"1px solid #ccc","&:last-child":{borderBottom:"1px solid #ccc"}},avatar:{width:50,height:50,marginRight:10},listItem:{padding:"5px 10px"},secondary:{fontSize:"0.75rem",fontStyle:"italic"},primary:{fontSize:"0.9rem"}}),y=t(594),I=t(98),S=t(108),x=t(10),D=function(){var e={classes:N()}.classes;return l.a.createElement("div",{className:e.skeletonWrapper},l.a.createElement(y.a,{variant:"circle",width:40,height:40,className:e.avatar}),l.a.createElement(y.a,{variant:"rect",width:200,height:45}))},M=function(e){var a=function(e){for(var a=e.dialogs,t=N(),n=Object(E.d)(I.c),r=Object(E.d)(I.a),s=Object(E.d)(I.b),c=Object(E.d)(I.m),o=Object(E.d)(v.c),i=a&&a.map((function(e){return l.a.createElement(j,{key:e.id,dialog:e})})),d=s.map((function(e){return l.a.createElement(j,{key:e.dialog.id,dialog:e.dialog})})),m=c.map((function(e){return l.a.createElement(j,{key:e.dialog.id,dialog:e.dialog})})),u=[],g=0;g<9;g++)u.push(l.a.createElement(D,{key:g}));return{classes:t,dialogsIsLoading:n,currentDialogsSidebarItem:r,deletedMessages:s,spamMessages:c,dialogsElements:i,dialogsDeletedElements:d,dialogsSpamElements:m,skeletonElements:u,thereAreNoDeletedDialogs:Object(x.b)(o,"There are no deleted dialogs")}}({dialogs:e.dialogs}),t=a.classes,n=a.dialogsIsLoading,r=a.currentDialogsSidebarItem,s=a.deletedMessages,i=a.spamMessages,d=a.dialogsElements,m=a.dialogsDeletedElements,g=a.dialogsSpamElements,b=a.skeletonElements,f=a.thereAreNoDeletedDialogs;return l.a.createElement(c.a,{className:t.card,elevation:6},r===S.a.all&&l.a.createElement(l.a.Fragment,null,n?l.a.createElement("div",null,b):l.a.createElement(o.a,{disablePadding:!0},d)),r===S.a.deleted&&l.a.createElement(l.a.Fragment,null,0===s.length?l.a.createElement("div",{className:t.emptyDialogs},l.a.createElement(u.a,{variant:"subtitle1",color:"primary"},f)):l.a.createElement(o.a,{disablePadding:!0},m)),r===S.a.spam&&l.a.createElement(l.a.Fragment,null,0===i.length?l.a.createElement("div",{className:t.emptyDialogs},l.a.createElement(u.a,{variant:"subtitle1",color:"primary"},"There are no spam dialogs")):l.a.createElement(o.a,{disablePadding:!0},g)))},N=Object(s.a)({card:{},avatar:{marginRight:10},btnWrapper:{marginBottom:10},skeletonWrapper:{padding:"0 16px",height:72,display:"flex",alignItems:"center"},emptyDialogs:{padding:"8px 16px"}}),k=t(1),C=t(4),L=(t(3),t(2)),w=t(8),F=t(12),z=r.forwardRef((function(e,a){var t=e.classes,n=e.className,l=e.color,s=void 0===l?"default":l,c=e.component,o=void 0===c?"li":c,i=e.disableGutters,d=void 0!==i&&i,m=e.disableSticky,u=void 0!==m&&m,g=e.inset,b=void 0!==g&&g,f=Object(C.a)(e,["classes","className","color","component","disableGutters","disableSticky","inset"]);return r.createElement(o,Object(k.a)({className:Object(L.default)(t.root,n,"default"!==s&&t["color".concat(Object(F.a)(s))],b&&t.inset,!u&&t.sticky,!d&&t.gutters),ref:a},f))})),R=Object(w.a)((function(e){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:e.palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},colorPrimary:{color:e.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}}),{name:"MuiListSubheader"})(z),T=t(324),H=t(323),W=t(623),A=t.n(W),P=t(32),B=t(607),_=t.n(B),J=t(624),G=t.n(J),V=t(577),q=t(56),K=t(220),Q=t(58),U=t(55),X=t(72),Y=t(20),Z={entering:{transform:"none"},entered:{transform:"none"}},$={enter:Q.b.enteringScreen,exit:Q.b.leavingScreen},ee=r.forwardRef((function(e,a){var t=e.children,n=e.disableStrictModeCompat,l=void 0!==n&&n,s=e.in,c=e.onEnter,o=e.onEntered,i=e.onEntering,d=e.onExit,m=e.onExited,u=e.onExiting,g=e.style,b=e.timeout,f=void 0===b?$:b,p=e.TransitionComponent,v=void 0===p?K.a:p,E=Object(C.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),h=Object(U.a)(),j=h.unstable_strictMode&&!l,O=r.useRef(null),y=Object(Y.a)(t.ref,a),I=Object(Y.a)(j?O:void 0,y),S=function(e){return function(a,t){if(e){var n=j?[O.current,a]:[a,t],r=Object(q.a)(n,2),l=r[0],s=r[1];void 0===s?e(l):e(l,s)}}},x=S(i),D=S((function(e,a){Object(X.b)(e);var t=Object(X.a)({style:g,timeout:f},{mode:"enter"});e.style.webkitTransition=h.transitions.create("transform",t),e.style.transition=h.transitions.create("transform",t),c&&c(e,a)})),M=S(o),N=S(u),L=S((function(e){var a=Object(X.a)({style:g,timeout:f},{mode:"exit"});e.style.webkitTransition=h.transitions.create("transform",a),e.style.transition=h.transitions.create("transform",a),d&&d(e)})),w=S(m);return r.createElement(v,Object(k.a)({appear:!0,in:s,nodeRef:j?O:void 0,onEnter:D,onEntered:M,onEntering:x,onExit:L,onExited:w,onExiting:N,timeout:f},E),(function(e,a){return r.cloneElement(t,Object(k.a)({style:Object(k.a)({transform:"scale(0)",visibility:"exited"!==e||s?void 0:"hidden"},Z[e],g,t.props.style),ref:I},a))}))})),ae=function(e){var a=e.currentDialog,t=e.userId,n=function(e){var a,t=e.currentDialog,n=e.userId,r=te(),l=Object(E.d)(I.l),s=Object(E.d)(I.k),c=Object(E.d)(I.c),o=Object(E.d)(I.e),i=Object(E.d)(I.b),d=Object(E.d)(I.a),m=Object(E.d)(v.c),u=!o&&t?"/users/".concat(t.id):"#",g=n&&i.find((function(e){return+e.dialog.id===+n})),b=g&&g.dialog;d===S.a.all?a=t&&t.photos.small?t.photos.small:void 0:d===S.a.deleted&&(a=b&&b.photos.small?b.photos.small:void 0);var f=Object(E.c)(),p=Object(x.b)(m,"messages"),h=Object(x.b)(m,"Delete"),j=Object(x.b)(m,"Select a dialog"),O=Object(x.b)(m,"Restore"),y=Object(x.b)(m,"Select deleted dialog");return{classes:r,selectedMessages:l,selectedDeletedMessages:s,dialogsIsLoading:c,loading:o,currentDialogsSidebarItem:d,to:u,currentDeletedDialog:b,src:a,onDeleteHandler:function(){n&&t&&f(P.h.deleteMessages(l,t))},onCleanArrayHandler:function(){d===S.a.all?f(P.g.cleanSelectedMessages()):d===S.a.deleted&&f(P.g.cleanSelectedDeletedMessages())},onRestoreHandler:function(){n&&t&&f(P.h.restoreMessages(s))},messagesLabel:p,deleteLabel:h,selectADialogLabel:j,restoreLabel:O,selectDeletedDialogLabel:y}}({currentDialog:a,userId:t}),r=n.classes,s=n.selectedMessages,c=n.selectedDeletedMessages,o=n.dialogsIsLoading,i=n.loading,d=n.currentDialogsSidebarItem,g=n.to,b=n.currentDeletedDialog,p=n.src,h=n.onDeleteHandler,j=n.onCleanArrayHandler,O=n.onRestoreHandler,D=n.messagesLabel,M=n.deleteLabel,N=n.selectADialogLabel,k=n.restoreLabel,C=n.selectDeletedDialogLabel;return l.a.createElement("div",{className:r.headerWrapper},d===S.a.all&&l.a.createElement(l.a.Fragment,null,o?l.a.createElement(R,{component:"div",className:r.header},l.a.createElement(y.a,{variant:"circle",width:40,height:40,className:r.avatar}),l.a.createElement(y.a,{variant:"rect",width:200,height:25})):l.a.createElement(R,{component:"div",className:r.header},a?l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{src:p,className:r.avatar}),l.a.createElement(T.a,{component:m.b,className:r.link,to:g,variant:"subtitle2"},a.userName),0!==s.length&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:r.messagesCount},l.a.createElement(u.a,{variant:"body2",color:"textPrimary"},s.length," ",D),l.a.createElement(H.a,{onClick:j,className:r.iconClean,disabled:i},l.a.createElement(A.a,null))),l.a.createElement("div",{className:r.iconButtonWrapper},l.a.createElement(V.a,{title:M,TransitionComponent:ee,arrow:!0},l.a.createElement(H.a,{onClick:h,className:r.iconClean,disabled:i},l.a.createElement(_.a,null)))))):l.a.createElement(u.a,{variant:"subtitle1",color:"primary"},N))),d===S.a.deleted&&l.a.createElement(R,{component:"div",className:r.header},t&&b?l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{src:p,className:r.avatar}),l.a.createElement(T.a,{component:m.b,className:r.link,to:g,variant:"subtitle2"},b.userName),0!==c.length&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:r.messagesCount},l.a.createElement(u.a,{variant:"body2",color:"textPrimary"},c.length," ",D),l.a.createElement(H.a,{onClick:j,className:r.iconClean,disabled:i},l.a.createElement(A.a,null))),l.a.createElement("div",{className:r.iconButtonWrapper},l.a.createElement(V.a,{title:k,TransitionComponent:ee,arrow:!0},l.a.createElement(H.a,{onClick:O,className:r.iconClean,disabled:i},l.a.createElement(G.a,null)))))):l.a.createElement(u.a,{variant:"subtitle1",color:"primary"},C)))},te=Object(s.a)({avatar:{marginRight:10},header:{display:"flex",alignItems:"center",height:50},headerWrapper:{padding:5,borderBottom:"1px solid #ccc"},link:{marginRight:15},messagesCount:{display:"flex",alignItems:"center",marginRight:30},iconClean:{padding:5},iconButtonWrapper:{marginRight:10}}),ne=t(627),re=t.n(ne),le=t(82),se=t(221),ce=t(626),oe=t.n(ce),ie=t(625),de=t.n(ie),me=r.forwardRef((function(e,a){var t=e.classes,n=e.className,l=e.color,s=void 0===l?"inherit":l,c=e.component,o=void 0===c?"span":c,i=e.fontSize,d=void 0===i?"default":i,m=Object(C.a)(e,["classes","className","color","component","fontSize"]);return r.createElement(o,Object(k.a)({className:Object(L.default)("material-icons",t.root,n,"inherit"!==s&&t["color".concat(Object(F.a)(s))],"default"!==d&&t["fontSize".concat(Object(F.a)(d))]),"aria-hidden":!0,ref:a},m))}));me.muiName="Icon";var ue=Object(w.a)((function(e){return{root:{userSelect:"none",fontSize:e.typography.pxToRem(24),width:"1em",height:"1em",overflow:"hidden",flexShrink:0},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(36)}}}),{name:"MuiIcon"})(me),ge=t(70),be=function(e){var a=e.message,t=e.src,s=function(e){var a,t=e.message,s=e.src,c=fe(),o=Object(r.useState)(!1),i=Object(n.a)(o,2),d=i[0],m=i[1],u=Object(E.d)(le.b),g=Object(E.d)(se.h),b=Object(E.d)(I.l),f=Object(E.d)(I.k),p=Object(E.d)(I.g),h=Object(E.d)(I.a),j=Object(E.d)(v.c),O=Object(E.c)();a=h===S.a.all?!!b.find((function(e){return e.id===t.id})):h===S.a.deleted&&!!f.find((function(e){return e.id===t.id}));var y=g?t.senderId===u?g.photos.small:s:void 0,x=t.senderId===u?"/profile":"/users/".concat(t.senderId),D=t.senderId===u?l.a.createElement(de.a,null):l.a.createElement(oe.a,null);return{classes:c,hover:d,selectedMessages:b,messagesIsDeleting:p,lang:j,selected:a,onClickHandler:function(){h===S.a.all?O(a?P.g.removeFromSelectedMessages(t):P.g.addToSelectedMessages(t)):h===S.a.deleted&&O(a?P.g.removeFromSelectedDeletedMessages(t):P.g.addToSelectedDeletedMessages(t))},onMouseEnterHandler:function(){m(!0)},onMouseLeaveHandler:function(){m(!1)},srcFinally:y,to:x,icon:D}}({message:a,src:t}),c=s.classes,o=s.hover,d=s.selectedMessages,g=s.messagesIsDeleting,b=s.lang,h=s.selected,j=s.onClickHandler,O=s.onMouseEnterHandler,y=s.onMouseLeaveHandler,x=s.srcFinally,D=s.to,M=s.icon;return l.a.createElement("div",{className:c.listItemWrapper},l.a.createElement(i.a,{button:!0,onClick:j,selected:h,className:c.listItem,classes:{selected:c.selected},onMouseEnter:O,onMouseLeave:y},(o&&!h||h)&&l.a.createElement(re.a,{className:c.checkedIcon,color:h?"inherit":"disabled",fontSize:"small"}),l.a.createElement(f.a,{src:x,className:c.avatar}),l.a.createElement("div",{className:c.messageBlock},l.a.createElement("div",{className:c.title},l.a.createElement(T.a,{component:m.b,className:c.link,to:D,variant:"subtitle2"},a.senderName),l.a.createElement(u.a,{variant:"subtitle2",color:"textSecondary"},p.a.dateTranslateFromAPI(a.addedAt,b))),l.a.createElement("div",null,a.body)),l.a.createElement(ue,{className:c.icon},M)),g&&d.find((function(e){return e.id===a.id}))&&l.a.createElement(ge.a,{size:50,styleType:"absolute"}))},fe=Object(s.a)({listItemWrapper:{position:"relative"},listItem:{boxSizing:"border-box",margin:"2px 0px",padding:8,paddingLeft:40,position:"relative",display:"flex",alignItems:"flex-start"},checkedIcon:{position:"absolute",top:"50%",left:5,transform:"translate(0, -50%)"},selected:{backgroundColor:"red"},avatar:{marginRight:10},title:{display:"flex"},link:{marginRight:10},messageBlock:{flexGrow:1},icon:{marginRight:10}}),pe=function(e){var a=e.messages,t=function(e){var a=e.messages,t=e.src,n=e.userId,s=ve(),c=Object(E.d)(I.h),o=Object(E.d)(I.f),i=Object(E.d)(I.g),d=Object(E.d)(I.b),m=Object(E.d)(I.a),u=Object(E.c)();Object(r.useEffect)((function(){u(P.g.cleanSelectedMessages())}),[n,u]);var g=a&&a.map((function(e){return l.a.createElement(be,{key:e.id,message:e,src:t})})),b=!!n&&d.find((function(e){return e.dialog.id===+n})),f=b&&b.messages.map((function(e){return l.a.createElement(be,{key:e.id,message:e,src:t})}));return{classes:s,messagesIsLoading:c,messageIsSending:o,messagesIsDeleting:i,currentDialogsSidebarItem:m,elements:g,deletedMessagesItem:b,elementsDeleted:f}}({messages:a,src:e.src,userId:e.userId}),n=t.classes,s=t.messagesIsLoading,c=t.messageIsSending,o=t.messagesIsDeleting,i=t.currentDialogsSidebarItem,d=t.elements,m=t.deletedMessagesItem,u=t.elementsDeleted;return l.a.createElement(l.a.Fragment,null,i===S.a.all&&l.a.createElement(l.a.Fragment,null,o&&l.a.createElement(l.a.Fragment,null,d),c&&l.a.createElement(l.a.Fragment,null,a?l.a.createElement(l.a.Fragment,null,d):null),s&&l.a.createElement("div",{className:n.circularPreloaderWrapper},l.a.createElement(ge.a,{size:36})),!s&&!c&&!o&&l.a.createElement(l.a.Fragment,null,a?l.a.createElement(l.a.Fragment,null,d):null)),i===S.a.deleted&&m&&l.a.createElement(l.a.Fragment,null,u))},ve=Object(s.a)({circularPreloaderWrapper:{margin:"10px 0"},emptyMessages:{padding:"8px 16px"}}),Ee=t(157),he=t.n(Ee),je=t(231),Oe=t(53),ye=t(210),Ie=t(54),Se=t(211),xe=t(330),De=t.n(xe),Me=Object(Se.a)({form:"send-message-from-dialog",onSubmitSuccess:function(e,a){a(Object(Ie.a)("send-message-from-dialog"))}})((function(e){var a=e.handleSubmit,t=e.submitting,n=e.pristine,r=e.loading,s=function(e){var a=Ce(),t=ke(),n=Object(E.d)(v.c);return{classes:a,classesField:t,label:e?Object(x.b)(n,"Message is sent..."):Object(x.b)(n,"Enter your message"),placeholder:Object(x.b)(n,"Enter your message")}}(e.messageIsSending),c=s.classes,o=s.classesField,i=s.label,d=s.placeholder;return l.a.createElement("form",{onSubmit:a,className:c.form},l.a.createElement("div",{className:c.fieldWrapper},l.a.createElement(ye.a,{name:"message",component:je.a,validate:[Oe.d],autoFocus:!0,rows:1,className:c.textArea,classes:o,label:i,placeholder:d,size:"small"})),l.a.createElement(H.a,{type:"submit",color:"primary",disabled:t||n||r},l.a.createElement(he.a,null)))})),Ne=function(e){var a=function(e){var a=Ce(),t=Object(E.d)(I.f),n=Object(E.d)(I.e),r=Object(E.c)();return{classes:a,messageIsSending:t,loading:n,onSubmit:function(a){e&&r(P.h.sendMessage(e,a.message))}}}(e.id),t=a.classes,n=a.messageIsSending,r=a.loading,s=a.onSubmit;return l.a.createElement("div",{className:t.formWrapper},l.a.createElement(Me,{onSubmit:s,messageIsSending:n,loading:r}))},ke=Object(s.a)({root:{backgroundColor:"white",width:"100%"}}),Ce=Object(s.a)({formWrapper:{backgroundColor:De.a[100],padding:10},form:{display:"flex",alignItems:"center"},fieldWrapper:{flexGrow:1,marginRight:5},textArea:{width:"100%"}}),Le=function(e){var a=e.currentDialog,t=e.userId,n=function(e){var a=we(),t=Object(E.d)(I.i),n=Object(E.d)(I.a),r=Object(E.d)(I.b),l=Object(E.d)(v.c);return{src:null!==e?e.photos.small:void 0,classes:a,messages:t,currentDialogsSidebarItem:n,deletedMessages:r,lang:l}}(a),r=n.src,s=n.classes,i=n.messages,d=n.currentDialogsSidebarItem,m=n.deletedMessages,g=n.lang;return l.a.createElement(c.a,{elevation:6},d===S.a.all||d===S.a.deleted&&m.length?l.a.createElement(o.a,{disablePadding:!0,subheader:l.a.createElement(ae,{currentDialog:a,userId:t})},l.a.createElement(pe,{messages:i,src:r,userId:t})):l.a.createElement("div",{className:s.emptyMessages},l.a.createElement(u.a,{variant:"subtitle1",color:"primary"},Object(x.b)(g,"There ara no deleted messages"))),d===S.a.all&&t&&l.a.createElement(Ne,{id:t}))},we=Object(s.a)({btnWrapper:{marginBottom:10},skeleton:{borderRadius:4},emptyMessages:{padding:"8px 16px"}}),Fe=t(599),ze=t(51),Re=t.n(ze),Te=t(598),He=t(275),We=t.n(He),Ae=function(){var e=function(){var e=Pe(),a=Object(E.d)(I.a),t=Object(E.d)(I.e),n=Object(E.d)(v.c),r=Object(E.c)();return{classes:e,currentDialogsSidebarItem:a,loading:t,onChangeHandle:function(e,a){r(P.g.setCurrentDialogsSidebarItem(a))},allLabel:Object(x.b)(n,"All"),deletedLabel:Object(x.b)(n,"Deleted")}}(),a=e.classes,t=e.currentDialogsSidebarItem,n=e.loading,r=e.onChangeHandle,s=e.allLabel,o=e.deletedLabel;return l.a.createElement(c.a,{className:a.card,elevation:6},l.a.createElement(Fe.a,{classes:{indicator:a.indicator},orientation:"vertical",value:t,onChange:r,className:a.tabs},l.a.createElement(Te.a,{label:s,component:m.b,to:"/dialogs",disabled:n,icon:l.a.createElement(We.a,{className:a.icon}),classes:{wrapper:a.wrapper,selected:a.selected,root:a.tabRoot,labelIcon:a.labelIcon}}),l.a.createElement(Te.a,{label:o,component:m.b,to:"/dialogs",disabled:n,icon:l.a.createElement(_.a,{className:a.icon}),classes:{wrapper:a.wrapper,selected:a.selected,root:a.tabRoot,labelIcon:a.labelIcon}})))},Pe=Object(s.a)({card:{padding:5},tabs:{borderLeft:"3px solid #ccc"},indicator:{width:2,left:0,right:"auto"},wrapper:{flexDirection:"row",justifyContent:"flex-start",textTransform:"none","& > *:first-child":{marginBottom:"0!important"}},icon:{margin:"0 10px"},selected:{color:Re.a[500],backgroundColor:"#eee"},tabRoot:{padding:0,minWidth:0},labelIcon:{minHeight:50}}),Be=t(113),_e=t(30),Je=t(90),Ge=(a.default=function(){var e=function(){Object(Be.a)(),Object(Je.a)();var e=Ge(),a=Object(E.c)(),t=Object(E.d)(v.b),l=Object(E.d)(I.d),s=Object(d.g)().userId,c=s?+s:void 0;Object(r.useEffect)((function(){a(P.h.getDialogs())}),[a]),Object(r.useEffect)((function(){return c&&a(P.h.getMessages(c)),function(){a(P.g.setMessages(null))}}),[c,a]);var o=l&&c?l.find((function(e){return e.id===c})):null,i=Object(E.d)(I.a),m=Object(_e.e)("dialogTab",_e.b),u=Object(n.a)(m,2),g=u[0],b=u[1];return Object(r.useEffect)((function(){a(P.g.setCurrentDialogsSidebarItem(g||i))}),[a]),Object(r.useEffect)((function(){b(0!==i?i:void 0)}),[i]),{classes:e,isLoading:t,dialogs:l,userIdNumber:c,currentDialog:o}}(),a=e.classes,t=e.isLoading,s=e.dialogs,c=e.userIdNumber,o=e.currentDialog;return l.a.createElement(l.a.Fragment,null,(!t||s)&&l.a.createElement("div",{className:a.root},l.a.createElement("div",{className:a.firstColumn},l.a.createElement(M,{dialogs:s})),l.a.createElement("div",{className:a.secondColumn},l.a.createElement(Le,{currentDialog:o,userId:c})),l.a.createElement("div",{className:a.lastColumn},l.a.createElement(Ae,null))))},Object(s.a)({root:{display:"flex"},firstColumn:{flexBasis:230,flexShrink:0,marginRight:10},secondColumn:{flexGrow:1,marginRight:10},lastColumn:{flexBasis:140,flexShrink:0}}))}}]);
//# sourceMappingURL=4.2c384e9b.chunk.js.map