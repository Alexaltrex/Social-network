{"version":3,"sources":["utilities/date.ts","../node_modules/@material-ui/icons/DeleteForever.js","../node_modules/@material-ui/icons/Close.js","../node_modules/@material-ui/icons/RestoreFromTrash.js","../node_modules/@material-ui/icons/ArrowForward.js","../node_modules/@material-ui/icons/ArrowBack.js","../node_modules/@material-ui/icons/CheckCircle.js","Components/Main/Dialogs/DialogsListItem.tsx","Components/Main/Dialogs/DialogsList.tsx","../node_modules/@material-ui/core/esm/ListSubheader/ListSubheader.js","../node_modules/@material-ui/core/esm/Zoom/Zoom.js","Components/Main/Dialogs/CurrentDialogHeader.tsx","../node_modules/@material-ui/core/esm/Icon/Icon.js","Components/Main/Dialogs/CurrentDialogMessageItem.tsx","Components/Main/Dialogs/CurrentDialogMessages.tsx","Components/Main/Dialogs/CurrentDialogForm.tsx","Components/Main/Dialogs/CurrentDialog.tsx","Components/Main/Dialogs/DialogsSidebar.tsx","Components/Main/Dialogs/Dialogs.tsx"],"names":["DATE","getCurrentDate","Date","getMonthWord","month","lang","monthArray","eng","rus","dateTranslateFromJS","date","getMonth","day","getDate","hours","getHours","minutes","getMinutes","monthWord","this","dateTranslateFromAPI","slice","hour","translate","_interopRequireDefault","require","Object","defineProperty","exports","value","default","_react","_default","createElement","d","ListItemLink","primary","secondary","to","src","dialog","classes","useStyles","useSelector","getLang","userId","useParams","selected","undefined","id","renderLink","React","useMemo","forwardRef","itemProps","ref","secondaryTransformed","useListItemLink","className","item","ListItem","button","listItem","component","ListItemAvatar","Avatar","avatar","Typography","color","variant","ListItemText","DialogsListItem","userName","lastDialogActivityDate","photos","small","makeStyles","borderTop","borderBottom","width","height","marginRight","padding","fontSize","fontStyle","SkeletonListItem","skeletonWrapper","Skeleton","DialogsList","dialogs","dialogsIsLoading","getDialogsIsLoading","currentDialogsSidebarItem","getCurrentDialogsSidebarItem","deletedMessages","getDeletedMessages","spamMessages","getSpamMessages","dialogsElements","map","key","dialogsDeletedElements","dialogsSpamElements","skeletonElements","i","push","thereAreNoDeletedDialogs","useDialogsList","Card","card","elevation","DialogsSidebarItemEnum","all","List","disablePadding","deleted","length","emptyDialogs","spam","btnWrapper","marginBottom","display","alignItems","ListSubheader","props","_props$color","_props$component","Component","_props$disableGutters","disableGutters","_props$disableSticky","disableSticky","_props$inset","inset","other","_objectWithoutProperties","_extends","clsx","root","concat","capitalize","sticky","gutters","withStyles","theme","boxSizing","lineHeight","listStyle","palette","text","fontFamily","typography","fontWeight","fontWeightMedium","pxToRem","colorPrimary","main","colorInherit","paddingLeft","paddingRight","position","top","zIndex","backgroundColor","name","styles","entering","transform","entered","defaultTimeout","enter","duration","enteringScreen","exit","leavingScreen","Zoom","children","_props$disableStrictM","disableStrictModeCompat","inProp","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","_props$timeout","timeout","_props$TransitionComp","TransitionComponent","Transition","useTheme","enableStrictModeCompat","unstable_strictMode","nodeRef","foreignRef","useForkRef","handleRef","normalizedTransitionCallback","callback","nodeOrAppearing","maybeAppearing","_ref","current","_ref2","_slicedToArray","node","isAppearing","handleEntering","handleEnter","reflow","transitionProps","getTransitionProps","mode","webkitTransition","transitions","create","transition","handleEntered","handleExiting","handleExit","handleExited","appear","state","childProps","visibility","CurrentDialogHeader","currentDialog","selectedMessages","getSelectedMessages","selectedDeletedMessages","getSelectedDeletedMessages","loading","getLoading","deletedMessagesItem","find","el","currentDeletedDialog","dispatch","useDispatch","messagesLabel","deleteLabel","selectADialogLabel","restoreLabel","selectDeletedDialogLabel","onDeleteHandler","dialogsSagaAC","deleteMessages","onCleanArrayHandler","dialogsAC","cleanSelectedMessages","cleanSelectedDeletedMessages","onRestoreHandler","restoreMessages","useCurrentDialogHeader","headerWrapper","header","Link","RouterLink","link","messagesCount","IconButton","onClick","iconClean","disabled","iconButtonWrapper","Tooltip","title","arrow","Icon","_props$fontSize","muiName","userSelect","overflow","flexShrink","colorSecondary","colorAction","action","active","colorError","error","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeLarge","CurrentDialogMessageItem","message","useState","hover","setHover","myId","getId","profile","getProfileSelector","messagesIsDeleting","getMessagesIsDeleting","srcFinally","senderId","icon","onClickHandler","removeFromSelectedMessages","addToSelectedMessages","removeFromSelectedDeletedMessages","addToSelectedDeletedMessages","onMouseEnterHandler","onMouseLeaveHandler","useCurrentDialogMessageItem","listItemWrapper","onMouseEnter","onMouseLeave","checkedIcon","messageBlock","senderName","addedAt","body","CircularPreloader","size","styleType","margin","left","flexGrow","CurrentDialogMessages","messages","messagesIsLoading","getMessagesIsLoading","messageIsSending","getMessageIsSending","useEffect","elements","elementsDeleted","useCurrentDialogMessages","circularPreloaderWrapper","emptyMessages","ReduxForm","reduxForm","form","onSubmitSuccess","result","reset","handleSubmit","submitting","pristine","classesField","useStylesField","label","placeholder","useForm","onSubmit","fieldWrapper","Field","RenderTextAreaField","validate","shouldNotBeEmpty","autoFocus","rows","textArea","type","CurrentDialogForm","formValue","sendMessage","useCurrentDialogForm","formWrapper","grey","CurrentDialog","getMessagesSelector","useCurrentDialog","subheader","skeleton","borderRadius","DialogsSidebar","onChangeHandle","event","newValue","setCurrentDialogsSidebarItem","allLabel","deletedLabel","useDialogsSidebar","Tabs","indicator","orientation","onChange","tabs","Tab","wrapper","tabRoot","labelIcon","borderLeft","right","flexDirection","justifyContent","textTransform","indigo","minWidth","minHeight","Dialogs","useAuthRedirect","useCommonQueryParams","isLoading","getIsLoading","getDialogsSelector","userIdNumber","getDialogs","getMessages","setMessages","useQueryParam","NumberParam","dialogsSidebarItemQuery","setDialogsSidebarItemQuery","useDialogs","firstColumn","secondColumn","lastColumn","flexBasis"],"mappings":"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","file":"static/js/4.2c384e9b.chunk.js","sourcesContent":["import {LangType} from \"../types/types\";\r\nimport {translate} from \"../const/lang\";\r\n\r\n// получение текущей даты\r\n// RETURN - JS DATE\r\nexport const DATE = {\r\n    getCurrentDate(): Date {\r\n        return new Date();\r\n    },\r\n\r\n    // 2 -> February\r\n    getMonthWord(month: number, lang: LangType): string {\r\n        const monthArray = [\r\n            {'eng': \"January\", 'rus': 'Января'},\r\n            {'eng': \"February\", 'rus': 'Февраля'},\r\n            {'eng': \"March\", 'rus': 'Марта'},\r\n            {'eng': \"April\", 'rus': 'Апреля'},\r\n            {'eng': \"May\", 'rus': 'Мая'},\r\n            {'eng': \"June\", 'rus': 'Июня'},\r\n            {'eng': \"July\", 'rus': 'Июля'},\r\n            {'eng': \"August\", 'rus': 'Августа'},\r\n            {'eng': \"September\", 'rus': 'Сентября'},\r\n            {'eng': \"October\", 'rus': 'Октября'},\r\n            {'eng': \"November\", 'rus': 'Ноября'},\r\n            {'eng': \"December\", 'rus': 'Декабря'},\r\n           ];\r\n        return lang === 'eng' ? monthArray[month].eng : monthArray[month].rus\r\n    },\r\n\r\n    // JS Date -> '7 november in 10:10'\r\n    dateTranslateFromJS(date: Date, lang: LangType): string {\r\n        let month = date.getMonth() + 1;\r\n        let day = date.getDate();\r\n        let hours = date.getHours() as number | string;\r\n        let minutes = date.getMinutes() as number | string;\r\n\r\n        if (hours < 10) {\r\n            hours = `0${hours}`\r\n        };\r\n\r\n        if (minutes < 10) {\r\n            minutes = `0${minutes}`\r\n        };\r\n\r\n        let monthWord = this.getMonthWord(month, lang);\r\n        return `${day} ${monthWord} in ${hours}:${minutes}`;\r\n    },\r\n\r\n    // '2020-10-18T21:22:20.46' -> '18 October in 21:22'\r\n    dateTranslateFromAPI(date: string, lang: LangType) {\r\n        //const year = date.slice(0, 4);\r\n        const month = date.slice(5, 7);\r\n        const monthWord = this.getMonthWord(+month, lang);\r\n        const day = date[8] === '0' ? date.slice(9, 10) : date.slice(8, 10);\r\n        const hour = date.slice(11, 13);\r\n        const minutes = date.slice(14, 16);\r\n        return `${day} ${monthWord} ${translate(lang, 'in')} ${hour}:${minutes}`\r\n    }\r\n};\r\n\r\n//======================== TYPE =======================\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteForever');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 4h-3.5l-1-1h-5l-1 1H5v2h14zM6 7v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm8 7v4h-4v-4H8l4-4 4 4h-2z\"\n}), 'RestoreFromTrash');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z\"\n}), 'ArrowForward');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"\n}), 'ArrowBack');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckCircle');\n\nexports.default = _default;","import React from \"react\";\r\nimport {DialogType} from \"../../../DAL/dialogs-api\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {ListItem} from \"@material-ui/core\";\r\nimport {Link as RouterLink, LinkProps as RouterLinkProps, useParams} from 'react-router-dom';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport {DATE} from \"../../../utilities/date\";\r\nimport {UseParamsType} from \"../../../types/types\";\r\nimport {getLang} from \"../../../redux/selectors/app-selectors\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst useListItemLink = ({secondary, to, dialog}: UseListItemLinkPropsType) => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    let {userId} = useParams<UseParamsType>();\r\n    const userIdNumber: number | undefined = userId ? +userId : undefined;\r\n    const selected = userIdNumber === dialog.id;\r\n    const renderLink = React.useMemo(\r\n        () =>\r\n            React.forwardRef<any, Omit<RouterLinkProps, 'to'>>((itemProps, ref) => (\r\n                <RouterLink to={to} ref={ref} {...itemProps} />\r\n            )),\r\n        [to],\r\n    );\r\n    const secondaryTransformed = DATE.dateTranslateFromAPI(secondary, lang);\r\n    return {classes, selected, renderLink, secondaryTransformed}\r\n}\r\n\r\n\r\n//======================= COMPONENT ===============================\r\nconst ListItemLink: React.FC<ListItemLinkPropsType> = ({primary, secondary, to, src, dialog}) => {\r\n    const {classes, selected, renderLink, secondaryTransformed} = useListItemLink({secondary, to, dialog});\r\n\r\n    return (\r\n        <li className={classes.item}>\r\n            <ListItem button\r\n                      className={classes.listItem}\r\n                      component={renderLink}\r\n                      selected={selected}\r\n            >\r\n                <ListItemAvatar>\r\n                    <Avatar src={src} className={classes.avatar}/>\r\n                </ListItemAvatar>\r\n                <Typography color='primary' variant='h6'>\r\n                    <ListItemText primary={primary}\r\n                                  secondary={secondaryTransformed}\r\n                                  classes={{\r\n                                      primary: classes.primary,\r\n                                      secondary: classes.secondary\r\n                                  }}\r\n                    />\r\n                </Typography>\r\n            </ListItem>\r\n        </li>\r\n    );\r\n};\r\n\r\nconst DialogsListItem: React.FC<PropsType> = ({dialog}) => {\r\n\r\n    return (\r\n        <ListItemLink\r\n            to={`/dialogs/${dialog.id}`}\r\n            primary={dialog.userName}\r\n            secondary={dialog.lastDialogActivityDate}\r\n            src={dialog.photos.small ? dialog.photos.small : undefined}\r\n            dialog={dialog}\r\n        >\r\n        </ListItemLink>\r\n    )\r\n};\r\nexport default DialogsListItem;\r\n\r\n//===================== TYPE =======================\r\ntype ListItemLinkPropsType = {\r\n    primary: string\r\n    secondary: string\r\n    to: string\r\n    src: string | undefined\r\n    dialog: DialogType\r\n}\r\n\r\ntype PropsType = {\r\n    dialog: DialogType\r\n}\r\n\r\ntype UseListItemLinkPropsType = {\r\n    secondary: string\r\n    to: string\r\n    dialog: DialogType\r\n}\r\n\r\n//===================== STYLE ======================\r\nconst useStyles = makeStyles({\r\n    item: {\r\n        borderTop: '1px solid #ccc',\r\n        '&:last-child': {\r\n            borderBottom: '1px solid #ccc'\r\n        },\r\n    },\r\n    avatar: {\r\n        width: 50,\r\n        height: 50,\r\n        marginRight: 10\r\n    },\r\n    listItem: {\r\n        padding: '5px 10px'\r\n    },\r\n    secondary: {\r\n        fontSize: '0.75rem',\r\n        fontStyle: 'italic'\r\n    },\r\n    primary: {\r\n        fontSize: '0.9rem',\r\n    }\r\n});","import {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Card} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport {DialogType} from \"../../../DAL/dialogs-api\";\r\nimport List from \"@material-ui/core/List\";\r\nimport DialogsListItem from \"./DialogsListItem\";\r\nimport {Skeleton} from \"@material-ui/lab\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {\r\n    getCurrentDialogsSidebarItem,\r\n    getDeletedMessages,\r\n    getDialogsIsLoading,\r\n    getSpamMessages\r\n} from \"../../../redux/selectors/dialogs-selectors\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {DialogsSidebarItemEnum} from \"../../../types/types\";\r\nimport {translate} from \"../../../const/lang\";\r\nimport {getLang} from \"../../../redux/selectors/app-selectors\";\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst useSkeletonListItem = () => {\r\n    const classes = useStyles();\r\n    return {classes}\r\n}\r\n\r\n//======================= COMPONENT ===============================\r\nconst SkeletonListItem = () => {\r\n    const {classes} = useSkeletonListItem();\r\n    return (\r\n        <div className={classes.skeletonWrapper}>\r\n            <Skeleton variant=\"circle\" width={40} height={40} className={classes.avatar}/>\r\n            <Skeleton variant=\"rect\" width={200} height={45}/>\r\n        </div>\r\n    )\r\n};\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst useDialogsList = ({dialogs}: PropsType) => {\r\n    const classes = useStyles();\r\n    const dialogsIsLoading = useSelector(getDialogsIsLoading);\r\n    const currentDialogsSidebarItem = useSelector(getCurrentDialogsSidebarItem);\r\n    const deletedMessages = useSelector(getDeletedMessages);\r\n    const spamMessages = useSelector(getSpamMessages);\r\n    const lang = useSelector(getLang);\r\n    const dialogsElements = dialogs && dialogs\r\n        .map(item => <DialogsListItem key={item.id}\r\n                                      dialog={item}/>);\r\n    const dialogsDeletedElements = deletedMessages\r\n        .map(item => <DialogsListItem key={item.dialog.id}\r\n                                      dialog={item.dialog}/>);\r\n    const dialogsSpamElements = spamMessages\r\n        .map(item => <DialogsListItem key={item.dialog.id}\r\n                                      dialog={item.dialog}/>);\r\n    const skeletonElements = [] as Array<React.ReactElement>;\r\n    for (let i = 0; i < 9; i++) {\r\n        skeletonElements.push(<SkeletonListItem key={i}/>)\r\n    }\r\n    const thereAreNoDeletedDialogs = translate(lang, 'There are no deleted dialogs')\r\n\r\n    return {classes, dialogsIsLoading, currentDialogsSidebarItem,\r\n        deletedMessages, spamMessages, dialogsElements,\r\n        dialogsDeletedElements, dialogsSpamElements, skeletonElements,\r\n        thereAreNoDeletedDialogs\r\n    }\r\n};\r\n\r\n//======================= COMPONENT ===============================\r\nconst DialogsList: React.FC<PropsType> = ({dialogs}) => {\r\n    const {classes, dialogsIsLoading, currentDialogsSidebarItem,\r\n        deletedMessages, spamMessages, dialogsElements,\r\n        dialogsDeletedElements, dialogsSpamElements, skeletonElements,\r\n        thereAreNoDeletedDialogs\r\n    } = useDialogsList({dialogs});\r\n\r\n    return (\r\n        <Card className={classes.card} elevation={6}>\r\n            {\r\n                currentDialogsSidebarItem === DialogsSidebarItemEnum.all &&\r\n                <>\r\n                    {dialogsIsLoading\r\n                        ? <div>\r\n                            {skeletonElements}\r\n                        </div>\r\n                        : <List disablePadding>\r\n                            {dialogsElements}\r\n                        </List>\r\n                    }\r\n                </>\r\n            }\r\n\r\n            {\r\n                currentDialogsSidebarItem === DialogsSidebarItemEnum.deleted &&\r\n                <>\r\n                    {deletedMessages.length === 0\r\n                        ? <div className={classes.emptyDialogs}>\r\n                            <Typography variant='subtitle1' color='primary'>\r\n                                {thereAreNoDeletedDialogs}\r\n                            </Typography>\r\n\r\n                        </div>\r\n                        : <List disablePadding>\r\n                            {dialogsDeletedElements}\r\n                        </List>\r\n                    }\r\n                </>\r\n            }\r\n\r\n            {\r\n                currentDialogsSidebarItem === DialogsSidebarItemEnum.spam &&\r\n                <>\r\n                    {spamMessages.length === 0\r\n                        ? <div className={classes.emptyDialogs}>\r\n                            <Typography variant='subtitle1' color='primary'>\r\n                                There are no spam dialogs\r\n                            </Typography>\r\n\r\n                        </div>\r\n                        : <List disablePadding>\r\n                            {dialogsSpamElements}\r\n                        </List>\r\n                    }\r\n                </>\r\n            }\r\n\r\n        </Card>\r\n    )\r\n};\r\n\r\nexport default DialogsList;\r\n\r\n//============================ TYPE ================================================\r\ntype PropsType = {\r\n    dialogs: null | Array<DialogType>\r\n}\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    card: {},\r\n    avatar: {\r\n        marginRight: 10\r\n    },\r\n    btnWrapper: {\r\n        marginBottom: 10\r\n    },\r\n    skeletonWrapper: {\r\n        padding: '0 16px',\r\n        height: 72,\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    },\r\n    emptyDialogs: {\r\n        padding: '8px 16px'\r\n    }\r\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      boxSizing: 'border-box',\n      lineHeight: '48px',\n      listStyle: 'none',\n      color: theme.palette.text.secondary,\n      fontFamily: theme.typography.fontFamily,\n      fontWeight: theme.typography.fontWeightMedium,\n      fontSize: theme.typography.pxToRem(14)\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the inner `component` element if `disableGutters={false}`. */\n    gutters: {\n      paddingLeft: 16,\n      paddingRight: 16\n    },\n\n    /* Styles applied to the root element if `inset={true}`. */\n    inset: {\n      paddingLeft: 72\n    },\n\n    /* Styles applied to the root element if `disableSticky={false}`. */\n    sticky: {\n      position: 'sticky',\n      top: 0,\n      zIndex: 1,\n      backgroundColor: 'inherit'\n    }\n  };\n};\nvar ListSubheader = /*#__PURE__*/React.forwardRef(function ListSubheader(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'li' : _props$component,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      _props$disableSticky = props.disableSticky,\n      disableSticky = _props$disableSticky === void 0 ? false : _props$disableSticky,\n      _props$inset = props.inset,\n      inset = _props$inset === void 0 ? false : _props$inset,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"component\", \"disableGutters\", \"disableSticky\", \"inset\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, color !== 'default' && classes[\"color\".concat(capitalize(color))], inset && classes.inset, !disableSticky && classes.sticky, !disableGutters && classes.gutters),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListSubheader.propTypes = {\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'primary', 'inherit']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, the List Subheader will not have gutters.\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * If `true`, the List Subheader will not stick to the top during scroll.\n   */\n  disableSticky: PropTypes.bool,\n\n  /**\n   * If `true`, the List Subheader will be indented.\n   */\n  inset: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListSubheader'\n})(ListSubheader);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport { duration } from '../styles/transitions';\nimport useTheme from '../styles/useTheme';\nimport { reflow, getTransitionProps } from '../transitions/utils';\nimport useForkRef from '../utils/useForkRef';\nvar styles = {\n  entering: {\n    transform: 'none'\n  },\n  entered: {\n    transform: 'none'\n  }\n};\nvar defaultTimeout = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The Zoom transition can be used for the floating variant of the\n * [Button](/components/buttons/#floating-action-buttons) component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Zoom = /*#__PURE__*/React.forwardRef(function Zoom(props, ref) {\n  var children = props.children,\n      _props$disableStrictM = props.disableStrictModeCompat,\n      disableStrictModeCompat = _props$disableStrictM === void 0 ? false : _props$disableStrictM,\n      inProp = props.in,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? defaultTimeout : _props$timeout,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Transition : _props$TransitionComp,\n      other = _objectWithoutProperties(props, [\"children\", \"disableStrictModeCompat\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"timeout\", \"TransitionComponent\"]);\n\n  var theme = useTheme();\n  var enableStrictModeCompat = theme.unstable_strictMode && !disableStrictModeCompat;\n  var nodeRef = React.useRef(null);\n  var foreignRef = useForkRef(children.ref, ref);\n  var handleRef = useForkRef(enableStrictModeCompat ? nodeRef : undefined, foreignRef);\n\n  var normalizedTransitionCallback = function normalizedTransitionCallback(callback) {\n    return function (nodeOrAppearing, maybeAppearing) {\n      if (callback) {\n        var _ref = enableStrictModeCompat ? [nodeRef.current, nodeOrAppearing] : [nodeOrAppearing, maybeAppearing],\n            _ref2 = _slicedToArray(_ref, 2),\n            node = _ref2[0],\n            isAppearing = _ref2[1]; // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n\n\n        if (isAppearing === undefined) {\n          callback(node);\n        } else {\n          callback(node, isAppearing);\n        }\n      }\n    };\n  };\n\n  var handleEntering = normalizedTransitionCallback(onEntering);\n  var handleEnter = normalizedTransitionCallback(function (node, isAppearing) {\n    reflow(node); // So the animation always start from the start.\n\n    var transitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'enter'\n    });\n    node.style.webkitTransition = theme.transitions.create('transform', transitionProps);\n    node.style.transition = theme.transitions.create('transform', transitionProps);\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  var handleEntered = normalizedTransitionCallback(onEntered);\n  var handleExiting = normalizedTransitionCallback(onExiting);\n  var handleExit = normalizedTransitionCallback(function (node) {\n    var transitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'exit'\n    });\n    node.style.webkitTransition = theme.transitions.create('transform', transitionProps);\n    node.style.transition = theme.transitions.create('transform', transitionProps);\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  var handleExited = normalizedTransitionCallback(onExited);\n  return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    appear: true,\n    in: inProp,\n    nodeRef: enableStrictModeCompat ? nodeRef : undefined,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    timeout: timeout\n  }, other), function (state, childProps) {\n    return /*#__PURE__*/React.cloneElement(children, _extends({\n      style: _extends({\n        transform: 'scale(0)',\n        visibility: state === 'exited' && !inProp ? 'hidden' : undefined\n      }, styles[state], style, children.props.style),\n      ref: handleRef\n    }, childProps));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Zoom.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * A single child content element.\n   */\n  children: PropTypes.element,\n\n  /**\n   * Enable this prop if you encounter 'Function components cannot be given refs',\n   * use `unstable_createStrictModeTheme`,\n   * and can't forward the ref in the child component.\n   */\n  disableStrictModeCompat: PropTypes.bool,\n\n  /**\n   * If `true`, the component will transition in.\n   */\n  in: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  timeout: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nexport default Zoom;","import React from \"react\";\r\nimport {ListSubheader} from \"@material-ui/core\";\r\nimport {DialogType} from \"../../../DAL/dialogs-api\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Link as RouterLink} from \"react-router-dom\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {Skeleton} from \"@material-ui/lab\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    getCurrentDialogsSidebarItem,\r\n    getDeletedMessages,\r\n    getDialogsIsLoading, getLoading, getSelectedDeletedMessages, getSelectedMessages,\r\n} from \"../../../redux/selectors/dialogs-selectors\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport {dialogsAC, dialogsSagaAC} from \"../../../redux/reducers/dialogs-reducer\";\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport RestoreFromTrashIcon from '@material-ui/icons/RestoreFromTrash';\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport Zoom from \"@material-ui/core/Zoom\";\r\n//import WarningIcon from '@material-ui/icons/Warning';\r\nimport {DialogsSidebarItemEnum} from \"../../../types/types\";\r\nimport {getLang} from \"../../../redux/selectors/app-selectors\";\r\nimport {translate} from \"../../../const/lang\";\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst useCurrentDialogHeader = ({currentDialog, userId}: PropsType) => {\r\n\r\n    const classes = useStyles();\r\n    const selectedMessages = useSelector(getSelectedMessages);\r\n    const selectedDeletedMessages = useSelector(getSelectedDeletedMessages);\r\n    const dialogsIsLoading = useSelector(getDialogsIsLoading);\r\n    const loading = useSelector(getLoading);\r\n    const deletedMessages = useSelector(getDeletedMessages);\r\n    const currentDialogsSidebarItem = useSelector(getCurrentDialogsSidebarItem);\r\n    const lang = useSelector(getLang);\r\n\r\n    const to = !loading && currentDialog ? `/users/${currentDialog.id}` : '#';\r\n    const deletedMessagesItem = userId && deletedMessages\r\n        .find(el => +el.dialog.id === +userId);\r\n    const currentDeletedDialog = deletedMessagesItem && deletedMessagesItem.dialog;\r\n\r\n    let src;\r\n    if (currentDialogsSidebarItem === DialogsSidebarItemEnum.all) {\r\n        src = currentDialog && currentDialog.photos.small ? currentDialog.photos.small : undefined\r\n    } else if (currentDialogsSidebarItem === DialogsSidebarItemEnum.deleted) {\r\n        src = currentDeletedDialog && currentDeletedDialog.photos.small ? currentDeletedDialog.photos.small : undefined\r\n    }\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const onCleanArrayHandler = () => {\r\n        if (currentDialogsSidebarItem === DialogsSidebarItemEnum.all) {\r\n            dispatch(dialogsAC.cleanSelectedMessages())\r\n        } else if (currentDialogsSidebarItem === DialogsSidebarItemEnum.deleted) {\r\n            dispatch(dialogsAC.cleanSelectedDeletedMessages())\r\n        }\r\n    };\r\n\r\n    const onDeleteHandler = () => {\r\n        if (userId && currentDialog) {\r\n            dispatch(dialogsSagaAC.deleteMessages(selectedMessages, currentDialog));\r\n        }\r\n    };\r\n\r\n    const onRestoreHandler = () => {\r\n        if (userId && currentDialog) {\r\n            dispatch(dialogsSagaAC.restoreMessages(selectedDeletedMessages));\r\n        }\r\n    };\r\n\r\n    const messagesLabel = translate(lang, 'messages');\r\n    const deleteLabel = translate(lang, \"Delete\");\r\n    const selectADialogLabel = translate(lang, 'Select a dialog');\r\n    const restoreLabel = translate(lang, \"Restore\");\r\n    const selectDeletedDialogLabel = translate(lang, 'Select deleted dialog');\r\n\r\n    return {\r\n        classes, selectedMessages, selectedDeletedMessages, dialogsIsLoading,\r\n        loading, currentDialogsSidebarItem, to,\r\n        currentDeletedDialog, src, onDeleteHandler, onCleanArrayHandler,\r\n        onRestoreHandler, messagesLabel, deleteLabel,\r\n        selectADialogLabel, restoreLabel, selectDeletedDialogLabel\r\n    }\r\n\r\n};\r\n\r\n//======================= COMPONENT ===============================\r\nconst CurrentDialogHeader: React.FC<PropsType> = ({currentDialog, userId}) => {\r\n    const {\r\n        classes, selectedMessages, selectedDeletedMessages,\r\n        dialogsIsLoading, loading, currentDialogsSidebarItem,\r\n        to, currentDeletedDialog, src, onDeleteHandler,\r\n        onCleanArrayHandler, onRestoreHandler,\r\n        messagesLabel, deleteLabel, selectADialogLabel, restoreLabel,\r\n        selectDeletedDialogLabel\r\n    } = useCurrentDialogHeader({currentDialog, userId});\r\n\r\n    return (\r\n        <div className={classes.headerWrapper}>\r\n            {\r\n                currentDialogsSidebarItem === DialogsSidebarItemEnum.all &&\r\n                <>\r\n                    {dialogsIsLoading\r\n                        ? <ListSubheader component=\"div\" className={classes.header}>\r\n                            <Skeleton variant=\"circle\" width={40} height={40} className={classes.avatar}/>\r\n                            <Skeleton variant=\"rect\" width={200} height={25}/>\r\n                        </ListSubheader>\r\n                        : <ListSubheader component=\"div\" className={classes.header}>\r\n                            {currentDialog\r\n                                ? <>\r\n                                    <Avatar src={src} className={classes.avatar}/>\r\n\r\n                                    <Link component={RouterLink}\r\n                                          className={classes.link}\r\n                                          to={to}\r\n                                          variant='subtitle2'>\r\n                                        {currentDialog.userName}\r\n                                    </Link>\r\n\r\n                                    {\r\n                                        selectedMessages.length !== 0 &&\r\n                                        <>\r\n                                            <div className={classes.messagesCount}>\r\n                                                <Typography variant='body2' color='textPrimary'>\r\n                                                    {selectedMessages.length} {messagesLabel}\r\n                                                </Typography>\r\n                                                <IconButton onClick={onCleanArrayHandler}\r\n                                                            className={classes.iconClean}\r\n                                                            disabled={loading}\r\n                                                >\r\n                                                    <CloseIcon/>\r\n                                                </IconButton>\r\n                                            </div>\r\n\r\n                                            <div className={classes.iconButtonWrapper}>\r\n                                                <Tooltip title={deleteLabel} TransitionComponent={Zoom}\r\n                                                         arrow={true}>\r\n                                                    <IconButton onClick={onDeleteHandler}\r\n                                                                className={classes.iconClean}\r\n                                                                disabled={loading}\r\n                                                    >\r\n                                                        <DeleteForeverIcon/>\r\n                                                    </IconButton>\r\n                                                </Tooltip>\r\n                                            </div>\r\n\r\n                                            {/*<div>*/}\r\n                                            {/*    <Tooltip title=\"Spam\" TransitionComponent={Zoom} arrow={true}>*/}\r\n                                            {/*        <IconButton onClick={onSpamHandler}*/}\r\n                                            {/*                    className={classes.iconClean}*/}\r\n                                            {/*                    disabled={loading}*/}\r\n                                            {/*        >*/}\r\n                                            {/*            <WarningIcon/>*/}\r\n                                            {/*        </IconButton>*/}\r\n                                            {/*    </Tooltip>*/}\r\n                                            {/*</div>*/}\r\n\r\n                                        </>\r\n                                    }\r\n\r\n                                </>\r\n                                : <Typography variant='subtitle1' color='primary'>\r\n                                    {selectADialogLabel}\r\n                                </Typography>\r\n                            }\r\n                        </ListSubheader>\r\n                    }\r\n                </>\r\n            }\r\n\r\n\r\n            {\r\n                currentDialogsSidebarItem === DialogsSidebarItemEnum.deleted &&\r\n                <ListSubheader component=\"div\" className={classes.header}>\r\n                    {\r\n                        userId && currentDeletedDialog\r\n                            ? <>\r\n                                <Avatar src={src} className={classes.avatar}/>\r\n\r\n                                <Link component={RouterLink}\r\n                                      className={classes.link}\r\n                                      to={to}\r\n                                      variant='subtitle2'>\r\n                                    {currentDeletedDialog.userName}\r\n                                </Link>\r\n\r\n                                {\r\n                                    selectedDeletedMessages.length !== 0 &&\r\n                                    <>\r\n                                        <div className={classes.messagesCount}>\r\n                                            <Typography variant='body2' color='textPrimary'>\r\n                                                {selectedDeletedMessages.length} {messagesLabel}\r\n                                            </Typography>\r\n                                            <IconButton onClick={onCleanArrayHandler}\r\n                                                        className={classes.iconClean}\r\n                                                        disabled={loading}\r\n                                            >\r\n                                                <CloseIcon/>\r\n                                            </IconButton>\r\n                                        </div>\r\n\r\n                                        <div className={classes.iconButtonWrapper}>\r\n                                            <Tooltip title={restoreLabel} TransitionComponent={Zoom}\r\n                                                     arrow={true}>\r\n                                                <IconButton onClick={onRestoreHandler}\r\n                                                            className={classes.iconClean}\r\n                                                            disabled={loading}\r\n                                                >\r\n                                                    <RestoreFromTrashIcon/>\r\n                                                </IconButton>\r\n                                            </Tooltip>\r\n                                        </div>\r\n\r\n                                    </>\r\n                                }\r\n\r\n                            </>\r\n                            : <Typography variant='subtitle1' color='primary'>\r\n                                {selectDeletedDialogLabel}\r\n                            </Typography>\r\n                    }\r\n                </ListSubheader>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default CurrentDialogHeader;\r\n\r\n//===================== TYPE =======================\r\ntype PropsType = {\r\n    currentDialog: DialogType | null\r\n    userId: number | undefined\r\n}\r\n\r\n//===================== STYLE ======================\r\nconst useStyles = makeStyles({\r\n    avatar: {\r\n        marginRight: 10\r\n    },\r\n    header: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        height: 50,\r\n    },\r\n    headerWrapper: {\r\n        padding: 5,\r\n        borderBottom: '1px solid #ccc',\r\n        //backgroundColor: indigo[100]\r\n    },\r\n    link: {\r\n        marginRight: 15\r\n    },\r\n    messagesCount: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginRight: 30\r\n    },\r\n    iconClean: {\r\n        padding: 5\r\n    },\r\n    iconButtonWrapper: {\r\n        marginRight: 10\r\n    }\r\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      userSelect: 'none',\n      fontSize: theme.typography.pxToRem(24),\n      width: '1em',\n      height: '1em',\n      // Chrome fix for https://bugs.chromium.org/p/chromium/issues/detail?id=820541\n      // To remove at some point.\n      overflow: 'hidden',\n      flexShrink: 0\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main\n    },\n\n    /* Styles applied to the root element if `color=\"action\"`. */\n    colorAction: {\n      color: theme.palette.action.active\n    },\n\n    /* Styles applied to the root element if `color=\"error\"`. */\n    colorError: {\n      color: theme.palette.error.main\n    },\n\n    /* Styles applied to the root element if `color=\"disabled\"`. */\n    colorDisabled: {\n      color: theme.palette.action.disabled\n    },\n\n    /* Styles applied to the root element if `fontSize=\"inherit\"`. */\n    fontSizeInherit: {\n      fontSize: 'inherit'\n    },\n\n    /* Styles applied to the root element if `fontSize=\"small\"`. */\n    fontSizeSmall: {\n      fontSize: theme.typography.pxToRem(20)\n    },\n\n    /* Styles applied to the root element if `fontSize=\"large\"`. */\n    fontSizeLarge: {\n      fontSize: theme.typography.pxToRem(36)\n    }\n  };\n};\nvar Icon = /*#__PURE__*/React.forwardRef(function Icon(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'inherit' : _props$color,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'span' : _props$component,\n      _props$fontSize = props.fontSize,\n      fontSize = _props$fontSize === void 0 ? 'default' : _props$fontSize,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"component\", \"fontSize\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx('material-icons', classes.root, className, color !== 'inherit' && classes[\"color\".concat(capitalize(color))], fontSize !== 'default' && classes[\"fontSize\".concat(capitalize(fontSize))]),\n    \"aria-hidden\": true,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Icon.propTypes = {\n  /**\n   * The name of the icon font ligature.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['inherit', 'primary', 'secondary', 'action', 'error', 'disabled']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * The fontSize applied to the icon. Defaults to 24px, but can be configure to inherit font size.\n   */\n  fontSize: PropTypes.oneOf(['inherit', 'default', 'small', 'large'])\n} : void 0;\nIcon.muiName = 'Icon';\nexport default withStyles(styles, {\n  name: 'MuiIcon'\n})(Icon);","import {MessageType} from \"../../../DAL/dialogs-api\";\r\nimport {ListItem} from \"@material-ui/core\";\r\nimport React, {useState} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport {Link as RouterLink} from \"react-router-dom\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getId} from \"../../../redux/selectors/auth-selectors\";\r\nimport {getProfileSelector} from \"../../../redux/selectors/profile-selectors\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {DATE} from \"../../../utilities/date\";\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport {dialogsAC} from \"../../../redux/reducers/dialogs-reducer\";\r\nimport {\r\n    getCurrentDialogsSidebarItem,\r\n    getMessagesIsDeleting, getSelectedDeletedMessages,\r\n    getSelectedMessages\r\n} from \"../../../redux/selectors/dialogs-selectors\";\r\nimport CircularPreloader from \"../../common/CircularPreloader\";\r\nimport {DialogsSidebarItemEnum} from \"../../../types/types\";\r\nimport {getLang} from \"../../../redux/selectors/app-selectors\";\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst useCurrentDialogMessageItem = ({message, src}: PropsType) => {\r\n    const classes = useStyles();\r\n    const [hover, setHover] = useState(false);\r\n    const myId = useSelector(getId);\r\n    const profile = useSelector(getProfileSelector);\r\n    const selectedMessages = useSelector(getSelectedMessages);\r\n    const selectedDeletedMessages = useSelector(getSelectedDeletedMessages);\r\n    const messagesIsDeleting = useSelector(getMessagesIsDeleting);\r\n    const currentDialogsSidebarItem = useSelector(getCurrentDialogsSidebarItem);\r\n    const lang = useSelector(getLang);\r\n    const dispatch = useDispatch();\r\n    let selected: boolean;\r\n    if (currentDialogsSidebarItem === DialogsSidebarItemEnum.all) {\r\n        selected = !!selectedMessages.find(el => el.id === message.id);\r\n    } else if (currentDialogsSidebarItem === DialogsSidebarItemEnum.deleted) {\r\n        selected = !!selectedDeletedMessages.find(el => el.id === message.id);\r\n    } else {\r\n        selected = false\r\n    }\r\n    const onClickHandler = () => {\r\n        if (currentDialogsSidebarItem === DialogsSidebarItemEnum.all) {\r\n            if (!selected) {\r\n                dispatch(dialogsAC.addToSelectedMessages(message))\r\n            } else {\r\n                dispatch(dialogsAC.removeFromSelectedMessages(message))\r\n            }\r\n        } else if (currentDialogsSidebarItem === DialogsSidebarItemEnum.deleted) {\r\n            if (!selected) {\r\n                dispatch(dialogsAC.addToSelectedDeletedMessages(message))\r\n            } else {\r\n                dispatch(dialogsAC.removeFromSelectedDeletedMessages(message))\r\n            }\r\n        }\r\n    };\r\n    const onMouseEnterHandler = () => {\r\n        setHover(true)\r\n    };\r\n    const onMouseLeaveHandler = () => {\r\n        setHover(false)\r\n    };\r\n    const srcFinally = (profile\r\n        ? (message.senderId === myId) ? profile.photos.small : src\r\n        : undefined) as string | undefined\r\n    const to = (message.senderId === myId) ? '/profile' : `/users/${message.senderId}`;\r\n    const icon = message.senderId === myId ? <ArrowForwardIcon/> : <ArrowBackIcon/>\r\n\r\n    return {\r\n        classes, hover, selectedMessages,\r\n        messagesIsDeleting, lang, selected, onClickHandler,\r\n        onMouseEnterHandler, onMouseLeaveHandler, srcFinally, to, icon\r\n    }\r\n};\r\n\r\n//======================= COMPONENT ===============================\r\nconst CurrentDialogMessageItem: React.FC<PropsType> = ({message, src}) => {\r\n    const {\r\n        classes, hover, selectedMessages, messagesIsDeleting,\r\n        lang, selected, onClickHandler, onMouseEnterHandler,\r\n        onMouseLeaveHandler, srcFinally, to, icon\r\n    } = useCurrentDialogMessageItem({message, src});\r\n\r\n    return (\r\n        <div className={classes.listItemWrapper}>\r\n            <ListItem button\r\n                      onClick={onClickHandler}\r\n                      selected={selected}\r\n                      className={classes.listItem}\r\n                      classes={{\r\n                          selected: classes.selected\r\n                      }}\r\n                      onMouseEnter={onMouseEnterHandler}\r\n                      onMouseLeave={onMouseLeaveHandler}\r\n            >\r\n                {((hover && !selected) || selected) && <CheckCircleIcon className={classes.checkedIcon}\r\n                                                                        color={selected ? 'inherit' : 'disabled'}\r\n                                                                        fontSize='small'/>}\r\n                <Avatar src={srcFinally} className={classes.avatar}/>\r\n                <div className={classes.messageBlock}>\r\n                    <div className={classes.title}>\r\n                        <Link component={RouterLink}\r\n                              className={classes.link}\r\n                              to={to}\r\n                              variant='subtitle2'>\r\n                            {message.senderName}\r\n                        </Link>\r\n                        <Typography variant='subtitle2'\r\n                                    color='textSecondary'\r\n                        >\r\n                            {DATE.dateTranslateFromAPI(message.addedAt, lang)}\r\n                        </Typography>\r\n                    </div>\r\n                    <div>{message.body}</div>\r\n                </div>\r\n\r\n                <Icon className={classes.icon}>{icon}</Icon>\r\n\r\n            </ListItem>\r\n\r\n            {\r\n                messagesIsDeleting && selectedMessages.find(el => el.id === message.id) &&\r\n                <CircularPreloader size={50} styleType='absolute'/>\r\n            }\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default CurrentDialogMessageItem;\r\n\r\n//========================== TYPE ============================\r\ntype PropsType = {\r\n    message: MessageType\r\n    src: string | undefined\r\n}\r\n//========================= STYLES ===========================\r\nconst useStyles = makeStyles({\r\n    listItemWrapper: {\r\n        position: 'relative'\r\n    },\r\n    listItem: {\r\n        boxSizing: 'border-box',\r\n        margin: '2px 0px',\r\n        padding: 8,\r\n        paddingLeft: 40,\r\n        position: 'relative',\r\n        display: 'flex',\r\n        alignItems: 'flex-start'\r\n    },\r\n    checkedIcon: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: 5,\r\n        transform: 'translate(0, -50%)'\r\n    },\r\n    selected: {\r\n        backgroundColor: 'red'\r\n    },\r\n    avatar: {\r\n        marginRight: 10\r\n    },\r\n    title: {\r\n        display: 'flex'\r\n    },\r\n    link: {\r\n        marginRight: 10\r\n    },\r\n    messageBlock: {\r\n        flexGrow: 1\r\n    },\r\n    icon: {\r\n        marginRight: 10\r\n    }\r\n});","import React, {useEffect} from \"react\";\r\nimport {MessageType} from \"../../../DAL/dialogs-api\";\r\nimport CurrentDialogMessageItem from \"./CurrentDialogMessageItem\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    getCurrentDialogsSidebarItem, getDeletedMessages,\r\n    getMessageIsSending,\r\n    getMessagesIsDeleting,\r\n    getMessagesIsLoading\r\n} from \"../../../redux/selectors/dialogs-selectors\";\r\nimport CircularPreloader from \"../../common/CircularPreloader\";\r\nimport {dialogsAC} from \"../../../redux/reducers/dialogs-reducer\";\r\nimport {DialogsSidebarItemEnum} from \"../../../types/types\";\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst useCurrentDialogMessages = ({messages, src, userId}: PropsType) => {\r\n    const classes = useStyles();\r\n    const messagesIsLoading = useSelector(getMessagesIsLoading);\r\n    const messageIsSending = useSelector(getMessageIsSending);\r\n    const messagesIsDeleting = useSelector(getMessagesIsDeleting);\r\n    const deletedMessages = useSelector(getDeletedMessages);\r\n    const currentDialogsSidebarItem = useSelector(getCurrentDialogsSidebarItem);\r\n    const dispatch = useDispatch();\r\n\r\n    // очистка массива выделенных сообщений при первой отрисовке или при изменении диалога\r\n    useEffect(() => {\r\n        dispatch(dialogsAC.cleanSelectedMessages())\r\n    }, [userId, dispatch]);\r\n\r\n    const elements = messages && messages\r\n        .map(el => <CurrentDialogMessageItem key={el.id} message={el} src={src}/>);\r\n\r\n    const deletedMessagesItem = !!userId && deletedMessages\r\n        .find(el => el.dialog.id === +userId)\r\n\r\n    const elementsDeleted = deletedMessagesItem && deletedMessagesItem\r\n        .messages\r\n        .map(el => <CurrentDialogMessageItem key={el.id} message={el} src={src}/>);\r\n    // 1\r\n    // сообщение удаляется - messagesIsDeleting\r\n    // показывать messages\r\n    // в удаляемых сообщениях поверх компонента показать CircularPreloader\r\n\r\n    // 2\r\n    // сообщение добавляется - messageIsSending\r\n    // messages есть или нет (если первое сообщение)\r\n    // messages есть - показывать messages, messages нет - ничего не показывать\r\n\r\n    // 3\r\n    // все сообщения загружаются или перегружаются (при переключении юзера) - messagesIsLoading\r\n    // загружаются - messages нет, перегружаются - messages есть\r\n    // вместо сообщений показывать CircularPreloader\r\n\r\n    // 4\r\n    // остальные случаи, когда ничего не загружается - !messagesIsLoading && !messageIsSending && !messagesIsDeleting\r\n    // messages есть (все загрузилось, удалилось, отправилось) или нет (диалог не выбран)\r\n    // messages есть - показывать messages, messages нет - ничего не показывать\r\n\r\n    // во время загрузки, отправки и удаления блокировать форму добавления сообщений и боковую панель\r\n    return {classes, messagesIsLoading, messageIsSending, messagesIsDeleting,\r\n        currentDialogsSidebarItem, elements, deletedMessagesItem,\r\n        elementsDeleted}\r\n};\r\n\r\n//======================= COMPONENT ===============================\r\nconst CurrentDialogMessages: React.FC<PropsType> = ({messages, src, userId}) => {\r\n    const {classes, messagesIsLoading, messageIsSending, messagesIsDeleting,\r\n        currentDialogsSidebarItem, elements, deletedMessagesItem,\r\n        elementsDeleted} = useCurrentDialogMessages({messages, src, userId});\r\n\r\n    return (\r\n        <>\r\n            {\r\n                currentDialogsSidebarItem === DialogsSidebarItemEnum.all &&\r\n                <>\r\n                    {\r\n                        messagesIsDeleting &&\r\n                        <>\r\n                            {elements}\r\n                        </>\r\n                    }\r\n\r\n                    {\r\n                        messageIsSending &&\r\n                        <>\r\n                            {\r\n                                messages\r\n                                    ? <>\r\n                                        {elements}\r\n                                    </>\r\n                                    : null\r\n                            }\r\n                        </>\r\n                    }\r\n\r\n                    {\r\n                        messagesIsLoading &&\r\n                        <div className={classes.circularPreloaderWrapper}>\r\n                            <CircularPreloader size={36}/>\r\n                        </div>\r\n                    }\r\n\r\n                    {\r\n                        !messagesIsLoading && !messageIsSending && !messagesIsDeleting &&\r\n                        <>\r\n                            {\r\n                                messages\r\n                                    ? <>\r\n                                        {elements}\r\n                                    </>\r\n                                    : null\r\n                            }\r\n                        </>\r\n                    }\r\n\r\n                </>\r\n            }\r\n\r\n            {\r\n                currentDialogsSidebarItem === DialogsSidebarItemEnum.deleted &&\r\n                deletedMessagesItem &&\r\n                <>\r\n                    {elementsDeleted}\r\n                </>\r\n            }\r\n        </>\r\n    )\r\n};\r\n\r\nexport default CurrentDialogMessages;\r\n\r\n//==================== TYPES ==================\r\ntype PropsType = {\r\n    messages: Array<MessageType> | null\r\n    src: string | undefined\r\n    userId: number | undefined\r\n}\r\n\r\n//========================== STYLES ===================================================\r\nconst useStyles = makeStyles({\r\n    circularPreloaderWrapper: {\r\n        margin: '10px 0'\r\n    },\r\n    emptyMessages: {\r\n        padding: '8px 16px'\r\n    }\r\n});","import SendIcon from '@material-ui/icons/Send';\r\nimport {IconButton} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport RenderTextAreaField from \"../../common/RenderTextareaField\";\r\nimport {shouldNotBeEmpty} from \"../../../utilities/validators/validators\";\r\nimport {reduxForm, Field, InjectedFormProps, reset} from \"redux-form\";\r\nimport grey from \"@material-ui/core/colors/grey\";\r\nimport {dialogsSagaAC} from \"../../../redux/reducers/dialogs-reducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    getLoading,\r\n    getMessageIsSending,\r\n} from \"../../../redux/selectors/dialogs-selectors\";\r\nimport {getLang} from \"../../../redux/selectors/app-selectors\";\r\nimport {translate} from \"../../../const/lang\";\r\n\r\n//================= Custom Hook =========================\r\nconst useForm = (messageIsSending: boolean) => {\r\n    const classes = useStyles();\r\n    const classesField = useStylesField();\r\n    const lang = useSelector(getLang);\r\n    const label = messageIsSending\r\n        ? translate(lang, 'Message is sent...')\r\n        : translate(lang, 'Enter your message');\r\n    const placeholder = translate(lang, 'Enter your message');\r\n    return {classes, classesField, label, placeholder}\r\n}\r\n\r\n//===================== FORM ==================================\r\nconst Form: React.FC<FormPropsType> = (props) => {\r\n    const {handleSubmit, submitting, pristine, loading, messageIsSending} = props;\r\n    const {classes, classesField, label, placeholder} = useForm(messageIsSending);\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className={classes.form}>\r\n            <div className={classes.fieldWrapper}>\r\n                <Field name='message'\r\n                       component={RenderTextAreaField}\r\n                       validate={[shouldNotBeEmpty]}\r\n                       autoFocus={true}\r\n                       rows={1}\r\n                       className={classes.textArea}\r\n                       classes={classesField}\r\n                       label={label}\r\n                       placeholder={placeholder}\r\n                       size='small'\r\n                />\r\n            </div>\r\n\r\n            <IconButton\r\n                type=\"submit\"\r\n                color='primary'\r\n                disabled={submitting || pristine || loading}\r\n            >\r\n                <SendIcon/>\r\n            </IconButton>\r\n\r\n        </form>\r\n    );\r\n};\r\n\r\n//============================= REDUX-FORM ========================================\r\nconst afterSubmit = (result: any, dispatch: any) => {\r\n    dispatch(reset('send-message-from-dialog'));\r\n}\r\n\r\nconst ReduxForm = reduxForm<FormValuesType, OwnPropsType>({\r\n    form: 'send-message-from-dialog',\r\n    onSubmitSuccess: afterSubmit\r\n})(Form);\r\n\r\n//================= Custom Hook =========================\r\nconst useCurrentDialogForm = (id: number | undefined) => {\r\n    const classes = useStyles();\r\n    const messageIsSending = useSelector(getMessageIsSending);\r\n    const loading = useSelector(getLoading);\r\n    const dispatch = useDispatch();\r\n\r\n    const onSubmit = (formValue: FormValuesType) => {\r\n        if (id) {\r\n            dispatch(dialogsSagaAC.sendMessage(id, formValue.message))\r\n        }\r\n    };\r\n    return {\r\n        classes, messageIsSending, loading, onSubmit\r\n    }\r\n};\r\n\r\n//============================= COMPONENT =========================================\r\nconst CurrentDialogForm: React.FC<ComponentPropsType> = ({id}) => {\r\n    const {classes, messageIsSending, loading, onSubmit} = useCurrentDialogForm(id);\r\n\r\n    return (\r\n        <div className={classes.formWrapper}>\r\n            <ReduxForm onSubmit={onSubmit}\r\n                       messageIsSending={messageIsSending}\r\n                       loading={loading}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default CurrentDialogForm;\r\n\r\n//=============================== TYPES ================================================\r\ntype OwnPropsType = {\r\n    loading: boolean\r\n    messageIsSending: boolean\r\n}\r\nexport type FormValuesType = {\r\n    message: string,\r\n}\r\ntype FormPropsType = InjectedFormProps<FormValuesType, OwnPropsType> & OwnPropsType\r\n\r\ntype ComponentPropsType = {\r\n    id: number | undefined\r\n}\r\n\r\n//========================== STYLES ===================================================\r\nconst useStylesField = makeStyles({\r\n    root: {\r\n        backgroundColor: 'white',\r\n        width: '100%'\r\n    },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n    formWrapper: {\r\n        backgroundColor: grey[100],\r\n        padding: 10,\r\n    },\r\n    form: {\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    },\r\n    fieldWrapper: {\r\n        flexGrow: 1,\r\n        marginRight: 5\r\n    },\r\n    textArea: {\r\n        width: '100%',\r\n\r\n    }\r\n})","import {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Card, Typography} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getCurrentDialogsSidebarItem, getDeletedMessages, getMessagesSelector} from \"../../../redux/selectors/dialogs-selectors\";\r\nimport List from \"@material-ui/core/List\";\r\nimport CurrentDialogHeader from \"./CurrentDialogHeader\";\r\nimport {DialogType} from \"../../../DAL/dialogs-api\";\r\nimport CurrentDialogMessages from \"./CurrentDialogMessages\";\r\nimport CurrentDialogForm from \"./CurrentDialogForm\";\r\nimport {DialogsSidebarItemEnum} from \"../../../types/types\";\r\nimport {getLang} from \"../../../redux/selectors/app-selectors\";\r\nimport {translate} from \"../../../const/lang\";\r\n\r\n//================= Custom Hook =========================\r\nconst useCurrentDialog = (currentDialog: DialogType | null) => {\r\n    const classes = useStyles();\r\n    const messages = useSelector(getMessagesSelector);\r\n    const currentDialogsSidebarItem = useSelector(getCurrentDialogsSidebarItem);\r\n    const deletedMessages = useSelector(getDeletedMessages);\r\n    const lang = useSelector(getLang);\r\n    const src = (currentDialog !== null ? currentDialog.photos.small : undefined) as string | undefined;\r\n    return {src, classes, messages, currentDialogsSidebarItem, deletedMessages, lang}\r\n};\r\n\r\n//======================= COMPONENT =============================\r\nconst CurrentDialog: React.FC<PropsType> = ({currentDialog, userId}) => {\r\n    const {src, classes, messages, currentDialogsSidebarItem, deletedMessages, lang} = useCurrentDialog(currentDialog);\r\n\r\n    return (\r\n        <Card elevation={6}>\r\n            { currentDialogsSidebarItem === DialogsSidebarItemEnum.all ||\r\n            (currentDialogsSidebarItem === DialogsSidebarItemEnum.deleted && deletedMessages.length)\r\n                ? <List disablePadding\r\n                      subheader={\r\n                          <CurrentDialogHeader currentDialog={currentDialog}\r\n                                               userId={userId}\r\n                          />\r\n                      }\r\n                >\r\n                    <CurrentDialogMessages messages={messages} src={src} userId={userId}/>\r\n                </List>\r\n                : <div className={classes.emptyMessages}>\r\n                    <Typography variant='subtitle1' color='primary'>\r\n                        {translate(lang, 'There ara no deleted messages')}\r\n                    </Typography>\r\n\r\n                </div>\r\n            }\r\n\r\n            {\r\n                currentDialogsSidebarItem === DialogsSidebarItemEnum.all && userId &&\r\n                <CurrentDialogForm id={userId}/>\r\n            }\r\n\r\n        </Card>\r\n    )\r\n};\r\n\r\nexport default CurrentDialog;\r\n\r\n//========================= TYPE =================\r\ntype PropsType = {\r\n    currentDialog: DialogType | null\r\n    userId: number | undefined\r\n}\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    btnWrapper: {\r\n        marginBottom: 10\r\n    },\r\n    skeleton: {\r\n        borderRadius: 4\r\n    },\r\n    emptyMessages: {\r\n        padding: '8px 16px'\r\n    }\r\n});","import React from \"react\";\r\nimport {Card} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport indigo from \"@material-ui/core/colors/indigo\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getCurrentDialogsSidebarItem, getLoading} from \"../../../redux/selectors/dialogs-selectors\";\r\nimport {dialogsAC} from \"../../../redux/reducers/dialogs-reducer\";\r\n//import WarningIcon from '@material-ui/icons/Warning';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport {Link as RouterLink} from \"react-router-dom\";\r\nimport {getLang} from \"../../../redux/selectors/app-selectors\";\r\nimport {translate} from \"../../../const/lang\";\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst useDialogsSidebar = () => {\r\n    const classes = useStyles();\r\n    const currentDialogsSidebarItem = useSelector(getCurrentDialogsSidebarItem);\r\n    const loading = useSelector(getLoading);\r\n    const lang = useSelector(getLang);\r\n    const dispatch = useDispatch();\r\n    const onChangeHandle = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n        dispatch(dialogsAC.setCurrentDialogsSidebarItem(newValue));\r\n    };\r\n    const allLabel = translate(lang, \"All\");\r\n    const deletedLabel = translate(lang, \"Deleted\");\r\n    return {\r\n        classes, currentDialogsSidebarItem, loading,\r\n        onChangeHandle, allLabel, deletedLabel\r\n    }\r\n};\r\n\r\n//======================= COMPONENT ===============================\r\nconst DialogsSidebar: React.FC = () => {\r\n    const {\r\n        classes, currentDialogsSidebarItem, loading,\r\n        onChangeHandle, allLabel, deletedLabel\r\n    } = useDialogsSidebar();\r\n\r\n    return (\r\n        <Card className={classes.card} elevation={6}>\r\n            <Tabs\r\n                classes={{\r\n                    indicator: classes.indicator\r\n                }}\r\n                orientation=\"vertical\"\r\n                value={currentDialogsSidebarItem}\r\n                onChange={onChangeHandle}\r\n                className={classes.tabs}\r\n            >\r\n\r\n                <Tab label={allLabel}\r\n                     component={RouterLink}\r\n                     to='/dialogs'\r\n                     disabled={loading}\r\n                     icon={<ChatIcon className={classes.icon}/>}\r\n                     classes={{\r\n                         wrapper: classes.wrapper,\r\n                         selected: classes.selected,\r\n                         root: classes.tabRoot,\r\n                         labelIcon: classes.labelIcon\r\n                     }}/>\r\n\r\n                <Tab label={deletedLabel}\r\n                     component={RouterLink}\r\n                     to='/dialogs'\r\n                     disabled={loading}\r\n                     icon={<DeleteForeverIcon className={classes.icon}/>}\r\n                     classes={{\r\n                         wrapper: classes.wrapper,\r\n                         selected: classes.selected,\r\n                         root: classes.tabRoot,\r\n                         labelIcon: classes.labelIcon\r\n                     }}/>\r\n\r\n                {/*<Tab label=\"Spam\"*/}\r\n                {/*     component={RouterLink}*/}\r\n                {/*     to='/dialogs'*/}\r\n                {/*     disabled={loading}*/}\r\n                {/*     icon={<WarningIcon className={classes.icon}/>}*/}\r\n                {/*     classes={{*/}\r\n                {/*         wrapper: classes.wrapper,*/}\r\n                {/*         selected: classes.selected,*/}\r\n                {/*         root: classes.tabRoot,*/}\r\n                {/*         labelIcon: classes.labelIcon*/}\r\n                {/*     }}/>*/}\r\n\r\n            </Tabs>\r\n        </Card>\r\n    )\r\n};\r\n\r\nexport default DialogsSidebar;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    card: {\r\n        padding: 5,\r\n    },\r\n    tabs: {\r\n        borderLeft: `3px solid #ccc`,\r\n    },\r\n    indicator: {\r\n        width: 2,\r\n        left: 0,\r\n        right: 'auto'\r\n    },\r\n    wrapper: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'flex-start',\r\n        textTransform: 'none',\r\n        '& > *:first-child': {\r\n            marginBottom: '0!important'\r\n        }\r\n    },\r\n    icon: {\r\n        margin: '0 10px',\r\n    },\r\n    selected: {\r\n        color: indigo[500],\r\n        backgroundColor: '#eee'\r\n    },\r\n    tabRoot: {\r\n        padding: 0,\r\n        minWidth: 0\r\n    },\r\n    labelIcon: {\r\n        minHeight: 50\r\n    }\r\n});","import React, {useEffect} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport DialogsList from \"./DialogsList\";\r\nimport CurrentDialog from \"./CurrentDialog\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getIsLoading} from \"../../../redux/selectors/app-selectors\";\r\nimport {getCurrentDialogsSidebarItem, getDialogsSelector} from \"../../../redux/selectors/dialogs-selectors\";\r\nimport {dialogsAC, dialogsSagaAC} from \"../../../redux/reducers/dialogs-reducer\";\r\nimport {DialogType} from \"../../../DAL/dialogs-api\";\r\nimport DialogsSidebar from \"./DialogsSidebar\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport {UseParamsType} from \"../../../types/types\";\r\nimport useAuthRedirect from \"../../../hooks/useAuthRedirect\";\r\nimport {NumberParam, useQueryParam} from \"use-query-params\";\r\nimport useCommonQueryParams from \"../../../hooks/useCommonQueryParams\";\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst useDialogs = () => {\r\n    useAuthRedirect();\r\n    useCommonQueryParams();\r\n\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const isLoading = useSelector(getIsLoading);\r\n    const dialogs = useSelector(getDialogsSelector);\r\n    // если userId === undefined, значит диалог не выбран\r\n    let {userId} = useParams<UseParamsType>();\r\n    const userIdNumber: number | undefined = userId ? +userId : undefined;\r\n    useEffect(() => {\r\n        dispatch(dialogsSagaAC.getDialogs());\r\n    }, [dispatch]);\r\n    useEffect(() => {\r\n        if (userIdNumber) {\r\n            dispatch(dialogsSagaAC.getMessages(userIdNumber));\r\n        }\r\n        return () => {\r\n            dispatch(dialogsAC.setMessages(null))\r\n        }\r\n    }, [userIdNumber, dispatch]);\r\n    const currentDialog = (dialogs && userIdNumber) ? dialogs.find(el => el.id === userIdNumber) as DialogType : null;\r\n\r\n    const currentDialogsSidebarItem = useSelector(getCurrentDialogsSidebarItem);\r\n    const [dialogsSidebarItemQuery, setDialogsSidebarItemQuery] = useQueryParam('dialogTab', NumberParam);\r\n\r\n    // URL => STATE\r\n    useEffect(() => {\r\n        dispatch(dialogsAC.setCurrentDialogsSidebarItem(dialogsSidebarItemQuery ? dialogsSidebarItemQuery : currentDialogsSidebarItem));\r\n    }, [dispatch])\r\n    // STATE => URL\r\n    useEffect(() => {\r\n        setDialogsSidebarItemQuery(currentDialogsSidebarItem !== 0 ? currentDialogsSidebarItem : undefined);\r\n    }, [\r\n        currentDialogsSidebarItem\r\n    ]);\r\n\r\n    return {\r\n        classes, isLoading, dialogs, userIdNumber, currentDialog\r\n    }\r\n};\r\n\r\n//======================= COMPONENT ===============================\r\nconst Dialogs: React.FC = () => {\r\n    const {classes, isLoading, dialogs, userIdNumber, currentDialog} = useDialogs();\r\n\r\n    return (\r\n        <>\r\n            {\r\n                (!isLoading || dialogs) &&\r\n                <div className={classes.root}>\r\n\r\n                    <div className={classes.firstColumn}>\r\n                        <DialogsList dialogs={dialogs}/>\r\n                    </div>\r\n\r\n                    <div className={classes.secondColumn}>\r\n                        <CurrentDialog currentDialog={currentDialog}\r\n                                       userId={userIdNumber}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className={classes.lastColumn}>\r\n                        <DialogsSidebar/>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Dialogs;\r\n\r\n//========================== STYLES =============================================\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        display: \"flex\"\r\n    },\r\n    firstColumn: {\r\n        flexBasis: 230,\r\n        flexShrink: 0,\r\n        marginRight: 10,\r\n    },\r\n    secondColumn: {\r\n        flexGrow: 1,\r\n        marginRight: 10,\r\n    },\r\n    lastColumn: {\r\n        flexBasis: 140,\r\n        flexShrink: 0,\r\n    },\r\n});"],"sourceRoot":""}