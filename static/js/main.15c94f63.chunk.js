(this["webpackJsonpreact-02"]=this["webpackJsonpreact-02"]||[]).push([[0],{103:function(e,t,n){"use strict";var r=n(83),a=n(462),c=n(0),o=n.n(c),i=n(112);t.a=function(e){var t=e.icon,n=e.label,c=e.input,i=e.meta,u=i.touched,l=i.invalid,d=i.error,f=e.classes,m=Object(r.a)(e,["icon","label","input","meta","classes"]),p=s();return o.a.createElement("div",{className:p.root},t&&o.a.createElement("div",{className:p.iconLeft},t),o.a.createElement(a.a,Object.assign({InputProps:f?{classes:f}:null,variant:"outlined",label:n,placeholder:n,error:u&&l,helperText:u&&d},c,m)))};var s=Object(i.a)({root:{position:"relative",width:"100%"},iconLeft:{position:"absolute",left:-5,top:"50%",transform:"translate(-100%, -50%)"}})},114:function(e,t,n){"use strict";n.d(t,"f",(function(){return S})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return I})),n.d(t,"e",(function(){return L})),n.d(t,"i",(function(){return T})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return R}));var r=n(237),a=n(8),c=n.n(a),o=n(16),i=n(94),s=n(6),u=n(68),l=n(27),d=function(e){return Object(o.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.c.get("profile/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},f=function(e){return Object(o.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.c.get("profile/status/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},m=function(e){return Object(o.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.c.put("profile/status",{status:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},p=function(e){return Object(o.a)(c.a.mark((function t(){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("image",e),t.next=4,l.c.put("profile/photo",n);case 4:return r=t.sent,t.abrupt("return",r.data);case 6:case"end":return t.stop()}}),t)})))()},b=function(e){return Object(o.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.c.put("profile",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},g=function(e){return Object(o.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.c.get("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},E=n(14),h=function(){return new Date},v=function(e){var t,n=e.getMonth()+1,r=e.getDate(),a=e.getHours(),c=e.getMinutes();switch(+n){case 1:t="January";break;case 2:t="February";break;case 3:t="March";break;case 4:t="April";break;case 5:t="May";break;case 6:t="June";break;case 7:t="July";break;case 8:t="August";break;case 9:t="September";break;case 10:t="October";break;case 11:t="November";break;case 12:t="December"}return"".concat(r," ").concat(t," in ").concat(a,":").concat(c)},O={posts:[{id:1,message:"Hello, world",likeCount:1,time:"25 September in 10:10"}],profile:null,currentUserProfile:null,status:null,avatarIsLoading:!1,statusIsLoading:!1,editMode:!1,currentInfoFormSidebarItem:0,followed:null,editingPost:!1},S={setEditingPost:function(e){return{type:"profile/SET_EDITING_POST",editingPost:e}},setCurrentUserProfile:function(e){return{type:"profile/SET_CURRENT_USER_PROFILE",currentUserProfile:e}},setFollowed:function(e){return{type:"profile/SET_FOLLOWED",followed:e}},setCurrentInfoFormSidebarItem:function(e){return{type:"profile/SET_CURRENT_INFO_FORM_SIDEBAR_ITEM",currentInfoFormSidebarItem:e}},addPost:function(e){return{type:"profile/ADD_POST",post:e,time:v(h())}},deletePost:function(e){return{type:"profile/DELETE_POST",id:e}},setUserProfile:function(e){return{type:"profile/SET_USER_PROFILE",profile:e}},setStatus:function(e){return{type:"profile/SET_STATUS",status:e}},setPhotos:function(e){return{type:"profile/SET_PHOTOS",photos:e}},toggleAvatarLoading:function(e){return{type:"profile/AVATAR_IS_LOADING",avatarIsLoading:e}},toggleStatusLoading:function(e){return{type:"profile/STATUS_IS_LOADING",statusIsLoading:e}},setEditMode:function(e){return{type:"profile/SET_EDIT_MODE",editMode:e}}},j=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(E.a.toggleLoading(!0)),t.next=4,d(e);case 4:r=t.sent,n(S.setUserProfile(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(E.a.setLanError(!0));case 11:return t.prev=11,n(E.a.toggleLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(E.a.toggleLoading(!0)),t.next=4,d(e);case 4:r=t.sent,n(S.setCurrentUserProfile(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(E.a.setLanError(!0));case 11:return t.prev=11,n(E.a.toggleLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(E.a.toggleLoading(!0)),t.next=4,g(e);case 4:r=t.sent,n(S.setFollowed(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(E.a.setLanError(!0));case 11:return t.prev=11,n(E.a.toggleLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},L=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(S.toggleStatusLoading(!0)),t.next=4,f(e);case 4:r=t.sent,n(S.setStatus(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(E.a.setLanError(!0));case 11:return t.prev=11,n(S.toggleStatusLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(S.toggleStatusLoading(!0)),t.next=4,m(e);case 4:0===t.sent.resultCode&&n(S.setStatus(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(E.a.setLanError(!0));case 11:return t.prev=11,n(S.toggleStatusLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(S.toggleAvatarLoading(!0)),t.next=4,p(e);case 4:0===(r=t.sent).resultCode&&n(S.setPhotos(r.data.photos)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(E.a.setLanError(!0));case 11:return t.prev=11,n(S.toggleAvatarLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},R=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n,a){var o,i,s,l,d,f,m;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(E.a.toggleLoading(!0)),t.next=4,b(e);case 4:if(o=t.sent,i=e.userId,0!==o.resultCode){t.next=10;break}n(j(i)),t.next=15;break;case 10:s={},l=Object(r.a)(o.messages);try{for(l.s();!(d=l.n()).done;)f=d.value,m=f.slice(30,f.length-1).toLowerCase(),s[m]="Invalid url format"}catch(a){l.e(a)}finally{l.f()}return n(Object(u.b)("profileAboutMeForm",{contacts:s})),t.abrupt("return",Promise.reject(o.messages[0]));case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),n(E.a.setLanError(!0));case 20:return t.prev=20,n(E.a.toggleLoading(!1)),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[0,17,20,23]])})));return function(e,n){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/SET_EDITING_POST":return Object(s.a)(Object(s.a)({},e),{},{editingPost:t.editingPost});case"profile/SET_CURRENT_USER_PROFILE":return Object(s.a)(Object(s.a)({},e),{},{currentUserProfile:t.currentUserProfile});case"profile/SET_FOLLOWED":return Object(s.a)(Object(s.a)({},e),{},{followed:t.followed});case"profile/SET_CURRENT_INFO_FORM_SIDEBAR_ITEM":return Object(s.a)(Object(s.a)({},e),{},{currentInfoFormSidebarItem:t.currentInfoFormSidebarItem});case"profile/SET_EDIT_MODE":return Object(s.a)(Object(s.a)({},e),{},{editMode:t.editMode});case"profile/AVATAR_IS_LOADING":return Object(s.a)(Object(s.a)({},e),{},{avatarIsLoading:t.avatarIsLoading});case"profile/STATUS_IS_LOADING":return Object(s.a)(Object(s.a)({},e),{},{statusIsLoading:t.statusIsLoading});case"profile/ADD_POST":var n=e.posts?e.posts[e.posts.length-1].id+1:1;return Object(s.a)(Object(s.a)({},e),{},{posts:[].concat(Object(i.a)(e.posts),[{id:n,message:t.post,likeCount:0,time:t.time}])});case"profile/DELETE_POST":return Object(s.a)(Object(s.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.id}))});case"profile/SET_USER_PROFILE":return Object(s.a)(Object(s.a)({},e),{},{profile:t.profile});case"profile/SET_STATUS":return Object(s.a)(Object(s.a)({},e),{},{status:t.status});case"profile/SET_PHOTOS":if(e.profile)return Object(s.a)(Object(s.a)({},e),{},{profile:Object(s.a)(Object(s.a)({},e.profile),{},{photos:t.photos})});default:return e}}},129:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(83),a=n(0),c=n.n(a),o=n(24),i=n(9),s=function(e){return{isAuth:e.auth.isAuth}};function u(e){return Object(i.b)(s)((function(t){var n=t.isAuth,a=Object(r.a)(t,["isAuth"]);return n?c.a.createElement(e,a):c.a.createElement(o.a,{to:"/login"})}))}},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(e){return e.app.initialized},a=function(e){return e.app.isLoading}},14:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n(8),a=n.n(r),c=n(16),o=n(6),i=n(73),s={initialized:!0,globalError:null,isLoading:!1,lanError:!1},u={setInitialized:function(){return{type:"APP/INITIALIZED_SUCCESS"}},toggleLoading:function(e){return{type:"APP/TOGGLE_LOADING",isLoading:e}},setLanError:function(e){return{type:"APP/SET_LAN_ERROR",lanError:e}}},l=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t(u.toggleLoading(!0)),n=t(Object(i.b)()),Promise.all([n]).then((function(){t(u.setInitialized())}))}catch(r){t(u.setLanError(!0))}finally{t(u.toggleLoading(!1))}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/INITIALIZED_SUCCESS":return Object(o.a)(Object(o.a)({},e),{},{initialized:!0});case"APP/TOGGLE_LOADING":return Object(o.a)(Object(o.a)({},e),{},{isLoading:t.isLoading});case"APP/SET_LAN_ERROR":return Object(o.a)(Object(o.a)({},e),{},{lanError:t.lanError});default:return e}}},175:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"j",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"i",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return f}));var r=function(e){return e.profile.posts},a=function(e){return e.profile.profile},c=function(e){return e.profile.currentUserProfile},o=function(e){return e.profile.status},i=function(e){return e.profile.avatarIsLoading},s=function(e){return e.profile.statusIsLoading},u=function(e){return e.profile.editMode},l=function(e){return e.profile.currentInfoFormSidebarItem},d=function(e){return e.profile.followed},f=function(e){return e.profile.editingPost}},201:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(94),a=n(6),c={dialogs:[{id:1,name:"Dimon"},{id:2,name:"Alex"},{id:3,name:"John"},{id:4,name:"Tony"}],messages:[{id:1,text:"Hei-Hei"},{id:2,text:"Hello"},{id:3,text:"Yow"}]},o={addMessage:function(e){return{type:"dialogs/ADD_MESSAGE",message:e}}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dialogs/ADD_MESSAGE":var n=e.messages?e.messages[e.messages.length-1].id:1;return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:n,text:t.message}])});default:return e}}},21:function(e,t,n){"use strict";n.d(t,"h",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return E})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return O}));var r=n(8),a=n.n(r),c=n(16),o=n(94),i=n(6),s=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(i.a)(Object(i.a)({},e),r):e}))},u=n(27),l={getUsers:function(){var e=arguments;return Object(c.a)(a.a.mark((function t(){var n,r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,r=e.length>1&&void 0!==e[1]?e[1]:10,t.next=4,u.c.get("users?page=".concat(n,"&count=").concat(r));case 4:return c=t.sent,t.abrupt("return",c.data);case 6:case"end":return t.stop()}}),t)})))()},searchUsers:function(){var e=arguments;return Object(c.a)(a.a.mark((function t(){var n,r,c,o,i,s,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,r=e.length>1&&void 0!==e[1]?e[1]:10,c=e.length>2?e[2]:void 0,o=e.length>3?e[3]:void 0,i="users?page=".concat(n,"&count=").concat(r),c&&(i+="&term=".concat(c)),s="all"===o?"":"&friend=".concat(o),i+=s,t.next=10,u.c.get(i);case 10:return l=t.sent,t.abrupt("return",l.data);case 12:case"end":return t.stop()}}),t)})))()},followUser:function(e){return Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.post("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},unfollowUser:function(e){return Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.delete("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}},d=n(14),f={users:null,pageSize:10,totalUsersCount:0,totalFriendsCount:0,currentPage:1,isLoading:!1,isFollowing:!1,followingInProgress:[],friends:null,searchUsersParams:{term:"",friend:"all"},showUsersFrom:"all",currentFriendsSidebarItem:0,needToChangeListOfFriends:!1,friendIdToRemove:null},m={setNeedToChangeListOfFriends:function(e,t){return{type:"USERS/SET_NEED_TO_CHANG_LIST_OF_FRIENDS",needToChangeListOfFriends:e,friendIdToRemove:t}},setCurrentFriendsSidebarItem:function(e){return{type:"USERS/SET_CURRENT_FRIENDS_SIDEBAR_ITEM",currentFriendsSidebarItem:e}},setFriends:function(e){return{type:"USERS/SET_FRIENDS",friends:e}},setSearchUsersParams:function(e){return{type:"USERS/SEARCH_USERS_PARAMS",searchUsersParams:e}},setFollow:function(e){return{type:"USERS/FOLLOW",userId:e}},setUnfollow:function(e){return{type:"USERS/UNFOLLOW",userId:e}},setUsers:function(e){return{type:"USERS/SET_USERS",users:e}},setCurrentPage:function(e){return{type:"USERS/SET_CURRENT_PAGE",currentPage:e}},setTotalUsersCount:function(e){return{type:"USERS/SET_TOTAL_USERS_COUNT",totalUsersCount:e}},setTotalFriendsCount:function(e){return{type:"USERS/SET_TOTAL_FRIENDS_COUNT",totalFriendsCount:e}},toggleLoading:function(e){return{type:"USERS/TOGGLE_LOADING",isLoading:e}},toggleFollowing:function(e){return{type:"USERS/TOGGLE_FOLLOWING",isFollowing:e}},toggleFollowingProgress:function(e,t){return{type:"USERS/TOGGLE_FOLLOWING_PROGRESS",followingInProgress:e,id:t}},setShowUsersFrom:function(e){return{type:"USERS/SET_SHOW_USERS_FROM",showUsersFrom:e}}},p=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(d.a.toggleLoading(!0)),n.next=4,l.getUsers(e,t);case 4:c=n.sent,r(m.setUsers(c.items)),r(m.setTotalUsersCount(c.totalCount)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),r(d.a.setLanError(!0));case 12:return n.prev=12,r(d.a.toggleLoading(!1)),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])})));return function(e){return n.apply(this,arguments)}}()},b=function(e,t,n,r){return function(){var o=Object(c.a)(a.a.mark((function c(o){var i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o(d.a.toggleLoading(!0)),a.next=4,l.searchUsers(e,t,n,r);case 4:i=a.sent,console.log("searchUsers"),o(m.setUsers(i.items)),o(m.setTotalUsersCount(i.totalCount)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),o(d.a.setLanError(!0));case 13:return a.prev=13,o(d.a.toggleLoading(!1)),a.finish(13);case 16:case"end":return a.stop()}}),c,null,[[0,10,13,16]])})));return function(e){return o.apply(this,arguments)}}()},g=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(d.a.toggleLoading(!0)),n.next=4,l.searchUsers(e,t,"","true");case 4:c=n.sent,r(m.setFriends(c.items)),r(m.setTotalFriendsCount(c.totalCount)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),r(d.a.setLanError(!0));case 12:return n.prev=12,r(d.a.toggleLoading(!1)),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])})));return function(e){return n.apply(this,arguments)}}()},E=function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(c){var o;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c(m.toggleFollowing(!0)),c(m.toggleFollowingProgress(!0,n)),r.next=5,l.unfollowUser(n);case 5:if(0!==r.sent.resultCode){r.next=13;break}return r.next=9,l.searchUsers(e,t,"","true");case 9:o=r.sent,c(m.setFriends(o.items)),c(m.setTotalFriendsCount(o.totalCount)),c(m.setNeedToChangeListOfFriends(!1,null));case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(0),c(d.a.setLanError(!0));case 18:return r.prev=18,c(m.toggleFollowing(!0)),c(m.toggleFollowingProgress(!1,n)),r.finish(18);case 22:case"end":return r.stop()}}),r,null,[[0,15,18,22]])})));return function(e){return r.apply(this,arguments)}}()},h=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(m.toggleFollowing(!0)),t(m.toggleFollowingProgress(!0,n)),e.next=4,r(n);case 4:0===e.sent.resultCode&&t(c(n)),t(m.toggleFollowingProgress(!1,n));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),v=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h(n,e,l.followUser.bind(e),m.setFollow);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),n(d.a.setLanError(!0));case 8:return t.prev=8,n(m.toggleFollowing(!1)),t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,5,8,11]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(n,e,l.unfollowUser.bind(e),m.setUnfollow);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS/SET_NEED_TO_CHANG_LIST_OF_FRIENDS":return Object(i.a)(Object(i.a)({},e),{},{needToChangeListOfFriends:t.needToChangeListOfFriends,friendIdToRemove:t.friendIdToRemove});case"USERS/SET_CURRENT_FRIENDS_SIDEBAR_ITEM":return Object(i.a)(Object(i.a)({},e),{},{currentFriendsSidebarItem:t.currentFriendsSidebarItem});case"USERS/SET_FRIENDS":return Object(i.a)(Object(i.a)({},e),{},{friends:t.friends});case"USERS/SET_SHOW_USERS_FROM":return Object(i.a)(Object(i.a)({},e),{},{showUsersFrom:t.showUsersFrom});case"USERS/SEARCH_USERS_PARAMS":return Object(i.a)(Object(i.a)({},e),{},{searchUsersParams:t.searchUsersParams});case"USERS/FOLLOW":return Object(i.a)(Object(i.a)({},e),{},{users:s(e.users,t.userId,"id",{followed:!0})});case"USERS/UNFOLLOW":return Object(i.a)(Object(i.a)({},e),{},{users:s(e.users,t.userId,"id",{followed:!1})});case"USERS/SET_USERS":return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case"USERS/SET_CURRENT_PAGE":return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage});case"USERS/SET_TOTAL_USERS_COUNT":return Object(i.a)(Object(i.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"USERS/SET_TOTAL_FRIENDS_COUNT":return Object(i.a)(Object(i.a)({},e),{},{totalFriendsCount:t.totalFriendsCount});case"USERS/TOGGLE_LOADING":return Object(i.a)(Object(i.a)({},e),{},{isLoading:t.isLoading});case"USERS/TOGGLE_FOLLOWING":return Object(i.a)(Object(i.a)({},e),{},{isFollowing:t.isFollowing});case"USERS/TOGGLE_FOLLOWING_PROGRESS":return Object(i.a)(Object(i.a)({},e),{},{followingInProgress:t.followingInProgress?[].concat(Object(o.a)(e.followingInProgress),[t.id]):e.followingInProgress.filter((function(e){return e!==t.id}))});default:return e}}},217:function(e,t,n){"use strict";var r=n(461),a=n(464),c=n(0),o=n.n(c),i=n(112);t.a=function(e){var t=e.input,n=e.label,c=e.icon,i=s();return o.a.createElement("div",{className:i.root},c&&o.a.createElement("div",{className:i.iconLeft},c),o.a.createElement(r.a,{control:o.a.createElement(a.a,{checked:!!t.value,color:"primary",onChange:t.onChange}),label:n}))};var s=Object(i.a)({root:{position:"relative"},iconLeft:{position:"absolute",left:-5,top:"50%",transform:"translate(-100%, -50%)"}})},27:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r,a,c=n(238),o=n.n(c).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"e09d6375-5dac-4dde-95ca-700e186a8f7d"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(a||(a={}))},28:function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"l",(function(){return s})),n.d(t,"k",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"d",(function(){return b}));var r=function(e){return e.users.users},a=function(e){return e.users.friends},c=function(e){return e.users.pageSize},o=function(e){return e.users.currentPage},i=function(e){return e.users.followingInProgress},s=function(e){return e.users.totalUsersCount},u=function(e){return e.users.totalFriendsCount},l=function(e){return e.users.isFollowing},d=function(e){return e.users.searchUsersParams},f=function(e){return e.users.showUsersFrom},m=function(e){return e.users.currentFriendsSidebarItem},p=function(e){return e.users.needToChangeListOfFriends},b=function(e){return e.users.friendIdToRemove}},305:function(e,t,n){e.exports=n(449)},310:function(e,t,n){},449:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=n(0),a=n.n(r),c=n(18),o=n.n(c),i=(n(310),n(9)),s=n(26),u=n(114),l=n(201),d=n(47),f=n(21),m=n(73),p=n(239),b=n(235),g=n(14),E=n(240),h=Object(s.combineReducers)({profile:u.a,dialogs:l.a,sidebar:d.a,users:f.a,auth:m.a,app:g.b,form:b.a}),v=Object(s.createStore)(h,Object(E.composeWithDevTools)(Object(s.applyMiddleware)(p.a)));window.store=v;var O=v,S=n(42),j=n(112),w=n(500),I=n(87),L=n(52),T=n(501),x=n(3),R=n(454),y=n(245),C=n.n(y),_=n(67),N=n(502),U=n(503),F=n(529),k=n(246),A=n.n(k),P=n(456),D=n(173),G=n(505),B=n(506),M=n(507),z=n(504),W=n(508),H=n(248),J=n.n(H),q=n(509),K=n(249),V=n.n(K),Z=n(88),Y=function(e){return e.sidebar.sidebarIsOpen},$=function(e){return e.sidebar.currentSidebarItem},Q=n(175),X=Object(j.a)((function(e){return Object(w.a)({appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(180,"px)"),marginLeft:180,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},logo:{flexGrow:1},login:{marginRight:10},button:{"&:hover":{backgroundColor:"rgba(0,0,0,0.3)",borderRadius:0,minHeight:64},textTransform:"none",paddingTop:0,paddingBottom:0},label:{minHeight:64},avatar:{width:50,height:50,marginRight:10}})})),ee=function(){var e=X(),t=Object(i.d)(Z.c),n=Object(i.d)(Y),r=Object(i.d)(Z.d),c=Object(i.d)(Q.h),o=Object(i.c)(),s=a.a.useState(!1),u=Object(L.a)(s,2),l=u[0],f=u[1],p=a.a.useRef(null),b=function(e){p.current&&p.current.contains(e.target)||f(!1)};function g(e){"Tab"===e.key&&(e.preventDefault(),f(!1))}var E=a.a.useRef(l);a.a.useEffect((function(){!0===E.current&&!1===l&&p.current.focus(),E.current=l}),[l]);var h=function(e){b(e)},v=function(e){b(e),o(Object(m.d)())};return a.a.createElement(T.a,{position:"fixed",className:Object(x.default)(e.appBar,Object(I.a)({},e.appBarShift,n))},a.a.createElement(N.a,null,a.a.createElement(R.a,{color:"inherit","aria-label":"open drawer",onClick:function(){o(d.b.setSidebarIsOpen(!0))},edge:"start",className:Object(x.default)(e.menuButton,n&&e.hide)},a.a.createElement(C.a,null)),a.a.createElement(_.a,{variant:"h6",noWrap:!0,className:e.logo},"Social Network"),t?a.a.createElement(a.a.Fragment,null,a.a.createElement(U.a,{ref:p,"aria-controls":l?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){f((function(e){return!e}))},classes:{root:e.button,label:e.label},color:"inherit"},a.a.createElement(_.a,{variant:"subtitle1",noWrap:!0,className:e.login},r),c&&c.photos.small?a.a.createElement(F.a,{src:c.photos.small,className:e.avatar}):a.a.createElement(F.a,{className:e.avatar}),a.a.createElement(A.a,null)),a.a.createElement(z.a,{open:l,anchorEl:p.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,n=e.placement;return a.a.createElement(P.a,Object.assign({},t,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),a.a.createElement(D.a,null,a.a.createElement(G.a,{onClickAway:b},a.a.createElement(B.a,{autoFocusItem:l,id:"menu-list-grow",onKeyDown:g},a.a.createElement(M.a,{onClick:h},a.a.createElement(W.a,null,a.a.createElement(J.a,null)),a.a.createElement(q.a,{primary:"Settings"})),a.a.createElement(M.a,{onClick:v},a.a.createElement(W.a,null,a.a.createElement(V.a,null)),a.a.createElement(q.a,{primary:"Logout"}))))))}))):a.a.createElement(U.a,{color:"inherit",component:S.b,to:"/login"},"\u0412\u043e\u0439\u0442\u0438")))},te=n(6),ne=n(528),re=n(457),ae=n(179),ce=n.n(ae),oe=n(256),ie=n.n(oe),se=n(257),ue=n.n(se),le=n(252),de=n.n(le),fe=n(253),me=n.n(fe),pe=n(254),be=n.n(pe),ge=n(511),Ee=n(53),he=n.n(Ee),ve=n(250),Oe=n.n(ve),Se=n(251),je=n.n(Se),we=n(458),Ie=function(e){var t=e.to,n=e.primary,r=e.icon,c=e.ownIndex,o=Le(),s=Object(i.d)($),l=Object(i.c)();return a.a.createElement("li",null,a.a.createElement(we.a,{onClick:function(){l(d.b.setCurrentSidebarItem(c)),l(u.f.setEditMode(!1)),l(f.h.setShowUsersFrom("all")),l(f.h.setCurrentPage(1))},selected:c===s,button:!0,component:S.b,to:t},r?a.a.createElement(Oe.a,{className:Object(x.default)(c===s&&o.icon)},r):null,a.a.createElement(je.a,{primary:n})))},Le=Object(j.a)((function(e){return{icon:{color:he.a[500]}}})),Te=n(255),xe=n.n(Te),Re=function(){var e=ye(),t=de()(),n=Object(i.d)(Y),r=Object(i.c)();return a.a.createElement(ne.a,{className:e.drawer,classes:{root:e.root,paperAnchorDockedLeft:e.paperAnchorDockedLeft,paper:e.drawerPaper},variant:"persistent",anchor:"left",open:n},a.a.createElement("div",{className:e.drawerHeader},a.a.createElement(R.a,{onClick:function(){r(d.b.setSidebarIsOpen(!1))}},"ltr"===t.direction?a.a.createElement(me.a,null):a.a.createElement(be.a,null))),a.a.createElement(ge.a,null),a.a.createElement(re.a,null,a.a.createElement(Ie,{ownIndex:1,to:"/profile",primary:"My profile",icon:a.a.createElement(xe.a,null)}),a.a.createElement(Ie,{ownIndex:2,to:"/dialogs",primary:"Dialogs",icon:a.a.createElement(ie.a,null)}),a.a.createElement(Ie,{ownIndex:3,to:"/users",primary:"Users",icon:a.a.createElement(ue.a,null)}),a.a.createElement(Ie,{ownIndex:4,to:"/friends",primary:"Friends",icon:a.a.createElement(ce.a,null)})))},ye=Object(j.a)((function(e){return{root:{},drawer:{width:180,flexShrink:0},drawerPaper:{width:180,backgroundColor:he.a[50]},drawerHeader:Object(te.a)(Object(te.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),paperAnchorDockedLeft:{border:0}}})),Ce=n(24),_e=n(63),Ne=n(233),Ue=n(234),Fe=n(65),ke=n(261),Ae=n.n(ke),Pe=n(103),De=n(516),Ge=n(512),Be=n(269),Me=n(513),ze=n(515),We=n(259),He=n.n(We),Je=n(260),qe=n.n(Je),Ke=n(531),Ve=n(258),Ze=n.n(Ve),Ye=function(e){var t=e.label,n=e.input,c=e.placeholder,o=e.meta,i=e.disabled,s=$e(),u=Object(r.useState)(!1),l=Object(L.a)(u,2),d=l[0],f=l[1],m=Object(r.useState)(""),p=Object(L.a)(m,2),b=p[0],g=p[1];return a.a.createElement("div",{className:s.root},a.a.createElement(Ze.a,{className:s.iconLeft}),a.a.createElement(Ge.a,{className:s.textField,variant:"outlined"},a.a.createElement(Me.a,{htmlFor:"outlined-adornment-password",classes:{outlined:s.outlined}},t),a.a.createElement(Ke.a,Object.assign({classes:{root:s.outlinedInputRoot,input:s.outlinedInputInput},disabled:i,id:"outlined-adornment-password",placeholder:c,type:d?"text":"password",value:b,error:o.touched&&o.invalid,onChange:function(e){g(e.target.value)}},n,{endAdornment:a.a.createElement(ze.a,{position:"end"},a.a.createElement(R.a,{"aria-label":"toggle password visibility",onClick:function(){f(!d)},onMouseDown:function(e){e.preventDefault()},edge:"end",className:s.iconButton},d?a.a.createElement(He.a,null):a.a.createElement(qe.a,null))),labelWidth:73})),o.touched&&o.invalid&&a.a.createElement(_.a,{color:"error",variant:"caption",className:s.error},o.error)))},$e=Object(Be.a)({root:{position:"relative",width:"100%"},iconLeft:{position:"absolute",left:-5,top:"50%",transform:"translate(-100%, -50%)"},textField:{width:"100%"},error:{paddingLeft:14,paddingTop:2},outlinedInputRoot:{width:"100%"},outlinedInputInput:{height:40,paddingTop:0,paddingBottom:0},outlined:{transform:"translate(14px, 12px) scale(1)"},iconButton:{padding:8}}),Qe=n(217),Xe=Object(Ue.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.submitting,r=e.pristine,c=e.error,o=e.captcha,i=tt();return a.a.createElement("form",{onSubmit:t},a.a.createElement("div",{className:i.fieldWrapper},a.a.createElement(Ne.a,{name:"email",component:Pe.a,icon:a.a.createElement(Ae.a,null),className:i.textField,validate:[Fe.d,Fe.e],label:"email",size:"small"})),a.a.createElement("div",{className:i.fieldWrapper},a.a.createElement(Ne.a,{name:"password",className:i.textField,component:Ye,placeholder:"Enter your password",label:"Password",validate:[Fe.d,Fe.e]})),a.a.createElement("div",{className:i.fieldWrapper},a.a.createElement(Ne.a,{name:"rememberMe",component:Qe.a,label:"Remember me"})),o&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:i.fieldWrapper},a.a.createElement("img",{src:o,alt:""})),a.a.createElement("div",{className:i.fieldWrapper},a.a.createElement(Ne.a,{name:"captcha",className:i.textField,component:Pe.a,placeholder:"Enter symbols from image",label:"Captcha",validate:[Fe.d,Fe.e],size:"small"}))),c&&!r&&a.a.createElement(_.a,{color:"error",variant:"h6",className:i.fieldWrapper},c),a.a.createElement("div",{className:i.fieldWrapper},a.a.createElement(U.a,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,size:"large",className:i.button,disabled:n||r},"Enter")))})),et=function(){var e=tt(),t=Object(i.d)(Z.c),n=Object(i.d)(Z.a),r=Object(i.c)();return t?a.a.createElement(Ce.a,{to:"/profile"}):a.a.createElement("div",{className:e.root},a.a.createElement(De.a,{className:e.card,elevation:6},a.a.createElement(_.a,{className:e.title,align:"center",color:"primary",variant:"h5"},"Enter in your profile"),a.a.createElement(Xe,{onSubmit:function(e){r(Object(m.c)(e.email,e.password,e.rememberMe,e.captcha))},captcha:n})))},tt=Object(j.a)({root:{display:"flex",justifyContent:"center"},card:{width:500,padding:"15px 30px 15px 10px",borderRadius:10},error:{width:300,marginBottom:10},textField:{width:"100%"},fieldWrapper:{marginLeft:35,marginBottom:10},button:{},title:{marginBottom:20}}),nt=n(133),rt=n(517),at=n(518),ct=n(519),ot=n(229),it=n.n(ot),st=n(228),ut=n.n(st),lt=n(520),dt=n(28),ft=function(e){var t=e.user,n=mt(),r=Object(i.d)(dt.c),c=Object(i.d)(dt.f),o=Object(i.c)(),s=t.photos.small,u=t.followed?"UnFollow":"Follow",l=t.followed?a.a.createElement(ut.a,null):a.a.createElement(it.a,null);return a.a.createElement(rt.a,{item:!0},a.a.createElement(De.a,{className:n.root},a.a.createElement(at.a,{component:S.b,to:"/users/".concat(t.id)},a.a.createElement(F.a,{className:n.avatar,src:s||void 0,variant:"rounded"})),a.a.createElement(ct.a,{className:n.cardContent},a.a.createElement(_.a,{color:"primary",variant:"subtitle2",align:"center"},t.name),a.a.createElement(_.a,{variant:"body2",align:"center"},t.status)),a.a.createElement(lt.a,{disableSpacing:!0,className:n.cardActions},a.a.createElement(U.a,{className:n.button,variant:"outlined",color:"primary",size:"small",fullWidth:!0,disabled:r.some((function(e){return e===t.id})),onClick:function(){t.followed?o(Object(f.d)(t.id)):o(Object(f.b)(t.id))},startIcon:l},u),c&&r.some((function(e){return e===t.id}))&&a.a.createElement(_e.a,{size:20,style:"absolute"}))))},mt=Object(j.a)({root:{width:150,padding:10},media:{height:150,borderRadius:5},avatar:{width:150,height:150},cardContent:{padding:5},cardActions:{padding:0,position:"relative"},button:{textTransform:"none"}}),pt=n(262),bt=n.n(pt),gt=n(263),Et=n.n(gt),ht=function(e){for(var t=e.totalItemsCount,n=e.pageSize,c=e.currentPage,o=e.onPageChanged,i=e.portionSize,s=void 0===i?10:i,u=vt(),l=Math.ceil(t/n),d=[],f=1;f<l+1;f++)d.push(f);var m=Math.ceil(l/s),p=Object(r.useState)(1),b=Object(L.a)(p,2),g=b[0],E=b[1],h=(g-1)*s+1,v=g*s,O=d.filter((function(e){return e>=h&&e<=v})).map((function(e){return a.a.createElement(U.a,{className:u.buttonRoot,key:e,onClick:function(t){o(e)},size:"small",color:"primary",disableElevation:!0,variant:e===c?"contained":"outlined"},e)})),S=(g-1)*n,j="".concat((g-2)*n+1,"...").concat(S),w=g<m-1?(g+1)*n:l,I="".concat(g*n+1,"...").concat(w);return a.a.createElement("div",{className:u.paginator},g>1&&a.a.createElement(R.a,{onClick:function(){E(1),o(1)},className:u.iconButtonRoot,size:"small"},a.a.createElement(bt.a,{className:u.icon})),g>1&&a.a.createElement(U.a,{className:u.buttonRoot,onClick:function(){E(g-1),o((g-2)*s+1)},size:"small",color:"primary",disableElevation:!0,variant:"outlined"},j),O,g<m&&a.a.createElement(U.a,{className:u.buttonRoot,onClick:function(){E(g+1),o(g*s+1)},size:"small",color:"primary",disableElevation:!0,variant:"outlined"},I),g<m&&a.a.createElement(R.a,{onClick:function(){E(m),o(l)},className:u.iconButtonRoot,size:"small"},a.a.createElement(Et.a,{className:u.icon})))},vt=Object(j.a)({paginator:{marginBottom:10},buttonRoot:{marginRight:5,paddingLeft:3,paddingRight:3,paddingTop:0,paddingBottom:0,minWidth:24},iconButtonRoot:{borderRadius:4,border:"1px solid rgba(63, 81, 181, 0.5)",marginRight:5,padding:0,color:he.a[500]},icon:{width:22.4,height:22.4}}),Ot=n(129),St=n(522),jt=n(265),wt=n.n(jt),It=n(231),Lt=n.n(It),Tt=n(264),xt=n.n(Tt),Rt=n(521),yt=n(68),Ct=n(83),_t=n(532),Nt=n(527),Ut=n(461),Ft=n(460),kt=function(e){var t=e.labels,n=(e.value,e.input),r=e.classes,c=e.label,o=Object(Ct.a)(e,["labels","value","input","classes","label"]),i=t.map((function(e,t){return a.a.createElement(Ut.a,{value:e.value,key:t,className:r.formControlLabel,control:a.a.createElement(Nt.a,null),label:e.label})}));return a.a.createElement(Ge.a,null,a.a.createElement(Ft.a,{component:"legend",className:r.formLabel},c),a.a.createElement(_t.a,Object.assign({value:"all",className:r.radioGroup},n,o),i))},At=n(145),Pt=n.n(At),Dt=Object(Ue.a)({form:"searchUsers"})((function(e){var t=e.handleSubmit,n=e.submitting,r=e.pristine,c=(e.reset,e.error),o=Bt(),s=Mt(),u=Object(i.c)();return a.a.createElement("form",{onSubmit:t},a.a.createElement(Ne.a,{name:"term",component:Pe.a,fullWidth:!0,validate:[Fe.e],label:"User name",size:"small",onChange:function(){return u(Object(yt.c)("searchUsers"))}}),a.a.createElement(Ne.a,{name:"friend",label:"User are friend or not",component:kt,classes:s,labels:[{value:"all",label:"All"},{value:"true",label:"Friend"},{value:"false",label:"Not friend"}],size:"small"}),a.a.createElement("div",null,a.a.createElement(U.a,{type:"submit",size:"small",color:"primary",variant:"contained",startIcon:a.a.createElement(Pt.a,null),disabled:n||r,className:o.button},"Search")),c&&!r&&a.a.createElement(_.a,{color:"error",variant:"h6"},c))})),Gt=function(){var e=Bt(),t=Object(i.c)();return a.a.createElement(De.a,{className:e.card,elevation:6},a.a.createElement(_.a,{variant:"h6",color:"primary",classes:{h6:e.title}},"Search users"),a.a.createElement(ge.a,{classes:{root:e.divider}}),a.a.createElement(Dt,{onSubmit:function(e){console.log(e),t(f.h.setSearchUsersParams(e)),t(f.h.setCurrentPage(1)),t(f.h.setShowUsersFrom("search"))},initialValues:{term:"",friend:"all"}}))},Bt=Object(j.a)({card:{padding:10,paddingBottom:10,marginBottom:10},title:{marginLeft:10},divider:{marginTop:5,marginBottom:15},button:{textTransform:"none"}}),Mt=Object(j.a)({formLabel:{margin:"15px 10px 5px"},radioGroup:{display:"flex",flexDirection:"row",marginLeft:10},formControlLabel:{}}),zt=Object(Ot.a)((function(e){var t=Wt(),n=Object(i.d)(dt.m),c=Object(i.d)(dt.l),o=Object(i.d)(dt.h),s=Object(i.d)(dt.b),u=Object(i.d)(nt.b),l=Object(i.d)(dt.i),d=Object(i.d)(dt.j),m=Object(i.c)(),p=Object(r.useState)(!1),b=Object(L.a)(p,2),g=b[0],E=b[1];Object(r.useEffect)((function(){"all"===d?(console.log("all"),m(Object(f.e)(s,o))):"search"===d&&(console.log("search"),m(Object(f.g)(s,o,l.term,l.friend)))}),[s,o,d,l.term,l.friend]);var h=n&&n.map((function(e){return a.a.createElement(ft,{user:e,key:e.id})})),v="all"===d?"Total all users count:":"Total users count from search:";return a.a.createElement("div",{className:t.root},a.a.createElement(Rt.a,{in:g,timeout:"auto",unmountOnExit:!0},a.a.createElement(Gt,null)),a.a.createElement("div",{className:t.count},a.a.createElement(U.a,{onClick:function(){E(!g)},size:"small",className:t.button,color:"primary",startIcon:g?a.a.createElement(xt.a,null):a.a.createElement(Lt.a,null),variant:"contained"},g?"Close search":"Open search"),a.a.createElement(U.a,{onClick:function(){m(f.h.setShowUsersFrom("all")),m(f.h.setCurrentPage(1))},size:"small",color:"primary",disabled:"all"===d,className:t.button,variant:"contained"},"Show all"),a.a.createElement(_.a,{color:"primary",variant:"subtitle2",className:t.countTitle},v),a.a.createElement(St.a,{badgeContent:c,color:"primary",max:99999,showZero:!0},a.a.createElement(wt.a,null))),0!==c&&c&&o&&s&&a.a.createElement(ht,{totalItemsCount:c,pageSize:o,currentPage:s,onPageChanged:function(e){m(f.h.setCurrentPage(e))}}),u||!n?a.a.createElement(_e.a,null):a.a.createElement(rt.a,{container:!0,alignContent:"stretch",justify:"flex-start",wrap:"wrap",spacing:2},h))})),Wt=Object(j.a)({root:{minHeight:"100vh"},count:{display:"flex",alignItems:"center",marginTop:10,marginBottom:10},countTitle:{marginRight:10},button:{marginRight:10,textTransform:"none"}}),Ht=n(523),Jt=n(524),qt=n(266),Kt=n.n(qt),Vt=function(e){var t=e.friend,n=Zt(),r=Object(i.c)(),c=Object(i.d)(dt.c),o=Object(i.d)(dt.f),s=a.a.useState(!1),u=Object(L.a)(s,2),l=u[0],m=u[1],p=a.a.useRef(null),b=function(e){p.current&&p.current.contains(e.target)||m(!1)},g=function(e){r(f.h.setNeedToChangeListOfFriends(!0,t.id)),b(e)};function E(e){"Tab"===e.key&&(e.preventDefault(),m(!1))}var h=a.a.useRef(l);return a.a.useEffect((function(){!0===h.current&&!1===l&&p.current.focus(),h.current=l}),[l]),a.a.createElement(a.a.Fragment,null,a.a.createElement(ge.a,{className:n.divider}),a.a.createElement(we.a,{className:n.listItem},a.a.createElement("div",{className:n.listItemInner},a.a.createElement("div",{className:n.listItemInnerleft},a.a.createElement(Ht.a,null,a.a.createElement(F.a,{className:n.avatar,src:t.photos.large?t.photos.large:void 0})),a.a.createElement(Jt.a,{component:S.b,to:"/users/".concat(t.id),onClick:function(){r(d.b.setCurrentSidebarItem(3))}},t.name)),a.a.createElement("div",null,a.a.createElement(R.a,{ref:p,"aria-controls":l?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){m((function(e){return!e}))},edge:"end","aria-label":"delete",className:n.iconButton},a.a.createElement(Kt.a,null)),a.a.createElement(z.a,{className:n.popper,open:l,anchorEl:p.current,role:void 0,transition:!0,placement:"bottom-end",disablePortal:!0},(function(e){var t=e.TransitionProps,n=e.placement;return a.a.createElement(P.a,Object.assign({},t,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),a.a.createElement(D.a,null,a.a.createElement(G.a,{onClickAway:b},a.a.createElement(B.a,{autoFocusItem:l,id:"menu-list-grow",onKeyDown:E},a.a.createElement(M.a,{onClick:g},"Delete from friends"),a.a.createElement(M.a,{onClick:b},"Something else"),a.a.createElement(M.a,{onClick:b},"Something else")))))})))),o&&c.some((function(e){return e===t.id}))&&a.a.createElement(_e.a,{size:80,style:"absolute"})))},Zt=Object(j.a)({avatar:{width:80,height:80,marginRight:15},iconButton:{marginRight:0,zIndex:1},divider:{margin:"0 10px"},popper:{zIndex:1e3},listItemInner:{flexGrow:1,display:"flex",justifyContent:"space-between",alignItems:"center"},listItemInnerleft:{display:"flex",alignItems:"center",flexGrow:1},listItem:{position:"relative"}}),Yt=function(){var e=$t(),t=Object(i.d)(dt.e),n=Object(i.d)(dt.b),c=Object(i.d)(dt.h),o=Object(i.d)(dt.g),s=Object(i.d)(dt.d),u=Object(i.c)(),l=t&&t.map((function(e){return a.a.createElement(Vt,{key:e.id,friend:e})}));return Object(r.useEffect)((function(){u(Object(f.c)(n,c))}),[]),Object(r.useEffect)((function(){o&&s&&u(Object(f.f)(n,c,s))}),[o]),a.a.createElement(De.a,{className:e.card,elevation:6},a.a.createElement(re.a,null,l))},$t=Object(j.a)({card:{padding:5}}),Qt=n(526),Xt=n(525),en=n(267),tn=n.n(en),nn=function(){var e=rn(),t=Object(i.d)(dt.a),n=Object(i.c)();return a.a.createElement(De.a,{className:e.card,elevation:6},a.a.createElement(Qt.a,{classes:{indicator:e.indicator},orientation:"vertical",value:t,onChange:function(e,t){n(f.h.setCurrentFriendsSidebarItem(t))},className:e.tabs},a.a.createElement(Xt.a,{label:"All friends",icon:a.a.createElement(tn.a,{className:e.icon}),classes:{wrapper:e.wrapper,selected:e.selected,root:e.tabRoot,labelIcon:e.labelIcon}}),a.a.createElement(Xt.a,{label:"Search friends",icon:a.a.createElement(Pt.a,{className:e.icon}),classes:{wrapper:e.wrapper,selected:e.selected,root:e.tabRoot,labelIcon:e.labelIcon}})))},rn=Object(j.a)({card:{padding:5},tabs:{borderLeft:"3px solid #ccc"},indicator:{width:2,left:0,right:"auto"},wrapper:{flexDirection:"row",justifyContent:"flex-start",textTransform:"none"},icon:{marginRight:15,marginLeft:15},selected:{color:he.a[500],backgroundColor:"#eee"},tabRoot:{padding:0},labelIcon:{minHeight:50}}),an=Object(Ot.a)((function(){var e=cn();return a.a.createElement("div",{className:e.wrapper},a.a.createElement("div",{className:e.leftColumn},a.a.createElement(Yt,null)),a.a.createElement("div",{className:e.rightColumn},a.a.createElement(nn,null)))})),cn=Object(j.a)({wrapper:{display:"flex"},card:{padding:5},leftColumn:{flexGrow:1,marginRight:15},rightColumn:{flexBasis:160}}),on=a.a.lazy((function(){return n.e(4).then(n.bind(null,556))})),sn=a.a.lazy((function(){return Promise.all([n.e(3),n.e(5)]).then(n.bind(null,555))})),un=function(){var e=ln(),t=Object(i.d)(nt.a),n=Object(i.d)(Y);return t?a.a.createElement("main",{className:Object(x.default)(e.content,Object(I.a)({},e.contentShift,n))},a.a.createElement("div",{className:e.drawerHeader}),a.a.createElement(r.Suspense,{fallback:a.a.createElement(_e.a,null)},a.a.createElement(Ce.d,null,a.a.createElement(Ce.b,{exact:!0,path:"/",render:function(){return a.a.createElement(sn,null)}}),a.a.createElement(Ce.b,{path:"/dialogs",render:function(){return a.a.createElement(on,null)}}),a.a.createElement(Ce.b,{path:"/profile/:userId?",render:function(){return a.a.createElement(sn,null)}}),a.a.createElement(Ce.b,{exact:!0,path:"/users",render:function(){return a.a.createElement(zt,null)}}),a.a.createElement(Ce.b,{path:"/users/:userId",render:function(){return a.a.createElement(sn,null)}}),a.a.createElement(Ce.b,{path:"/friends",render:function(){return a.a.createElement(an,null)}}),a.a.createElement(Ce.b,{path:"/login",render:function(){return a.a.createElement(et,null)}}),a.a.createElement(Ce.b,{path:"*",render:function(){return a.a.createElement("div",null,"404 Page not found")}})))):a.a.createElement(_e.a,null)},ln=Object(j.a)((function(e){return{drawerHeader:Object(te.a)(Object(te.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{backgroundColor:he.a[50],flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-180,minHeight:"100vh",padding:15},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}})),dn=Object(j.a)((function(){return Object(w.a)({root:{display:"flex"}})})),fn=function(e){var t=e.initializeApp,n=dn(),c=function(e){alert(e)};return Object(r.useEffect)((function(){return t(),window.addEventListener("unhandledrejection",c),function(){window.removeEventListener("unhandledrejection",c)}}),[]),a.a.createElement("div",{className:n.root},a.a.createElement(ee,null),a.a.createElement(Re,null),a.a.createElement(un,null))},mn=Object(i.b)((function(e){return{}}),{initializeApp:g.c})(fn),pn=function(){return a.a.createElement(S.a,null,a.a.createElement(i.a,{store:O},a.a.createElement(mn,null)))};o.a.render(a.a.createElement(pn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},47:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n(6),a={sidebarIsOpen:!0,currentSidebarItem:null},c={setSidebarIsOpen:function(e){return{type:"SIDEBAR/SET_SIDEBAR_IS_OPEN",sidebarIsOpen:e}},setCurrentSidebarItem:function(e){return{type:"SIDEBAR/SET_CURRENT_SIDEBAR_ITEM",currentSidebarItem:e}}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIDEBAR/SET_SIDEBAR_IS_OPEN":return Object(r.a)(Object(r.a)({},e),{},{sidebarIsOpen:t.sidebarIsOpen});case"SIDEBAR/SET_CURRENT_SIDEBAR_ITEM":return Object(r.a)(Object(r.a)({},e),{},{currentSidebarItem:t.currentSidebarItem});default:return e}}},63:function(e,t,n){"use strict";var r=n(459),a=n(0),c=n.n(a),o=n(112);t.a=function(e){var t=e.size,n=void 0===t?100:t,a=e.style,o=void 0===a?"static-center":a,l=i(),d=s(),f=u(),m=d;return"absolute"===o&&(m=l),"static-top"===o&&(m=f),c.a.createElement("div",{className:m.circularWrapper},c.a.createElement(r.a,{size:n,color:"secondary",className:m.circular}))};var i=Object(o.a)({circularWrapper:{position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:1001},circular:{}}),s=Object(o.a)({circularWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},circular:{}}),u=Object(o.a)({circularWrapper:{display:"flex",justifyContent:"center",alignItems:"flex-start"},circular:{}})},65:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return s}));var r=function(e){return e?void 0:"Field is required"},a=function(e){return function(t){return t&&t.length>e?"Number of letters is more than ".concat(e):void 0}},c=(a(10),a(30)),o=a(100),i=function(e){return/^\s+$/.test(e)},s=function(e){return i(e)&&""!==e?"Field should not be empty":void 0}},73:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return S}));var r=n(8),a=n.n(r),c=n(16),o=n(6),i=n(27),s=n(68),u=function(){return Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.get("auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},l=function(e,t){var n=arguments;return Object(c.a)(a.a.mark((function r(){var c,o,s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=n.length>2&&void 0!==n[2]&&n[2],o=n.length>3&&void 0!==n[3]?n[3]:null,r.next=4,i.c.post("auth/login",{email:e,password:t,rememberMe:c,captcha:o});case 4:return s=r.sent,r.abrupt("return",s.data);case 6:case"end":return r.stop()}}),r)})))()},d=function(){return Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.delete("auth/login");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},f=function(){return Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.get("security/get-captcha-url");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},m=n(14),p=n(47),b={id:null,email:null,login:null,isAuth:!1,captcha:null},g=function(e,t,n,r){return{type:"AUTH/SET_AUTH_USER_DATA",data:{id:e,email:t,login:n,isAuth:r}}},E=function(e){return{type:"AUTH/SET_CAPTCHA",captcha:e}},h=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,o,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(m.a.toggleLoading(!0)),e.next=4,u();case 4:(n=e.sent).resultCode===i.b.Success&&(r=n.data,c=r.id,o=r.login,s=r.email,t(g(c,s,o,!0))),t(m.a.toggleLoading(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(m.a.setLanError(!0));case 12:return e.prev=12,t(m.a.toggleLoading(!1)),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}()},v=function(e,t,n,r){return function(){var o=Object(c.a)(a.a.mark((function c(o){var u,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o(m.a.toggleLoading(!0)),a.next=4,l(e,t,n,r);case 4:(u=a.sent).resultCode===i.b.Success?(o(h()),o(p.b.setCurrentSidebarItem(1))):(u.resultCode===i.a.CaptchaIsRequired&&o(O()),d=u.messages.length>0?u.messages[0]:"some error",o(Object(s.b)("login",{_error:d}))),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),o(m.a.setLanError(!0));case 11:return a.prev=11,o(m.a.toggleLoading(!1)),a.finish(11);case 14:case"end":return a.stop()}}),c,null,[[0,8,11,14]])})));return function(e){return o.apply(this,arguments)}}()},O=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(m.a.toggleLoading(!0)),e.next=4,f();case 4:n=e.sent,t(E(n.url)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(m.a.setLanError(!0));case 11:return e.prev=11,t(m.a.toggleLoading(!1)),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()},S=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(m.a.toggleLoading(!0)),e.next=4,d();case 4:0===e.sent.resultCode&&t(g(null,null,null,!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(m.a.setLanError(!0));case 11:return e.prev=11,t(m.a.toggleLoading(!1)),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET_AUTH_USER_DATA":return Object(o.a)(Object(o.a)({},e),t.data);case"AUTH/SET_CAPTCHA":return Object(o.a)(Object(o.a)({},e),{},{captcha:t.captcha});default:return e}}},88:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return o}));var r=function(e){return e.auth.id},a=function(e){return e.auth.login},c=function(e){return e.auth.isAuth},o=function(e){return e.auth.captcha}}},[[305,1,2]]]);
//# sourceMappingURL=main.15c94f63.chunk.js.map