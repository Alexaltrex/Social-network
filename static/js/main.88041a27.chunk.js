(this["webpackJsonpreact-02"]=this["webpackJsonpreact-02"]||[]).push([[0],{102:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(71),r=a(0),c=a.n(r),s=a(30),o=a(8),i=function(e){return{isAuth:e.auth.isAuth}};function l(e){return Object(o.b)(i)((function(t){var a=t.isAuth,r=Object(n.a)(t,["isAuth"]);return a?c.a.createElement(e,r):c.a.createElement(s.a,{to:"/login"})}))}},104:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(590),s=a(585),o=a(77),i=a(316),l=a(29),u=a(577),d=a(73),m=a(315),f=a(154),p=a.n(f),g=a(43),b=a.n(g),E=a(589),h=a(202),v=a(203),S=a(45),O=a(220),j=a(151),I=a.n(j),w=a(8),x=a(78),_=Object(v.a)({form:"send-message"})((function(e){var t=e.handleSubmit,a=e.submitting,n=e.pristine,c=T(),s=L();return r.a.createElement("form",{onSubmit:t},r.a.createElement(h.a,{name:"message",component:O.a,validate:[S.d],autoFocus:!0,className:c.textArea,classes:s,label:"Enter your message",placeholder:"Enter your message",size:"small"}),r.a.createElement("div",null,r.a.createElement(u.a,{type:"submit",size:"small",color:"primary",variant:"contained",startIcon:r.a.createElement(I.a,null),disabled:a||n,className:c.button},"Send message")))}));t.a=function(e){var t=e.open,a=e.onClose,n=e.id,o=e.name,u=e.src,f=e.dialogs,g=T(),b=Object(w.c)(),h=f&&f.some((function(e){return e.id===n}));return r.a.createElement(r.a.Fragment,null,f&&r.a.createElement(c.a,{open:t,classes:{paper:g.paper},className:g.dialog},r.a.createElement("div",{className:g.titleWrapper},r.a.createElement(d.a,{className:g.title},"New message"),h&&r.a.createElement(i.a,{component:l.b,to:"/dialogs/".concat(n),variant:"body2",className:g.titleLink},"Go to dialog with ",o),r.a.createElement(m.a,{className:g.titleIcon,onClick:function(){a(!1)}},r.a.createElement(p.a,null))),r.a.createElement(s.a,{className:g.content},r.a.createElement("div",{className:g.friendInfo},r.a.createElement(E.a,{className:g.avatar,src:u}),r.a.createElement(i.a,{component:l.b,to:"/users/".concat(n),variant:"subtitle2"},o)),r.a.createElement(_,{onSubmit:function(e){b(Object(x.g)(n,e.message)),a(!1)}}))))};var T=Object(o.a)({dialog:{},paper:{width:500},titleWrapper:{display:"flex",alignItems:"center",backgroundColor:b.a[500],color:"white",padding:"5px 5px 5px 15px"},title:{flexGrow:1},titleLink:{color:"white"},titleIcon:{color:"white",marginLeft:10},friendInfo:{display:"flex",alignItems:"center",padding:"10px 0 15px 0"},avatar:{marginRight:10},content:{backgroundColor:b.a[50],paddingBottom:15},textArea:{width:"100%"},button:{marginTop:15}}),L=Object(o.a)({root:{backgroundColor:"white"}})},13:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return u}));var n=a(7),r=a.n(n),c=a(10),s=a(5),o=a(85),i={isInitialized:!1,globalError:null,isLoading:!1,lanError:!1},l={setIsInitialized:function(e){return{type:"APP/SET_IS_INITIALIZED",isInitialized:e}},toggleLoading:function(e){return{type:"APP/TOGGLE_LOADING",isLoading:e}},setLanError:function(e){return{type:"APP/SET_LAN_ERROR",lanError:e}}},u=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t(l.toggleLoading(!0)),a=t(Object(o.b)()),Promise.all([a]).then((function(){t(l.setIsInitialized(!0))}))}catch(n){t(l.setLanError(!0))}finally{t(l.toggleLoading(!1))}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET_IS_INITIALIZED":return Object(s.a)(Object(s.a)({},e),{},{isInitialized:t.isInitialized});case"APP/TOGGLE_LOADING":return Object(s.a)(Object(s.a)({},e),{},{isLoading:t.isLoading});case"APP/SET_LAN_ERROR":return Object(s.a)(Object(s.a)({},e),{},{lanError:t.lanError});default:return e}}},150:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(e){return e.app.isInitialized},r=function(e){return e.app.isLoading}},178:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={getCurrentDate:function(){return new Date},getMonthWord:function(e){switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December"}},dateTranslateFromJS:function(e){var t=e.getMonth()+1,a=e.getDate(),n=e.getHours(),r=e.getMinutes();n<10&&(n="0".concat(n)),r<10&&(r="0".concat(r));var c=this.getMonthWord(+t);return"".concat(a," ").concat(c," in ").concat(n,":").concat(r)},dateTranslateFromAPI:function(e){e.slice(0,4);var t=e.slice(5,7),a=this.getMonthWord(+t),n=e.slice(8,10),r=e.slice(11,13),c=e.slice(14,16);return"".concat(n," ").concat(a," in ").concat(r,":").concat(c)}}},18:function(e,t,a){"use strict";a.d(t,"h",(function(){return f})),a.d(t,"d",(function(){return p})),a.d(t,"g",(function(){return g})),a.d(t,"f",(function(){return b})),a.d(t,"e",(function(){return E})),a.d(t,"b",(function(){return v})),a.d(t,"c",(function(){return S}));var n=a(7),r=a.n(n),c=a(10),s=a(55),o=a(5),i=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(o.a)(Object(o.a)({},e),n):e}))},l=a(19),u={getUsers:function(){var e=arguments;return Object(c.a)(r.a.mark((function t(){var a,n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:1,n=e.length>1&&void 0!==e[1]?e[1]:10,t.next=4,l.c.get("users?page=".concat(a,"&count=").concat(n));case 4:return c=t.sent,t.abrupt("return",c.data);case 6:case"end":return t.stop()}}),t)})))()},searchUsers:function(){var e=arguments;return Object(c.a)(r.a.mark((function t(){var a,n,c,s,o,i,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:1,n=e.length>1&&void 0!==e[1]?e[1]:10,c=e.length>2?e[2]:void 0,s=e.length>3?e[3]:void 0,o="users?page=".concat(a,"&count=").concat(n),c&&(o+="&term=".concat(c)),i="all"===s?"":"&friend=".concat(s),o+=i,t.next=10,l.c.get(o);case 10:return u=t.sent,t.abrupt("return",u.data);case 12:case"end":return t.stop()}}),t)})))()},followUser:function(e){return Object(c.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.c.post("follow/".concat(e));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()},unfollowUser:function(e){return Object(c.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.c.delete("follow/".concat(e));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()}},d=a(13),m={users:null,pageSize:10,pageFriendsSize:10,totalUsersCount:0,totalFriendsCount:0,currentPage:1,currentFriendsPage:1,isLoading:!1,isFollowing:!1,followingInProgress:[],friends:null,searchUsersParams:{term:"",friend:"all"},searchFriendsParams:{term:""},isFriendsSearching:!1,showUsersFrom:"all",currentFriendsSidebarItem:0,needToChangeListOfFriends:!1,friendIdToRemove:null,valueFromHeaderSearch:null},f={setValueFromHeaderSearch:function(e){return{type:"USERS/SET_VALUE_FROM_HEADER_SEARCH",valueFromHeaderSearch:e}},toggleIsFriendsSearching:function(e){return{type:"USERS/TOGGLE_IS_FRIENDS_SEARCHING",isFriendsSearching:e}},setNeedToChangeListOfFriends:function(e,t){return{type:"USERS/SET_NEED_TO_CHANG_LIST_OF_FRIENDS",needToChangeListOfFriends:e,friendIdToRemove:t}},setCurrentFriendsSidebarItem:function(e){return{type:"USERS/SET_CURRENT_FRIENDS_SIDEBAR_ITEM",currentFriendsSidebarItem:e}},setFriends:function(e){return{type:"USERS/SET_FRIENDS",friends:e}},setSearchFriendsParams:function(e){return{type:"USERS/SET_SEARCH_FRIENDS_PARAMS",searchFriendsParams:e}},setSearchUsersParams:function(e){return{type:"USERS/SET_SEARCH_USERS_PARAMS",searchUsersParams:e}},setFollow:function(e){return{type:"USERS/FOLLOW",userId:e}},setUnfollow:function(e){return{type:"USERS/UNFOLLOW",userId:e}},setUsers:function(e){return{type:"USERS/SET_USERS",users:e}},setCurrentPage:function(e){return{type:"USERS/SET_CURRENT_PAGE",currentPage:e}},setCurrentFriendsPage:function(e){return{type:"USERS/SET_CURRENT_FRIENDS_PAGE",currentFriendsPage:e}},setTotalUsersCount:function(e){return{type:"USERS/SET_TOTAL_USERS_COUNT",totalUsersCount:e}},setTotalFriendsCount:function(e){return{type:"USERS/SET_TOTAL_FRIENDS_COUNT",totalFriendsCount:e}},toggleLoading:function(e){return{type:"USERS/TOGGLE_LOADING",isLoading:e}},toggleFollowing:function(e){return{type:"USERS/TOGGLE_FOLLOWING",isFollowing:e}},toggleFollowingProgress:function(e,t){return{type:"USERS/TOGGLE_FOLLOWING_PROGRESS",followingInProgress:e,id:t}},setShowUsersFrom:function(e){return{type:"USERS/SET_SHOW_USERS_FROM",showUsersFrom:e}}},p=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(d.a.toggleLoading(!0)),a.next=4,u.getUsers(e,t);case 4:c=a.sent,n(f.setUsers(c.items)),n(f.setTotalUsersCount(c.totalCount)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n(d.a.setLanError(!0));case 12:return a.prev=12,n(d.a.toggleLoading(!1)),a.finish(12);case 15:case"end":return a.stop()}}),a,null,[[0,9,12,15]])})));return function(e){return a.apply(this,arguments)}}()},g=function(e,t,a,n){return function(){var s=Object(c.a)(r.a.mark((function c(s){var o;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s(d.a.toggleLoading(!0)),r.next=4,u.searchUsers(e,t,a,n);case 4:o=r.sent,console.log("searchUsers"),s(f.setUsers(o.items)),s(f.setTotalUsersCount(o.totalCount)),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),s(d.a.setLanError(!0));case 13:return r.prev=13,s(d.a.toggleLoading(!1)),r.finish(13);case 16:case"end":return r.stop()}}),c,null,[[0,10,13,16]])})));return function(e){return s.apply(this,arguments)}}()},b=function(e,t,a){return function(){var n=Object(c.a)(r.a.mark((function n(c){var s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c(f.toggleIsFriendsSearching(!0)),n.next=4,u.searchUsers(e,t,a,"true");case 4:s=n.sent,c(f.setFriends(s.items)),c(f.setTotalFriendsCount(s.totalCount)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),c(d.a.setLanError(!0));case 12:return n.prev=12,c(f.toggleIsFriendsSearching(!1)),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])})));return function(e){return n.apply(this,arguments)}}()},E=function(e,t,a){return function(){var n=Object(c.a)(r.a.mark((function n(c){var s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c(f.toggleFollowing(!0)),c(f.toggleFollowingProgress(!0,a)),n.next=5,u.unfollowUser(a);case 5:if(0!==n.sent.resultCode){n.next=13;break}return n.next=9,u.searchUsers(e,t,"","true");case 9:s=n.sent,c(f.setFriends(s.items)),c(f.setTotalFriendsCount(s.totalCount)),c(f.setNeedToChangeListOfFriends(!1,null));case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),c(d.a.setLanError(!0));case 18:return n.prev=18,c(f.toggleFollowing(!0)),c(f.toggleFollowingProgress(!1,a)),n.finish(18);case 22:case"end":return n.stop()}}),n,null,[[0,15,18,22]])})));return function(e){return n.apply(this,arguments)}}()},h=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n,c){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(f.toggleFollowing(!0)),t(f.toggleFollowingProgress(!0,a)),e.next=4,n(a);case 4:0===e.sent.resultCode&&t(c(a)),t(f.toggleFollowingProgress(!1,a));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),v=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h(a,e,u.followUser.bind(e),f.setFollow);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),a(d.a.setLanError(!0));case 8:return t.prev=8,a(f.toggleFollowing(!1)),t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,5,8,11]])})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(a,e,u.unfollowUser.bind(e),f.setUnfollow);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS/SET_VALUE_FROM_HEADER_SEARCH":return Object(o.a)(Object(o.a)({},e),{},{valueFromHeaderSearch:t.valueFromHeaderSearch});case"USERS/TOGGLE_IS_FRIENDS_SEARCHING":return Object(o.a)(Object(o.a)({},e),{},{isFriendsSearching:t.isFriendsSearching});case"USERS/SET_NEED_TO_CHANG_LIST_OF_FRIENDS":return Object(o.a)(Object(o.a)({},e),{},{needToChangeListOfFriends:t.needToChangeListOfFriends,friendIdToRemove:t.friendIdToRemove});case"USERS/SET_CURRENT_FRIENDS_SIDEBAR_ITEM":return Object(o.a)(Object(o.a)({},e),{},{currentFriendsSidebarItem:t.currentFriendsSidebarItem});case"USERS/SET_FRIENDS":return Object(o.a)(Object(o.a)({},e),{},{friends:t.friends});case"USERS/SET_SHOW_USERS_FROM":return Object(o.a)(Object(o.a)({},e),{},{showUsersFrom:t.showUsersFrom});case"USERS/SET_SEARCH_FRIENDS_PARAMS":return Object(o.a)(Object(o.a)({},e),{},{searchFriendsParams:t.searchFriendsParams});case"USERS/SET_SEARCH_USERS_PARAMS":return Object(o.a)(Object(o.a)({},e),{},{searchUsersParams:t.searchUsersParams});case"USERS/FOLLOW":return Object(o.a)(Object(o.a)({},e),{},{users:i(e.users,t.userId,"id",{followed:!0})});case"USERS/UNFOLLOW":return Object(o.a)(Object(o.a)({},e),{},{users:i(e.users,t.userId,"id",{followed:!1})});case"USERS/SET_USERS":return Object(o.a)(Object(o.a)({},e),{},{users:t.users});case"USERS/SET_CURRENT_PAGE":return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.currentPage});case"USERS/SET_CURRENT_FRIENDS_PAGE":return Object(o.a)(Object(o.a)({},e),{},{currentFriendsPage:t.currentFriendsPage});case"USERS/SET_TOTAL_USERS_COUNT":return Object(o.a)(Object(o.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"USERS/SET_TOTAL_FRIENDS_COUNT":return Object(o.a)(Object(o.a)({},e),{},{totalFriendsCount:t.totalFriendsCount});case"USERS/TOGGLE_LOADING":return Object(o.a)(Object(o.a)({},e),{},{isLoading:t.isLoading});case"USERS/TOGGLE_FOLLOWING":return Object(o.a)(Object(o.a)({},e),{},{isFollowing:t.isFollowing});case"USERS/TOGGLE_FOLLOWING_PROGRESS":return Object(o.a)(Object(o.a)({},e),{},{followingInProgress:t.followingInProgress?[].concat(Object(s.a)(e.followingInProgress),[t.id]):e.followingInProgress.filter((function(e){return e!==t.id}))});default:return e}}},19:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n,r,c=a(283),s=a.n(c).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"e09d6375-5dac-4dde-95ca-700e186a8f7d"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(n||(n={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(r||(r={}))},212:function(e,t,a){"use strict";a.d(t,"g",(function(){return n})),a.d(t,"h",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"j",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"i",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"e",(function(){return m}));var n=function(e){return e.profile.posts},r=function(e){return e.profile.profile},c=function(e){return e.profile.currentUserProfile},s=function(e){return e.profile.status},o=function(e){return e.profile.avatarIsLoading},i=function(e){return e.profile.statusIsLoading},l=function(e){return e.profile.editMode},u=function(e){return e.profile.currentInfoFormSidebarItem},d=function(e){return e.profile.followed},m=function(e){return e.profile.editingPost}},22:function(e,t,a){"use strict";a.d(t,"p",(function(){return n})),a.d(t,"f",(function(){return r})),a.d(t,"j",(function(){return c})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"o",(function(){return l})),a.d(t,"n",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"l",(function(){return m})),a.d(t,"k",(function(){return f})),a.d(t,"m",(function(){return p})),a.d(t,"b",(function(){return g})),a.d(t,"i",(function(){return b})),a.d(t,"e",(function(){return E})),a.d(t,"h",(function(){return h})),a.d(t,"q",(function(){return v}));var n=function(e){return e.users.users},r=function(e){return e.users.friends},c=function(e){return e.users.pageSize},s=function(e){return e.users.currentPage},o=function(e){return e.users.currentFriendsPage},i=function(e){return e.users.followingInProgress},l=function(e){return e.users.totalUsersCount},u=function(e){return e.users.totalFriendsCount},d=function(e){return e.users.isFollowing},m=function(e){return e.users.searchUsersParams},f=function(e){return e.users.searchFriendsParams},p=function(e){return e.users.showUsersFrom},g=function(e){return e.users.currentFriendsSidebarItem},b=function(e){return e.users.needToChangeListOfFriends},E=function(e){return e.users.friendIdToRemove},h=function(e){return e.users.isFriendsSearching},v=function(e){return e.users.valueFromHeaderSearch}},220:function(e,t,a){"use strict";var n=a(71),r=a(169),c=a(0),s=a.n(c),o=a(77);t.a=function(e){var t=e.icon,a=e.label,c=e.placeholder,o=e.input,l=e.meta,u=l.touched,d=l.invalid,m=l.error,f=e.classes,p=(e.rows,Object(n.a)(e,["icon","label","placeholder","input","meta","classes","rows"])),g=i();return s.a.createElement("div",{className:g.root},t&&s.a.createElement("div",{className:g.iconLeft},t),s.a.createElement(r.a,Object.assign({InputProps:f?{classes:f}:null,multiline:!0,variant:"outlined",label:a,placeholder:c,error:u&&d,helperText:u&&m},o,p)))};var i=Object(o.a)({root:{position:"relative"},iconLeft:{position:"absolute",left:-5,top:"50%",transform:"translate(-100%, -50%)"}})},251:function(e,t,a){"use strict";var n=a(71),r=a(0),c=a.n(r),s=a(77),o=a(588);t.a=function(e){var t=e.icon,a=e.label,r=e.placeholder,s=e.input,l=e.meta,u=l.touched,d=l.invalid,m=(l.error,e.rows),f=void 0===m?4:m,p=e.multiline,g=void 0===p||p,b=e.classes,E=Object(n.a)(e,["icon","label","placeholder","input","meta","rows","multiline","classes"]),h=i();return c.a.createElement("div",{className:h.root},t&&c.a.createElement("div",{className:h.iconLeft},t),c.a.createElement(o.a,Object.assign({classes:b||null,multiline:g,rows:f,variant:"outlined",label:a,placeholder:r,error:u&&d},s,E)))};var i=Object(s.a)({root:{position:"relative"},iconLeft:{position:"absolute",left:-5,top:"50%",transform:"translate(-100%, -50%)"}})},270:function(e,t,a){"use strict";var n=a(584),r=a(587),c=a(0),s=a.n(c),o=a(77);t.a=function(e){var t=e.input,a=e.label,c=e.icon,o=i();return s.a.createElement("div",{className:o.root},c&&s.a.createElement("div",{className:o.iconLeft},c),s.a.createElement(n.a,{control:s.a.createElement(r.a,{checked:!!t.value,color:"primary",onChange:t.onChange}),label:a}))};var i=Object(o.a)({root:{position:"relative"},iconLeft:{position:"absolute",left:-5,top:"50%",transform:"translate(-100%, -50%)"}})},355:function(e,t,a){e.exports=a(572)},360:function(e,t,a){},45:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return o}));var n=function(e){return e?void 0:"Field is required"},r=function(e){return function(t){return t&&t.length>e?"Number of letters is more than ".concat(e):void 0}},c=(r(10),r(30)),s=(r(100),function(e){return/^\s+$/.test(e)}),o=function(e){return s(e)&&""!==e?"Field should not be empty":void 0}},572:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),r=a.n(n),c=a(25),s=a.n(c),o=(a(360),a(8)),i=a(32),l=a(95),u=a(78),d=a(68),m=a(18),f=a(85),p=a(284),g=a(280),b=a(13),E=a(285),h=a(5),v={theme:{menuBackgroundColor:"#3f50b5",displayBackgroundColor:"#e8eaf6"}},S=function(e){return{type:"Settings/SET_MENU_BACKGROUND_COLOR",menuBackgroundColor:e}},O=function(e){return{type:"Settings/SET_DISPLAY_BACKGROUND_COLOR",displayBackgroundColor:e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Settings/SET_MENU_BACKGROUND_COLOR":return Object(h.a)(Object(h.a)({},e),{},{theme:Object(h.a)(Object(h.a)({},e.theme),{},{menuBackgroundColor:t.menuBackgroundColor})});case"Settings/SET_DISPLAY_BACKGROUND_COLOR":return Object(h.a)(Object(h.a)({},e),{},{theme:Object(h.a)(Object(h.a)({},e.theme),{},{displayBackgroundColor:t.displayBackgroundColor})});default:return e}},I=Object(i.combineReducers)({profile:l.a,dialogs:u.a,sidebar:d.a,users:m.a,auth:f.a,app:b.b,settings:j,form:g.a}),w=Object(i.createStore)(I,Object(E.composeWithDevTools)(Object(i.applyMiddleware)(p.a)));window.store=w;var x=w,_=a(29),T=a(35),L=a(77),C=a(73),R=a(626),N=a(577),y=a(589),k=a(292),D=a.n(k),F=a(291),A=a.n(F),M=a(579),U=a(314),P=a(628),G=a(629),B=a(630),W=a(627),z=a(631),H=a(165),V=a.n(H),K=a(632),q=a(294),J=a.n(q),Y=a(91),Z=a(212),$=a(287),Q=a(202),X=a(44),ee=a(203),te=a(625),ae=a(45),ne=a(106),re=a.n(ne),ce=a(251),se=a(43),oe=a.n(se),ie=a(30),le=Object(ee.a)({form:"header-search",onSubmitSuccess:function(e,t){t(Object(X.a)("header-search"))}})((function(e){var t=e.handleSubmit,a=(e.submitting,e.pristine,de()),n=me();return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:a.fieldWrapper},r.a.createElement(re.a,{className:a.icon}),r.a.createElement(Q.a,{name:"name",component:ce.a,validate:[ae.d],multiline:!1,className:a.field,classes:n,placeholder:"Search...",size:"small"})))})),ue=function(e){Object($.a)(e);var t=Object(o.c)(),a=Object(ie.g)();return r.a.createElement("div",null,r.a.createElement(le,{onSubmit:function(e){t(m.h.setValueFromHeaderSearch(e.name)),a.push("/users")}}))},de=Object(L.a)({field:{color:"white"},fieldWrapper:{display:"flex",alignItems:"center",backgroundColor:oe.a[400],height:40,borderRadius:20,paddingRight:20,"&:hover":{backgroundColor:oe.a[300]},marginRight:15},icon:{padding:"0 10px",color:"white"}}),me=Object(L.a)((function(e){return Object(te.a)({input:{transition:e.transitions.create("width"),backgroundColor:"none",width:200,"&:focus":{width:300}}})})),fe=function(e){return e.settings.theme},pe=function(){var e=ge(),t=Object(o.d)(Y.c),a=Object(o.d)(Y.d),c=Object(o.d)(Z.h),s=Object(o.d)(Y.b),i=Object(o.c)();Object(n.useEffect)((function(){s&&i(Object(l.d)(s))}),[s]);var u=Object(n.useState)(!1),d=Object(T.a)(u,2),m=d[0],p=d[1],g=m?r.a.createElement(A.a,{className:e.icon}):r.a.createElement(D.a,{className:e.icon}),b=r.a.useRef(null),E=function(e){b.current&&b.current.contains(e.target)||p(!1)};function h(e){"Tab"===e.key&&(e.preventDefault(),p(!1))}var v=r.a.useRef(m);r.a.useEffect((function(){!0===v.current&&!1===m&&b.current.focus(),v.current=m}),[m]);var S=function(e){E(e)},O=function(e){E(e),i(Object(f.d)())},j=Object(o.d)(fe),I=Object(L.a)({wrapper:{backgroundColor:j.menuBackgroundColor,position:"fixed",top:0,left:0,right:0,zIndex:10}})();return r.a.createElement("div",{className:I.wrapper},r.a.createElement(R.a,{className:e.toolBar},r.a.createElement(C.a,{variant:"h6",noWrap:!0,className:e.logo},"Social Network"),r.a.createElement(ue,null),t?r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{ref:b,"aria-controls":m?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){p((function(e){return!e}))},classes:{root:e.button,label:e.label},color:"inherit"},r.a.createElement(C.a,{variant:"subtitle1",noWrap:!0,className:e.login},a),c&&c.photos.small?r.a.createElement(y.a,{src:c.photos.small,className:e.avatar}):r.a.createElement(y.a,{className:e.avatar}),g),r.a.createElement(W.a,{open:m,className:e.popper,anchorEl:b.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,a=e.placement;return r.a.createElement(M.a,Object.assign({},t,{style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),r.a.createElement(U.a,null,r.a.createElement(P.a,{onClickAway:E},r.a.createElement(G.a,{autoFocusItem:m,id:"menu-list-grow",onKeyDown:h},r.a.createElement(B.a,{onClick:O},r.a.createElement(z.a,null,r.a.createElement(J.a,null)),r.a.createElement(K.a,{primary:"Logout"})),r.a.createElement(B.a,{onClick:S,component:_.b,to:"/settings"},r.a.createElement(z.a,null,r.a.createElement(V.a,null)),r.a.createElement(K.a,{primary:"Settings"}))))))}))):r.a.createElement(N.a,{color:"inherit",component:_.b,to:"/login"},"\u0412\u043e\u0439\u0442\u0438")))},ge=Object(L.a)({wrapper:{},toolBar:{maxWidth:1e3,width:"100%",margin:"0 auto",boxSizing:"border-box",padding:"0 0 0 10px"},logo:{flexGrow:1,color:"white"},login:{color:"white"},button:{"&:hover":{backgroundColor:"rgba(0,0,0,0.3)",borderRadius:0,minHeight:64},textTransform:"none",paddingTop:0,paddingBottom:0},label:{minHeight:64},avatar:{width:50,height:50,margin:"0 10px"},icon:{color:"white"},popper:{boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"}}),be=a(580),Ee=a(216),he=a.n(Ee),ve=a(269),Se=a.n(ve),Oe=a(298),je=a.n(Oe),Ie=a(295),we=a.n(Ie),xe=a(296),_e=a.n(xe),Te=a(581),Le=a(4),Ce=function(e){return e.sidebar.currentSidebarItem},Re=function(e){var t=e.to,a=e.primary,n=e.icon,c=e.ownIndex,s=Ne(),i=Object(o.d)(Ce),u=Object(o.c)();return r.a.createElement("li",null,r.a.createElement(Te.a,{onClick:function(){u(d.b.setCurrentSidebarItem(c)),u(l.f.setEditMode(!1)),u(m.h.setShowUsersFrom("all")),u(m.h.setCurrentPage(1)),u(m.h.setSearchFriendsParams({term:""})),u(m.h.setCurrentFriendsSidebarItem(0)),u(m.h.setValueFromHeaderSearch(""))},selected:c===i,button:!0,component:_.b,to:t},n?r.a.createElement(we.a,{className:Object(Le.default)(c===i&&s.iconSelected,s.icon)},n):null,r.a.createElement(_e.a,{primary:a,className:Object(Le.default)(c===i&&s.text)})))},Ne=Object(L.a)((function(e){return{icon:{minWidth:"inherit",marginRight:10},iconSelected:{color:oe.a[500]},text:{color:oe.a[600],fontWeight:900}}})),ye=a(297),ke=a.n(ye),De=function(){var e=Fe();return r.a.createElement(be.a,{className:e.list},r.a.createElement(Re,{ownIndex:1,to:"/profile",primary:"My profile",icon:r.a.createElement(ke.a,null)}),r.a.createElement(Re,{ownIndex:2,to:"/dialogs",primary:"Dialogs",icon:r.a.createElement(Se.a,null)}),r.a.createElement(Re,{ownIndex:3,to:"/users",primary:"Users",icon:r.a.createElement(je.a,null)}),r.a.createElement(Re,{ownIndex:4,to:"/friends",primary:"Friends",icon:r.a.createElement(he.a,null)}),r.a.createElement(Re,{ownIndex:5,to:"/settings",primary:"Settings",icon:r.a.createElement(V.a,null)}))},Fe=Object(L.a)({list:{minWidth:140}}),Ae=a(63),Me=a(302),Ue=a.n(Me),Pe=a(90),Ge=a(637),Be=a(633),We=a(318),ze=a(634),He=a(636),Ve=a(315),Ke=a(300),qe=a.n(Ke),Je=a(301),Ye=a.n(Je),Ze=a(653),$e=a(299),Qe=a.n($e),Xe=function(e){var t=e.label,a=e.input,c=e.placeholder,s=e.meta,o=e.disabled,i=et(),l=Object(n.useState)(!1),u=Object(T.a)(l,2),d=u[0],m=u[1],f=Object(n.useState)(""),p=Object(T.a)(f,2),g=p[0],b=p[1];return r.a.createElement("div",{className:i.root},r.a.createElement(Qe.a,{className:i.iconLeft}),r.a.createElement(Be.a,{className:i.textField,variant:"outlined"},r.a.createElement(ze.a,{htmlFor:"outlined-adornment-password",classes:{outlined:i.outlined}},t),r.a.createElement(Ze.a,Object.assign({classes:{root:i.outlinedInputRoot,input:i.outlinedInputInput},disabled:o,id:"outlined-adornment-password",placeholder:c,type:d?"text":"password",value:g,error:s.touched&&s.invalid,onChange:function(e){b(e.target.value)}},a,{endAdornment:r.a.createElement(He.a,{position:"end"},r.a.createElement(Ve.a,{"aria-label":"toggle password visibility",onClick:function(){m(!d)},onMouseDown:function(e){e.preventDefault()},edge:"end",className:i.iconButton},d?r.a.createElement(qe.a,null):r.a.createElement(Ye.a,null))),labelWidth:73})),s.touched&&s.invalid&&r.a.createElement(C.a,{color:"error",variant:"caption",className:i.error},s.error)))},et=Object(We.a)({root:{position:"relative",width:"100%"},iconLeft:{position:"absolute",left:-5,top:"50%",transform:"translate(-100%, -50%)"},textField:{width:"100%"},error:{paddingLeft:14,paddingTop:2},outlinedInputRoot:{width:"100%"},outlinedInputInput:{height:40,paddingTop:0,paddingBottom:0},outlined:{transform:"translate(14px, 12px) scale(1)"},iconButton:{padding:8}}),tt=a(270),at=Object(ee.a)({form:"login"})((function(e){var t=e.handleSubmit,a=e.submitting,n=e.pristine,c=e.error,s=e.captcha,o=rt();return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:o.fieldWrapper},r.a.createElement(Q.a,{name:"email",component:Pe.a,icon:r.a.createElement(Ue.a,null),className:o.textField,validate:[ae.c,ae.d],label:"email",size:"small"})),r.a.createElement("div",{className:o.fieldWrapper},r.a.createElement(Q.a,{name:"password",className:o.textField,component:Xe,placeholder:"Enter your password",label:"Password",validate:[ae.c,ae.d]})),r.a.createElement("div",{className:o.fieldWrapper},r.a.createElement(Q.a,{name:"rememberMe",component:tt.a,label:"Remember me"})),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o.fieldWrapper},r.a.createElement("img",{src:s,alt:""})),r.a.createElement("div",{className:o.fieldWrapper},r.a.createElement(Q.a,{name:"captcha",className:o.textField,component:Pe.a,placeholder:"Enter symbols from image",label:"Captcha",validate:[ae.c,ae.d],size:"small"}))),c&&!n&&r.a.createElement(C.a,{color:"error",variant:"h6",className:o.fieldWrapper},c),r.a.createElement("div",{className:o.fieldWrapper},r.a.createElement(N.a,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,size:"large",className:o.button,disabled:a||n},"Enter")))})),nt=function(){var e=rt(),t=Object(o.d)(Y.c),a=Object(o.d)(Y.a),n=Object(o.c)();return t?r.a.createElement(ie.a,{to:"/profile"}):r.a.createElement("div",{className:e.root},r.a.createElement(Ge.a,{className:e.card,elevation:6},r.a.createElement(C.a,{className:e.title,align:"center",color:"primary",variant:"h5"},"Enter in your profile"),r.a.createElement(at,{onSubmit:function(e){n(Object(f.c)(e.email,e.password,e.rememberMe,e.captcha))},captcha:a})))},rt=Object(L.a)({root:{display:"flex",justifyContent:"center"},card:{width:500,padding:"15px 30px 15px 10px",borderRadius:10},error:{width:300,marginBottom:10},textField:{width:"100%"},fieldWrapper:{marginLeft:35,marginBottom:10},button:{},title:{marginBottom:20}}),ct=a(150),st=a(303),ot=a.n(st),it=a(304),lt=a.n(it),ut=function(e){for(var t=e.totalItemsCount,a=e.pageSize,c=e.currentPage,s=e.onPageChanged,o=e.portionSize,i=void 0===o?10:o,l=dt(),u=Math.ceil(t/a),d=[],m=1;m<u+1;m++)d.push(m);var f=Math.ceil(u/i),p=Object(n.useState)(1),g=Object(T.a)(p,2),b=g[0],E=g[1],h=(b-1)*i+1,v=b*i,S=d.filter((function(e){return e>=h&&e<=v})).map((function(e){return r.a.createElement(N.a,{className:l.buttonRoot,key:e,onClick:function(t){s(e)},size:"small",color:"primary",disableElevation:!0,variant:e===c?"contained":"outlined"},e)})),O=(b-1)*a,j="".concat((b-2)*a+1,"...").concat(O),I=b<f-1?(b+1)*a:u,w="".concat(b*a+1,"...").concat(I);return r.a.createElement("div",{className:l.paginator},b>1&&r.a.createElement(Ve.a,{onClick:function(){E(1),s(1)},className:l.iconButtonRoot,size:"small"},r.a.createElement(ot.a,{className:l.icon})),b>1&&r.a.createElement(N.a,{className:l.buttonRoot,onClick:function(){E(b-1),s((b-2)*i+1)},size:"small",color:"primary",disableElevation:!0,variant:"outlined"},j),S,b<f&&r.a.createElement(N.a,{className:l.buttonRoot,onClick:function(){E(b+1),s(b*i+1)},size:"small",color:"primary",disableElevation:!0,variant:"outlined"},w),b<f&&r.a.createElement(Ve.a,{onClick:function(){E(f),s(u)},className:l.iconButtonRoot,size:"small"},r.a.createElement(lt.a,{className:l.icon})))},dt=Object(L.a)({paginator:{},buttonRoot:{marginRight:5,paddingLeft:3,paddingRight:3,paddingTop:0,paddingBottom:0,minWidth:24},iconButtonRoot:{borderRadius:4,border:"1px solid rgba(63, 81, 181, 0.5)",marginRight:5,padding:0,color:oe.a[500]},icon:{width:22.4,height:22.4}}),mt=a(22),ft=a(102),pt=a(647),gt=a(309),bt=a.n(gt),Et=a(271),ht=a.n(Et),vt=a(308),St=a.n(vt),Ot=a(646),jt=a(71),It=a(654),wt=a(652),xt=a(584),_t=a(583),Tt=function(e){var t=e.labels,a=(e.value,e.input),n=e.classes,c=e.label,s=Object(jt.a)(e,["labels","value","input","classes","label"]),o=t.map((function(e,t){return r.a.createElement(xt.a,{value:e.value,key:t,className:n.formControlLabel,control:r.a.createElement(wt.a,null),label:e.label})}));return r.a.createElement(Be.a,null,r.a.createElement(_t.a,{component:"legend",className:n.formLabel},c),r.a.createElement(It.a,Object.assign({value:"all",className:n.radioGroup},a,s),o))},Lt=a(638),Ct=Object(ee.a)({form:"searchUsers"})((function(e){var t=e.handleSubmit,a=e.submitting,n=e.pristine,c=(e.reset,e.error),s=Nt(),i=yt(),l=Object(o.c)();return r.a.createElement("form",{onSubmit:t},r.a.createElement(Q.a,{name:"term",component:Pe.a,fullWidth:!0,autoFocus:!0,validate:[ae.d],label:"User name",size:"small",onChange:function(){return l(Object(X.c)("searchUsers"))}}),r.a.createElement(Q.a,{name:"friend",label:"User are friend or not",component:Tt,classes:i,labels:[{value:"all",label:"All"},{value:"true",label:"Friend"},{value:"false",label:"Not friend"}],size:"small"}),r.a.createElement("div",null,r.a.createElement(N.a,{type:"submit",size:"small",color:"primary",variant:"contained",startIcon:r.a.createElement(re.a,null),disabled:a||n,className:s.button},"Search")),c&&!n&&r.a.createElement(C.a,{color:"error",variant:"h6"},c))})),Rt=function(){var e=Nt(),t=Object(o.d)(mt.q),a=Object(o.c)(),c={term:t||"",friend:"all"};return Object(n.useEffect)((function(){t&&(a(Object(X.c)("searchUsers")),a(m.h.setSearchUsersParams({term:t,friend:"all"})),a(m.h.setCurrentPage(1)),a(m.h.setShowUsersFrom("search")))}),[t]),r.a.createElement(Ge.a,{className:e.card,elevation:6},r.a.createElement(C.a,{variant:"h6",color:"primary",classes:{h6:e.title}},"Search users"),r.a.createElement(Lt.a,{classes:{root:e.divider}}),r.a.createElement(Ct,{onSubmit:function(e){console.log(e),a(m.h.setSearchUsersParams(e)),a(m.h.setCurrentPage(1)),a(m.h.setShowUsersFrom("search"))},initialValues:c}))},Nt=Object(L.a)({card:{padding:10,paddingBottom:10,marginBottom:10},title:{marginLeft:10},divider:{marginTop:5,marginBottom:15},button:{textTransform:"none"}}),yt=Object(L.a)({formLabel:{margin:"15px 10px 5px"},radioGroup:{display:"flex",flexDirection:"row",marginLeft:10},formControlLabel:{}}),kt=a(87),Dt=a(305),Ft=a.n(Dt),At=a(306),Mt=a.n(At),Ut=a(655),Pt=a(639),Gt=function(e){var t=e.view,a=e.setView;return r.a.createElement(Ut.a,{size:"small",exclusive:!0,value:t,onChange:function(e,t){a(t)},"aria-label":"items view"},r.a.createElement(Pt.a,{value:"list","aria-label":"list view"},r.a.createElement(Ft.a,{fontSize:"small",color:"primary"})),r.a.createElement(Pt.a,{value:"block","aria-label":"block view"},r.a.createElement(Mt.a,{fontSize:"small",color:"primary"})))},Bt=a(641),Wt=a(642),zt=a(643),Ht=a(156),Vt=a.n(Ht),Kt=a(155),qt=a.n(Kt),Jt=a(644),Yt=a(151),Zt=a.n(Yt),$t=a(104),Qt=function(e){var t=e.user,a=e.dialogs,n=(e.view,Xt()),c=r.a.useState(!1),s=Object(T.a)(c,2),i=s[0],l=s[1],u=Object(o.d)(mt.d),d=Object(o.d)(mt.g),f=Object(o.c)(),p=t.followed?"UnFollow":"Follow",g=t.followed?r.a.createElement(qt.a,null):r.a.createElement(Vt.a,null),b=t&&t.photos.small?t.photos.small:void 0;return r.a.createElement(Bt.a,{item:!0},r.a.createElement(Ge.a,{elevation:6,className:n.card},r.a.createElement(Wt.a,{component:_.b,to:"/users/".concat(t.id)},r.a.createElement(y.a,{className:n.avatar,src:b||void 0,variant:"rounded"})),r.a.createElement(zt.a,{className:n.cardContent},r.a.createElement(C.a,{color:"primary",variant:"subtitle2",align:"center"},t.name)),r.a.createElement(Jt.a,{disableSpacing:!0,className:n.cardActions},r.a.createElement("div",{className:n.buttons},r.a.createElement("div",{className:n.buttonWrapper},r.a.createElement(N.a,{className:n.button,variant:"outlined",color:"primary",size:"small",fullWidth:!0,disabled:u.some((function(e){return e===t.id})),onClick:function(){t.followed?f(Object(m.c)(t.id)):f(Object(m.b)(t.id))},startIcon:g},p),d&&u.some((function(e){return e===t.id}))&&r.a.createElement(Ae.a,{size:20,style:"absolute"})),r.a.createElement("div",{className:n.buttonWrapper},r.a.createElement(N.a,{className:n.button,variant:"outlined",color:"primary",size:"small",fullWidth:!0,onClick:function(){l(!0)},startIcon:r.a.createElement(Zt.a,null)},"Send message")),r.a.createElement($t.a,{open:i,onClose:l,id:t.id,name:t.name,src:b,dialogs:a})))))},Xt=Object(L.a)({card:{width:150,padding:10},media:{height:150,borderRadius:5},avatar:{width:150,height:150},cardContent:{padding:5},cardActions:{padding:0},button:{textTransform:"none"},buttonWrapper:{width:"100%",position:"relative",marginBottom:5},buttons:{width:"100%",marginTop:0}}),ea=a(96),ta=a(307),aa=a.n(ta),na=a(316),ra=function(e){var t=e.user,a=e.dialogs,n=(e.view,ca()),c=r.a.useState(!1),s=Object(T.a)(c,2),i=s[0],l=s[1],u=Object(o.d)(mt.d),f=Object(o.d)(mt.g),p=Object(o.c)(),g=t.followed?"UnFollow":"Follow",b=t.followed?r.a.createElement(qt.a,null):r.a.createElement(Vt.a,null),E=t&&t.photos.small?t.photos.small:void 0;return r.a.createElement(Te.a,{className:n.listItem},r.a.createElement(aa.a,null,r.a.createElement(y.a,{className:n.avatar,src:E})),r.a.createElement("div",{className:n.text},r.a.createElement(na.a,{component:_.b,to:"/users/".concat(t.id),variant:"subtitle2",onClick:function(){p(d.b.setCurrentSidebarItem(ea.c.users))}},r.a.createElement(C.a,{color:"textPrimary"},t.name)),r.a.createElement(na.a,{component:_.b,to:"#",variant:"body2",onClick:function(){l(!0)}},"Send message"),r.a.createElement("div",{className:n.buttonWrapper},r.a.createElement(N.a,{className:n.button,color:"primary",size:"small",fullWidth:!0,disabled:u.some((function(e){return e===t.id})),onClick:function(){t.followed?p(Object(m.c)(t.id)):p(Object(m.b)(t.id))},startIcon:b},g),f&&u.some((function(e){return e===t.id}))&&r.a.createElement(Ae.a,{size:20,style:"absolute"}))),r.a.createElement($t.a,{open:i,onClose:l,id:t.id,name:t.name,src:E,dialogs:a}))},ca=Object(L.a)({divider:{margin:"0 10px"},listItem:{display:"flex",alignItems:"center",marginBottom:6,borderRadius:6,backgroundColor:"white",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2), 0px 6px 10px 0px rgba(0,0,0,0.14), 0px 1px 18px 0px rgba(0,0,0,0.12)"},avatar:{width:80,height:80,marginRight:15},text:{display:"flex",flexDirection:"column",alignItems:"flex-start"},iconButton:{marginRight:0,zIndex:1},button:{textTransform:"none"},buttonWrapper:{width:"100%",position:"relative",marginBottom:5}}),sa=a(645),oa=function(e){for(var t=e.isLoading,a=e.users,n=e.dialogs,c=e.view,s=e.pageSize,o=ia(),i=a&&a.map((function(e){return r.a.createElement(Qt,{user:e,key:e.id,dialogs:n,view:c})})),l=a&&a.map((function(e){return r.a.createElement(ra,{user:e,key:e.id,dialogs:n,view:c})})),u=!t&&a&&n,d=[],m=0;m<s;m++)d.push(r.a.createElement(Bt.a,{item:!0,key:m},r.a.createElement(sa.a,{variant:"rect",width:170,height:272,className:o.skeletonBlockItem})));for(var f=[],p=0;p<s;p++)f.push(r.a.createElement(sa.a,{variant:"rect",width:"100%",height:96,className:o.skeletonListItem}));return r.a.createElement("div",null,"block"===c&&r.a.createElement(r.a.Fragment,null,u?r.a.createElement(Bt.a,{container:!0,alignContent:"stretch",justify:"flex-start",wrap:"wrap",spacing:2},i):r.a.createElement(Bt.a,{container:!0,alignContent:"stretch",justify:"flex-start",wrap:"wrap",spacing:2},d)),"list"===c&&r.a.createElement(r.a.Fragment,null,u?r.a.createElement(be.a,{disablePadding:!0},l):r.a.createElement(be.a,{disablePadding:!0},f)))},ia=Object(L.a)({skeletonBlockItem:{borderRadius:4},skeletonListItem:{borderRadius:4,marginBottom:5}}),la=Object(ft.a)((function(){var e=ua(),t=Object(o.d)(mt.p),a=Object(o.d)(mt.o),c=Object(o.d)(mt.j),s=Object(o.d)(mt.c),i=Object(o.d)(ct.b),l=Object(o.d)(mt.l),d=Object(o.d)(mt.m),f=Object(o.d)(kt.d),p=Object(o.d)(mt.q),g=Object(o.c)(),b=Object(n.useState)(!1),E=Object(T.a)(b,2),h=E[0],v=E[1],S=Object(n.useState)("block"),O=Object(T.a)(S,2),j=O[0],I=O[1];Object(n.useEffect)((function(){g(Object(u.d)())}),[]),Object(n.useEffect)((function(){"all"===d?g(Object(m.d)(s,c)):"search"===d&&g(Object(m.g)(s,c,l.term,l.friend))}),[s,c,d,l.term,l.friend]);var w=function(e){g(m.h.setCurrentPage(e))},x="all"===d?"Total all users count:":"Total users count from search:";return Object(n.useEffect)((function(){p&&v(!0)}),[p]),r.a.createElement("div",{className:e.root},r.a.createElement(Ot.a,{in:h,timeout:"auto",unmountOnExit:!0},r.a.createElement(Rt,null)),r.a.createElement("div",{className:e.topPanel},r.a.createElement(N.a,{onClick:function(){v(!h)},size:"small",className:e.button,color:"primary",startIcon:h?r.a.createElement(St.a,null):r.a.createElement(ht.a,null),variant:"contained"},h?"Close search":"Open search"),r.a.createElement(N.a,{onClick:function(){g(m.h.setShowUsersFrom("all")),g(m.h.setCurrentPage(1))},size:"small",color:"primary",disabled:"all"===d,className:e.button,variant:"contained"},"Show all"),r.a.createElement(C.a,{color:"primary",variant:"subtitle2",className:e.countTitle},x),r.a.createElement(pt.a,{badgeContent:a,color:"primary",max:99999,showZero:!0},r.a.createElement(bt.a,null))),0!==a&&a&&c&&s&&r.a.createElement("div",{className:e.paginatorTopWrapper},r.a.createElement("div",{className:e.paginator},r.a.createElement(ut,{totalItemsCount:a,pageSize:c,currentPage:s,onPageChanged:w})),r.a.createElement(Gt,{view:j,setView:I})),r.a.createElement(oa,{isLoading:i,users:t,dialogs:f,view:j,pageSize:c}),0!==a&&a&&c&&s&&r.a.createElement("div",{className:e.paginatorBottomWrapper},r.a.createElement("div",{className:e.paginator},r.a.createElement(ut,{totalItemsCount:a,pageSize:c,currentPage:s,onPageChanged:w})),r.a.createElement(Gt,{view:j,setView:I})))})),ua=Object(L.a)({root:{minHeight:"100vh"},topPanel:{display:"flex",alignItems:"center",marginTop:10,marginBottom:10},countTitle:{marginRight:10},button:{marginRight:10,textTransform:"none"},paginatorTopWrapper:{marginBottom:10,display:"flex",alignItems:"center"},paginatorBottomWrapper:{marginTop:10,display:"flex",alignItems:"center"},paginator:{marginRight:20}}),da=a(648),ma=a(310),fa=a.n(ma),pa=function(e){var t=e.friend,a=e.dialogs,c=ga(),s=r.a.useState(!1),i=Object(T.a)(s,2),l=i[0],u=i[1],f=Object(o.c)(),p=Object(o.d)(mt.d),g=Object(o.d)(mt.g),b=t?t.photos.small:void 0,E=Object(n.useState)(!1),h=Object(T.a)(E,2),v=h[0],S=h[1],O=r.a.useRef(null),j=function(e){O.current&&O.current.contains(e.target)||S(!1)};function I(e){"Tab"===e.key&&(e.preventDefault(),S(!1))}var w=r.a.useRef(v);r.a.useEffect((function(){!0===w.current&&!1===v&&O.current.focus(),w.current=v}),[v]);var x=function(){},L=["Remove from friends","Something else","Something else"],C=[function(){f(m.h.setNeedToChangeListOfFriends(!0,t.id))},x,x],R=L.map((function(e,t){return r.a.createElement(B.a,{key:t,onClick:function(e){j(e),C[t]()}},L[t])}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Lt.a,{className:c.divider}),r.a.createElement(Te.a,{className:c.listItem},r.a.createElement("div",{className:c.listItemInner},r.a.createElement("div",{className:c.listItemInnerleft},r.a.createElement(da.a,null,r.a.createElement(y.a,{className:c.avatar,src:t.photos.large?t.photos.large:void 0})),r.a.createElement("div",{className:c.text},r.a.createElement(na.a,{component:_.b,to:"/users/".concat(t.id),variant:"subtitle2",onClick:function(){f(d.b.setCurrentSidebarItem(ea.c.users))}},t.name),r.a.createElement(na.a,{component:_.b,to:"#",variant:"body2",onClick:function(e){e.preventDefault(),u(!0)}},"Send message")),r.a.createElement($t.a,{open:l,onClose:u,id:t.id,name:t.name,src:b,dialogs:a})),r.a.createElement("div",null,r.a.createElement(Ve.a,{ref:O,"aria-controls":v?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){S((function(e){return!e}))},edge:"end","aria-label":"delete",className:c.iconButton},r.a.createElement(fa.a,null)),r.a.createElement(W.a,{className:c.popper,open:v,anchorEl:O.current,role:void 0,transition:!0,placement:"bottom-end",disablePortal:!0},(function(e){var t=e.TransitionProps,a=e.placement;return r.a.createElement(M.a,Object.assign({},t,{style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),r.a.createElement(U.a,null,r.a.createElement(P.a,{onClickAway:j},r.a.createElement(G.a,{autoFocusItem:v,id:"menu-list-grow",onKeyDown:I},R))))})))),g&&p.some((function(e){return e===t.id}))&&r.a.createElement(Ae.a,{size:80,style:"absolute"})))},ga=Object(L.a)({avatar:{width:80,height:80,marginRight:15},iconButton:{marginRight:0,zIndex:1},divider:{margin:"0 10px"},popper:{zIndex:1e3},listItemInner:{flexGrow:1,display:"flex",justifyContent:"space-between",alignItems:"center"},listItemInnerleft:{display:"flex",alignItems:"center",flexGrow:1},listItem:{position:"relative"},text:{display:"flex",flexDirection:"column"}}),ba=(Object(L.a)({iconButton:{marginRight:0},popper:{}}),a(154)),Ea=a.n(ba),ha=Object(ee.a)({form:"friends-search"})((function(e){var t=e.handleSubmit,a=(e.submitting,e.pristine,e.reset,e.error,Sa(),Object(o.c)());return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,r.a.createElement(Q.a,{name:"term",component:Pe.a,fullWidth:!0,validate:[ae.d],label:"Friends name",size:"small",onChange:function(){a(Object(X.c)("friends-search")),a(m.h.setCurrentFriendsPage(1))}})))})),va=function(){var e=Sa(),t=Object(o.d)(mt.h),a=Object(o.d)(mt.k),n=Object(o.c)(),c=""===a.term?r.a.createElement(re.a,null):r.a.createElement(Ea.a,null);return r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.iconButton},t?r.a.createElement(Ae.a,{size:20,style:"absolute"}):r.a.createElement(Ve.a,{onClick:function(){""!==a.term&&(n(m.h.setSearchFriendsParams({term:""})),n(m.h.setCurrentFriendsPage(1)),n(Object(X.a)("friends-search")))}},c)),r.a.createElement("div",{className:e.form},r.a.createElement(ha,{onSubmit:function(e){n(m.h.setSearchFriendsParams({term:e.term})),console.log(e)}})))},Sa=Object(L.a)({fieldWrapper:{margin:"10px 10px 5px 35px"},search:{display:"flex",alignItems:"center",padding:"0 10px"},form:{flexGrow:1},iconButton:{width:48,height:48,position:"relative",marginRight:5}}),Oa=function(){var e=ja(),t=Object(o.d)(mt.f),a=Object(o.d)(mt.c),c=Object(o.d)(mt.a),s=Object(o.d)(mt.j),i=Object(o.d)(mt.i),l=Object(o.d)(mt.e),d=Object(o.d)(mt.k),f=Object(o.d)(mt.n),p=Object(o.d)(kt.d),g=Object(o.c)(),b=t&&t.map((function(e){return r.a.createElement(pa,{key:e.id,friend:e,dialogs:p})}));Object(n.useEffect)((function(){g(Object(m.f)(c,s,d.term))}),[d.term,c]),Object(n.useEffect)((function(){i&&l&&g(Object(m.e)(a,s,l))}),[i]),Object(n.useEffect)((function(){g(Object(u.d)())}),[]);var E=function(e){g(m.h.setCurrentFriendsPage(e))};return r.a.createElement(Ge.a,{className:e.card,elevation:6},r.a.createElement("div",{className:e.title},r.a.createElement(C.a,{component:"span",color:"primary",className:e.titleleft},"Friends"),r.a.createElement(C.a,{component:"span",color:"textSecondary"},f)),r.a.createElement(va,null),r.a.createElement("div",{className:e.paginatorTop},r.a.createElement(ut,{totalItemsCount:f,pageSize:s,currentPage:c,onPageChanged:E})),r.a.createElement(be.a,null,b),r.a.createElement(Lt.a,{className:e.divider}),r.a.createElement("div",{className:e.paginatorBottom},r.a.createElement(ut,{totalItemsCount:f,pageSize:s,currentPage:c,onPageChanged:E})))},ja=Object(L.a)({card:{padding:5},title:{padding:"5px 10px 5px 10px"},titleleft:{marginRight:5},paginatorTop:{marginLeft:10,marginTop:5},paginatorBottom:{marginLeft:10,marginBottom:5,marginTop:10},divider:{margin:"0 10px"}}),Ia=a(650),wa=a(208),xa=a.n(wa),_a=a(649),Ta=a(311),La=a.n(Ta),Ca=a(312),Ra=a.n(Ca),Na=function(){var e=ya(),t=Object(o.d)(mt.b),a=Object(o.c)();return r.a.createElement(Ge.a,{className:e.card,elevation:6},r.a.createElement(Ia.a,{classes:{indicator:e.indicator},orientation:"vertical",value:t,onChange:function(e,t){a(m.h.setCurrentFriendsSidebarItem(t))},className:e.tabs},r.a.createElement(_a.a,{label:"Friends",icon:r.a.createElement(La.a,{className:e.icon}),classes:{wrapper:e.wrapper,selected:e.selected,root:e.tabRoot,labelIcon:e.labelIcon}}),r.a.createElement(_a.a,{label:"Request for friendship",icon:r.a.createElement(Ra.a,{className:e.icon}),classes:{wrapper:e.wrapper,selected:e.selected,root:e.tabRoot,labelIcon:e.labelIcon}}),r.a.createElement(_a.a,{label:"Something else",icon:r.a.createElement(xa.a,{className:e.icon}),classes:{wrapper:e.wrapper,selected:e.selected,root:e.tabRoot,labelIcon:e.labelIcon}}),r.a.createElement(_a.a,{label:"Something else",icon:r.a.createElement(xa.a,{className:e.icon}),classes:{wrapper:e.wrapper,selected:e.selected,root:e.tabRoot,labelIcon:e.labelIcon}})))},ya=Object(L.a)({card:{padding:5},tabs:{borderLeft:"3px solid #ccc"},indicator:{width:2,left:0,right:"auto"},wrapper:{flexDirection:"row",justifyContent:"flex-start",textTransform:"none","& > *:first-child":{marginBottom:"0!important"}},icon:{margin:"0 10px"},selected:{color:oe.a[500],backgroundColor:"#eee"},tabRoot:{padding:0},labelIcon:{minHeight:50}}),ka=function(){var e=Da();return r.a.createElement(Ge.a,{className:e.card,elevation:6},r.a.createElement(C.a,{variant:"h6",color:"primary",align:"center"},"Something else"))},Da=Object(L.a)({card:{padding:20}}),Fa=Object(ft.a)((function(){var e=Aa(),t=Object(o.d)(mt.b);return r.a.createElement("div",{className:e.wrapper},r.a.createElement("div",{className:e.leftColumn},0===t?r.a.createElement(Oa,null):r.a.createElement(ka,null)),r.a.createElement("div",{className:e.rightColumn},r.a.createElement(Na,null)))})),Aa=Object(L.a)({wrapper:{display:"flex"},card:{padding:5},leftColumn:{flexGrow:1,marginRight:15},rightColumn:{flexBasis:220}}),Ma=a(313),Ua=a.n(Ma),Pa=a(209),Ga=a.n(Pa),Ba=function(e){var t=e.title,a=e.onChangeHandler,n=e.resetToDefaultHandle,c=e.probeBackgroundColor,s=e.defaultColor,o=Wa(),i=Ga()({probe:{backgroundColor:c,width:40,height:40,borderRadius:5,marginRight:15},default:{backgroundColor:s,width:40,height:40,borderRadius:5,marginRight:15}})();return r.a.createElement("div",{className:o.row},r.a.createElement(C.a,{variant:"subtitle1",className:o.text},t),r.a.createElement(Ua.a,{className:o.item,name:"color",variant:"outlined",size:"small",defaultValue:"choose color",onChange:a}),r.a.createElement("div",{className:i.probe}),r.a.createElement(N.a,{variant:"contained",onClick:n,className:o.button},"Reset to default"),r.a.createElement("div",{className:i.default}))},Wa=Ga()({title:{marginBottom:15},row:{display:"flex",alignItems:"center",marginBottom:10},text:{marginRight:15,flexBasis:200},item:{marginRight:15},button:{textTransform:"none",marginRight:15}}),za="#3f50b5",Ha="#e8eaf6",Va=Object(ft.a)((function(){var e=Ka(),t=Object(o.d)(fe),a=Object(o.c)();return r.a.createElement(Ge.a,{className:e.card,elevation:6},r.a.createElement(C.a,{variant:"h6",color:"primary",align:"center",className:e.title},"Settings"),r.a.createElement(Ba,{title:"Menu background color",onChangeHandler:function(e){e&&a(S(e))},probeBackgroundColor:t.menuBackgroundColor,defaultColor:za,resetToDefaultHandle:function(){a(S(za))}}),r.a.createElement(Ba,{title:"Display background color",onChangeHandler:function(e){e&&a(O(e))},probeBackgroundColor:t.displayBackgroundColor,defaultColor:Ha,resetToDefaultHandle:function(){a(O(Ha))}}))})),Ka=Object(L.a)({card:{padding:20,paddingBottom:400},title:{marginBottom:15},row:{display:"flex",alignItems:"center",marginBottom:10},text:{marginRight:15,flexBasis:200},item:{marginRight:15},button:{textTransform:"none",marginRight:15},default:{backgroundColor:"#3f50b5",width:40,height:40,borderRadius:5,marginRight:15}}),qa=r.a.lazy((function(){return Promise.all([a.e(4),a.e(5)]).then(a.bind(null,691))})),Ja=r.a.lazy((function(){return Promise.all([a.e(3),a.e(6)]).then(a.bind(null,690))})),Ya=function(){var e=Za();return Object(o.d)(ct.a)?r.a.createElement("main",{className:e.main},r.a.createElement(n.Suspense,{fallback:r.a.createElement(Ae.a,null)},r.a.createElement(ie.d,null,r.a.createElement(ie.b,{exact:!0,path:"/",render:function(){return r.a.createElement(Ja,null)}}),r.a.createElement(ie.b,{path:"/dialogs/:userId?",render:function(){return r.a.createElement(qa,null)}}),r.a.createElement(ie.b,{path:"/profile",render:function(){return r.a.createElement(Ja,null)}}),r.a.createElement(ie.b,{exact:!0,path:"/users",render:function(){return r.a.createElement(la,null)}}),r.a.createElement(ie.b,{path:"/users/:userId",render:function(){return r.a.createElement(Ja,null)}}),r.a.createElement(ie.b,{path:"/friends",render:function(){return r.a.createElement(Fa,null)}}),r.a.createElement(ie.b,{path:"/login",render:function(){return r.a.createElement(nt,null)}}),r.a.createElement(ie.b,{path:"/settings",render:function(){return r.a.createElement(Va,null)}}),r.a.createElement(ie.b,{path:"*",render:function(){return r.a.createElement("div",null,"404 Page not found")}})))):r.a.createElement(Ae.a,null)},Za=Object(L.a)({main:{flexGrow:1,padding:10}}),$a=a(656),Qa=a(651),Xa=Object(ie.i)((function(){var e=en(),t=Object(o.d)(kt.f),a=Object(o.d)(kt.j),c=r.a.useState(!1),s=Object(T.a)(c,2),i=s[0],l=s[1],u=Object(o.c)(),d=function(e){alert(e)};Object(n.useEffect)((function(){return u(Object(b.c)()),window.addEventListener("unhandledrejection",d),function(){window.removeEventListener("unhandledrejection",d)}}),[]),Object(n.useEffect)((function(){return!t&&a&&l(!0),function(){}}),[t]);var m=function(e,t){"clickaway"!==t&&l(!1)},f=Object(o.d)(fe),p=Object(L.a)({root:{backgroundColor:f.displayBackgroundColor,position:"relative"}})();return r.a.createElement("div",{className:p.root},r.a.createElement(pe,null),r.a.createElement("div",{className:e.wrapper},r.a.createElement(De,null),r.a.createElement(Ya,null)),r.a.createElement($a.a,{open:i,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:6e3,onClose:m},r.a.createElement(Qa.a,{onClose:m,variant:"filled",severity:"success"},r.a.createElement(C.a,{component:"span"},"Message to "),r.a.createElement(C.a,{component:"span",color:"primary"},a),r.a.createElement(C.a,{component:"span"}," is sent!"))))})),en=Object(L.a)({root:{backgroundColor:oe.a[50],position:"relative"},wrapper:{maxWidth:1e3,width:"100%",margin:"0 auto",display:"flex",boxSizing:"border-box",paddingTop:64,minHeight:"100vh"}}),tn=function(){return r.a.createElement(_.a,null,r.a.createElement(o.a,{store:x},r.a.createElement(Xa,null)))};s.a.render(r.a.createElement(tn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,t,a){"use strict";var n=a(582),r=a(0),c=a.n(r),s=a(77);t.a=function(e){var t=e.size,a=void 0===t?100:t,r=e.style,s=void 0===r?"static-center":r,u=o(),d=i(),m=l(),f=d;return"absolute"===s&&(f=u),"static-top"===s&&(f=m),c.a.createElement("div",{className:f.circularWrapper},c.a.createElement(n.a,{size:a,color:"secondary",className:f.circular}))};var o=Object(s.a)({circularWrapper:{position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:1001},circular:{}}),i=Object(s.a)({circularWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},circular:{}}),l=Object(s.a)({circularWrapper:{display:"flex",justifyContent:"center",alignItems:"flex-start"},circular:{}})},68:function(e,t,a){"use strict";a.d(t,"b",(function(){return c}));var n=a(5),r={currentSidebarItem:null},c={setCurrentSidebarItem:function(e){return{type:"SIDEBAR/SET_CURRENT_SIDEBAR_ITEM",currentSidebarItem:e}}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIDEBAR/SET_CURRENT_SIDEBAR_ITEM":return Object(n.a)(Object(n.a)({},e),{},{currentSidebarItem:t.currentSidebarItem});default:return e}}},78:function(e,t,a){"use strict";a.d(t,"c",(function(){return E})),a.d(t,"d",(function(){return h})),a.d(t,"g",(function(){return v})),a.d(t,"e",(function(){return S})),a.d(t,"h",(function(){return O})),a.d(t,"b",(function(){return j})),a.d(t,"f",(function(){return I}));var n=a(7),r=a.n(n),c=a(10),s=a(5),o=a(55),i=a(13),l=a(19),u=function(){return Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.c.get("dialogs");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},d=function(e){return Object(c.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.c.get("dialogs/".concat(e,"/messages"));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()},m=function(e,t){return Object(c.a)(r.a.mark((function a(){var n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.c.post("dialogs/".concat(e,"/messages"),{body:t});case 2:return n=a.sent,a.abrupt("return",n.data);case 4:case"end":return a.stop()}}),a)})))()},f=function(e){return Object(c.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.c.post("dialogs/messages/".concat(e,"/spam"));case 2:return a=t.sent,console.log(a),t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})))()},p=function(e){return Object(c.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.c.delete("dialogs/messages/".concat(e));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()},g=function(e){return Object(c.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.c.put("dialogs/messages/".concat(e,"/restore"));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()},b={dialogs:null,messages:null,selectedMessages:[],selectedDeletedMessages:[],selectedSpamMessages:[],dialogsIsLoading:!1,messagesIsLoading:!1,messagesIsDeleting:!1,messageIsSending:!1,recipientName:null,currentDialogsSidebarItem:0,deletedMessages:[],spamMessages:[]},E={removeFromDeletedMessages:function(e){return{type:"dialogs/REMOVE_FROM_DELETED_MESSAGES",messages:e}},removeFromSpamMessages:function(e){return{type:"dialogs/REMOVE_FROM_SPAM_MESSAGES",messages:e}},addToDeletedMessages:function(e,t){return{type:"dialogs/ADD_TO_DELETED_MESSAGES",dialog:e,message:t}},addToSpamMessages:function(e,t){return{type:"dialogs/ADD_TO_SPAM_MESSAGES",dialog:e,message:t}},setCurrentDialogsSidebarItem:function(e){return{type:"dialogs/SET_CURRENT_DIALOGS_SIDEBAR_ITEM",currentDialogsSidebarItem:e}},setMessagesIsDeleting:function(e){return{type:"dialogs/SET_MESSAGES_IS_DELETING",messagesIsDeleting:e}},setMessagesIsLoading:function(e){return{type:"dialogs/SET_MESSAGES_IS_LOADING",messagesIsLoading:e}},setRecipientName:function(e){return{type:"dialogs/SET_RECIPIENT_NAME",recipientName:e}},setMessageIsSending:function(e){return{type:"dialogs/SET_MESSAGE_IS_SENDING",messageIsSending:e}},toggleDialogsIsLoading:function(e){return{type:"dialogs/TOGGLE_DIALOGS_IS_LOADING",dialogsIsLoading:e}},cleanSelectedMessages:function(){return{type:"dialogs/CLEAN_SELECTED_MESSAGES"}},cleanSelectedDeletedMessages:function(){return{type:"dialogs/CLEAN_DELETED_SELECTED_MESSAGES"}},addToSelectedMessages:function(e){return{type:"dialogs/ADD_TO_SELECTED_MASSAGES",message:e}},addToSelectedDeletedMessages:function(e){return{type:"dialogs/ADD_TO_DELETED_SELECTED_MASSAGES",message:e}},removeFromSelectedMessages:function(e){return{type:"dialogs/REMOVE_FROM_SELECTED_MASSAGES",message:e}},removeFromSelectedDeletedMessages:function(e){return{type:"dialogs/REMOVE_FROM_DELETED_SELECTED_MASSAGES",message:e}},setMessages:function(e){return{type:"dialogs/SET_MESSAGES",messages:e}},setDialogs:function(e){return{type:"dialogs/SET_DIALOGS",dialogs:e}}},h=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(E.toggleDialogsIsLoading(!0)),e.next=4,u();case 4:a=e.sent,t(E.setDialogs(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(i.a.setLanError(!0));case 11:return e.prev=11,t(E.toggleDialogsIsLoading(!1)),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()},v=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(E.setMessageIsSending(!0)),a.next=4,m(e,t);case 4:if((c=a.sent).resultCode!==l.b.Success){a.next=11;break}return n(E.setRecipientName(c.data.message.recipientName)),a.next=9,d(e);case 9:null===(s=a.sent).error&&n(E.setMessages(s.items));case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),n(i.a.setLanError(!0));case 16:return a.prev=16,n(E.setMessageIsSending(!1)),a.finish(16);case 19:case"end":return a.stop()}}),a,null,[[0,13,16,19]])})));return function(e){return a.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(E.setMessagesIsLoading(!0)),t.next=4,d(e);case 4:null===(n=t.sent).error&&a(E.setMessages(n.items)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(i.a.setLanError(!0));case 11:return t.prev=11,a(E.setMessagesIsLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,s,o,u,m,p;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(E.setMessagesIsDeleting(!0)),c=e.map((function(e){return f(e.id)})),a.next=5,Promise.all(c);case 5:s=a.sent,o=0,u=0;case 8:if(!(u<s.length-1)){a.next=15;break}if(s[u].resultCode!==l.b.Error){a.next=12;break}return o=l.b.Error,a.abrupt("break",15);case 12:u++,a.next=8;break;case 15:if(o!==l.b.Success){a.next=20;break}return a.next=18,d(t.id);case 18:if(null===(m=a.sent).error){for(n(E.setMessages(m.items)),p=0;p<e.length;p++)n(E.addToSpamMessages(t,e[p]));n(E.cleanSelectedMessages())}case 20:a.next=25;break;case 22:a.prev=22,a.t0=a.catch(0),n(i.a.setLanError(!0));case 25:return a.prev=25,n(E.setMessagesIsDeleting(!1)),a.finish(25);case 28:case"end":return a.stop()}}),a,null,[[0,22,25,28]])})));return function(e){return a.apply(this,arguments)}}()},j=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,s,o,u,m,f;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(E.setMessagesIsDeleting(!0)),c=e.map((function(e){return p(e.id)})),a.next=5,Promise.all(c);case 5:s=a.sent,o=0,u=0;case 8:if(!(u<s.length-1)){a.next=15;break}if(s[u].resultCode!==l.b.Error){a.next=12;break}return o=l.b.Error,a.abrupt("break",15);case 12:u++,a.next=8;break;case 15:if(o!==l.b.Success){a.next=20;break}return a.next=18,d(t.id);case 18:if(null===(m=a.sent).error){for(n(E.setMessages(m.items)),f=0;f<e.length;f++)n(E.addToDeletedMessages(t,e[f]));n(E.cleanSelectedMessages())}case 20:a.next=25;break;case 22:a.prev=22,a.t0=a.catch(0),n(i.a.setLanError(!0));case 25:return a.prev=25,n(E.setMessagesIsDeleting(!1)),a.finish(25);case 28:case"end":return a.stop()}}),a,null,[[0,22,25,28]])})));return function(e){return a.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c,s,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.map((function(e){return g(e.id)})),t.next=4,Promise.all(n);case 4:c=t.sent,s=0,o=0;case 7:if(!(o<c.length-1)){t.next=14;break}if(c[o].resultCode!==l.b.Error){t.next=11;break}return s=l.b.Error,t.abrupt("break",14);case 11:o++,t.next=7;break;case 14:s===l.b.Success&&(a(E.cleanSelectedDeletedMessages()),a(E.removeFromDeletedMessages(e))),t.next=19;break;case 17:t.prev=17,t.t0=t.catch(0);case 19:return t.prev=19,t.finish(19);case 21:case"end":return t.stop()}}),t,null,[[0,17,19,21]])})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dialogs/REMOVE_FROM_DELETED_MESSAGES":for(var a=Object(o.a)(e.deletedMessages),n=function(e){for(var n=0;n<a.length;n++)a[n].messages=a[n].messages.filter((function(a){return a.id!==t.messages[e].id}))},r=0;r<t.messages.length;r++)n(r);return a=a.filter((function(e){return e.messages.length})),Object(s.a)(Object(s.a)({},e),{},{deletedMessages:a});case"dialogs/REMOVE_FROM_SPAM_MESSAGES":for(var c=Object(o.a)(e.spamMessages),i=function(e){for(var a=0;a<c.length;a++)c[a].messages=c[a].messages.filter((function(a){return a.id!==t.messages[e].id}))},l=0;l<t.messages.length;l++)i(l);return c=c.filter((function(e){return e.messages.length})),Object(s.a)(Object(s.a)({},e),{},{spamMessages:c});case"dialogs/ADD_TO_DELETED_MESSAGES":var u=e.deletedMessages.findIndex((function(e){return e.dialog.id===t.dialog.id}));return-1===u?Object(s.a)(Object(s.a)({},e),{},{deletedMessages:[].concat(Object(o.a)(e.deletedMessages),[{dialog:t.dialog,messages:[t.message]}])}):Object(s.a)(Object(s.a)({},e),{},{deletedMessages:e.deletedMessages.map((function(e,a){return a!==u?e:{dialog:e.dialog,messages:[].concat(Object(o.a)(e.messages),[t.message])}}))});case"dialogs/ADD_TO_SPAM_MESSAGES":var d=e.spamMessages.findIndex((function(e){return e.dialog.id===t.dialog.id}));return-1===d?Object(s.a)(Object(s.a)({},e),{},{spamMessages:[].concat(Object(o.a)(e.spamMessages),[{dialog:t.dialog,messages:[t.message]}])}):Object(s.a)(Object(s.a)({},e),{},{spamMessages:e.spamMessages.map((function(e,a){return a!==d?e:{dialog:e.dialog,messages:[].concat(Object(o.a)(e.messages),[t.message])}}))});case"dialogs/SET_CURRENT_DIALOGS_SIDEBAR_ITEM":return Object(s.a)(Object(s.a)({},e),{},{currentDialogsSidebarItem:t.currentDialogsSidebarItem});case"dialogs/SET_MESSAGES_IS_DELETING":return Object(s.a)(Object(s.a)({},e),{},{messagesIsDeleting:t.messagesIsDeleting});case"dialogs/SET_MESSAGES_IS_LOADING":return Object(s.a)(Object(s.a)({},e),{},{messagesIsLoading:t.messagesIsLoading});case"dialogs/SET_RECIPIENT_NAME":return Object(s.a)(Object(s.a)({},e),{},{recipientName:t.recipientName});case"dialogs/SET_MESSAGE_IS_SENDING":return Object(s.a)(Object(s.a)({},e),{},{messageIsSending:t.messageIsSending});case"dialogs/TOGGLE_DIALOGS_IS_LOADING":return Object(s.a)(Object(s.a)({},e),{},{dialogsIsLoading:t.dialogsIsLoading});case"dialogs/CLEAN_SELECTED_MESSAGES":return Object(s.a)(Object(s.a)({},e),{},{selectedMessages:[]});case"dialogs/CLEAN_DELETED_SELECTED_MESSAGES":return Object(s.a)(Object(s.a)({},e),{},{selectedDeletedMessages:[]});case"dialogs/REMOVE_FROM_SELECTED_MASSAGES":return Object(s.a)(Object(s.a)({},e),{},{selectedMessages:e.selectedMessages.filter((function(e){return e.id!==t.message.id}))});case"dialogs/REMOVE_FROM_DELETED_SELECTED_MASSAGES":return Object(s.a)(Object(s.a)({},e),{},{selectedDeletedMessages:e.selectedDeletedMessages.filter((function(e){return e.id!==t.message.id}))});case"dialogs/ADD_TO_SELECTED_MASSAGES":return Object(s.a)(Object(s.a)({},e),{},{selectedMessages:[].concat(Object(o.a)(e.selectedMessages),[t.message])});case"dialogs/ADD_TO_DELETED_SELECTED_MASSAGES":return Object(s.a)(Object(s.a)({},e),{},{selectedDeletedMessages:[].concat(Object(o.a)(e.selectedDeletedMessages),[t.message])});case"dialogs/SET_MESSAGES":return Object(s.a)(Object(s.a)({},e),{},{messages:t.messages});case"dialogs/SET_DIALOGS":return Object(s.a)(Object(s.a)({},e),{},{dialogs:t.dialogs});default:return e}}},85:function(e,t,a){"use strict";a.d(t,"b",(function(){return v})),a.d(t,"c",(function(){return S})),a.d(t,"d",(function(){return j}));var n=a(7),r=a.n(n),c=a(10),s=a(5),o=a(19),i=a(44),l=function(){return Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.c.get("auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},u=function(e,t){var a=arguments;return Object(c.a)(r.a.mark((function n(){var c,s,i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=a.length>2&&void 0!==a[2]&&a[2],s=a.length>3&&void 0!==a[3]?a[3]:null,n.next=4,o.c.post("auth/login",{email:e,password:t,rememberMe:c,captcha:s});case 4:return i=n.sent,n.abrupt("return",i.data);case 6:case"end":return n.stop()}}),n)})))()},d=function(){return Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.c.delete("auth/login");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},m=function(){return Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.c.get("security/get-captcha-url");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},f=a(13),p=a(68),g=a(96),b={id:null,email:null,login:null,isAuth:!1,captcha:null},E=function(e,t,a,n){return{type:"AUTH/SET_AUTH_USER_DATA",data:{id:e,email:t,login:a,isAuth:n}}},h=function(e){return{type:"AUTH/SET_CAPTCHA",captcha:e}},v=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(f.a.toggleLoading(!0)),e.next=4,l();case 4:(a=e.sent).resultCode===o.b.Success&&(n=a.data,c=n.id,s=n.login,i=n.email,t(E(c,i,s,!0))),t(f.a.toggleLoading(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(f.a.setLanError(!0));case 12:return e.prev=12,t(f.a.toggleLoading(!1)),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}()},S=function(e,t,a,n){return function(){var s=Object(c.a)(r.a.mark((function c(s){var l,d;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s(f.a.toggleLoading(!0)),r.next=4,u(e,t,a,n);case 4:(l=r.sent).resultCode===o.b.Success?(s(v()),s(p.b.setCurrentSidebarItem(g.c.myProfile))):(l.resultCode===o.a.CaptchaIsRequired&&s(O()),d=l.messages.length>0?l.messages[0]:"some error",s(Object(i.b)("login",{_error:d}))),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),s(f.a.setLanError(!0));case 11:return r.prev=11,s(f.a.toggleLoading(!1)),r.finish(11);case 14:case"end":return r.stop()}}),c,null,[[0,8,11,14]])})));return function(e){return s.apply(this,arguments)}}()},O=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(f.a.toggleLoading(!0)),e.next=4,m();case 4:a=e.sent,t(h(a.url)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(f.a.setLanError(!0));case 11:return e.prev=11,t(f.a.toggleLoading(!1)),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()},j=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(f.a.toggleLoading(!0)),e.next=4,d();case 4:0===e.sent.resultCode&&t(E(null,null,null,!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(f.a.setLanError(!0));case 11:return e.prev=11,t(f.a.toggleLoading(!1)),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET_AUTH_USER_DATA":return Object(s.a)(Object(s.a)({},e),t.data);case"AUTH/SET_CAPTCHA":return Object(s.a)(Object(s.a)({},e),{},{captcha:t.captcha});default:return e}}},87:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"i",(function(){return r})),a.d(t,"l",(function(){return c})),a.d(t,"k",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"f",(function(){return i})),a.d(t,"j",(function(){return l})),a.d(t,"h",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"a",(function(){return m})),a.d(t,"e",(function(){return f})),a.d(t,"b",(function(){return p})),a.d(t,"m",(function(){return g}));var n=function(e){return e.dialogs.dialogs},r=function(e){return e.dialogs.messages},c=function(e){return e.dialogs.selectedMessages},s=function(e){return e.dialogs.selectedDeletedMessages},o=function(e){return e.dialogs.dialogsIsLoading},i=function(e){return e.dialogs.messageIsSending},l=function(e){return e.dialogs.recipientName},u=function(e){return e.dialogs.messagesIsLoading},d=function(e){return e.dialogs.messagesIsDeleting},m=function(e){return e.dialogs.currentDialogsSidebarItem},f=function(e){return e.dialogs.messageIsSending||e.dialogs.messagesIsLoading||e.dialogs.messagesIsDeleting},p=function(e){return e.dialogs.deletedMessages},g=function(e){return e.dialogs.spamMessages}},90:function(e,t,a){"use strict";var n=a(71),r=a(169),c=a(0),s=a.n(c),o=a(77);t.a=function(e){var t=e.icon,a=e.label,c=e.input,o=e.meta,l=o.touched,u=o.invalid,d=o.error,m=e.classes,f=Object(n.a)(e,["icon","label","input","meta","classes"]),p=i();return s.a.createElement("div",{className:p.root},t&&s.a.createElement("div",{className:p.iconLeft},t),s.a.createElement(r.a,Object.assign({InputProps:m?{classes:m}:null,variant:"outlined",label:a,placeholder:a,error:l&&u,helperText:l&&d},c,f)))};var i=Object(o.a)({root:{position:"relative",width:"100%"},iconLeft:{position:"absolute",left:-5,top:"50%",transform:"translate(-100%, -50%)"}})},91:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return s}));var n=function(e){return e.auth.id},r=function(e){return e.auth.login},c=function(e){return e.auth.isAuth},s=function(e){return e.auth.captcha}},95:function(e,t,a){"use strict";a.d(t,"f",(function(){return S})),a.d(t,"d",(function(){return O})),a.d(t,"b",(function(){return j})),a.d(t,"c",(function(){return I})),a.d(t,"e",(function(){return w})),a.d(t,"i",(function(){return x})),a.d(t,"g",(function(){return _})),a.d(t,"h",(function(){return T}));var n=a(282),r=a(7),c=a.n(r),s=a(10),o=a(55),i=a(5),l=a(44),u=a(19),d=function(e){return Object(s.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.get("profile/".concat(e));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()},m=function(e){return Object(s.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.get("profile/status/".concat(e));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()},f=function(e){return Object(s.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.put("profile/status",{status:e});case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()},p=function(e){return Object(s.a)(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("image",e),t.next=4,u.c.put("profile/photo",a);case 4:return n=t.sent,t.abrupt("return",n.data);case 6:case"end":return t.stop()}}),t)})))()},g=function(e){return Object(s.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.put("profile",e);case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()},b=function(e){return Object(s.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.get("follow/".concat(e));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()},E=a(13),h=a(178),v={posts:[{id:1,message:"Hello, world",likeCount:4,likeMe:!1,time:"25 September in 10:10"}],profile:null,currentUserProfile:null,status:null,avatarIsLoading:!1,statusIsLoading:!1,editMode:!1,currentInfoFormSidebarItem:0,followed:null,editingPost:!1},S={toggleLikeMe:function(e){return{type:"profile/TOGGLE_LIKE_ME",postId:e}},setEditingPost:function(e){return{type:"profile/SET_EDITING_POST",editingPost:e}},setCurrentUserProfile:function(e){return{type:"profile/SET_CURRENT_USER_PROFILE",currentUserProfile:e}},setFollowed:function(e){return{type:"profile/SET_FOLLOWED",followed:e}},setCurrentInfoFormSidebarItem:function(e){return{type:"profile/SET_CURRENT_INFO_FORM_SIDEBAR_ITEM",currentInfoFormSidebarItem:e}},addPost:function(e){return{type:"profile/ADD_POST",post:e,time:h.a.dateTranslateFromJS(h.a.getCurrentDate())}},deletePost:function(e){return{type:"profile/DELETE_POST",id:e}},setUserProfile:function(e){return{type:"profile/SET_USER_PROFILE",profile:e}},setStatus:function(e){return{type:"profile/SET_STATUS",status:e}},setPhotos:function(e){return{type:"profile/SET_PHOTOS",photos:e}},toggleAvatarLoading:function(e){return{type:"profile/AVATAR_IS_LOADING",avatarIsLoading:e}},toggleStatusLoading:function(e){return{type:"profile/STATUS_IS_LOADING",statusIsLoading:e}},setEditMode:function(e){return{type:"profile/SET_EDIT_MODE",editMode:e}}},O=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(E.a.toggleLoading(!0)),t.next=4,d(e);case 4:n=t.sent,a(S.setUserProfile(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(E.a.setLanError(!0));case 11:return t.prev=11,a(E.a.toggleLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(E.a.toggleLoading(!0)),t.next=4,d(e);case 4:n=t.sent,a(S.setCurrentUserProfile(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(E.a.setLanError(!0));case 11:return t.prev=11,a(E.a.toggleLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(E.a.toggleLoading(!0)),t.next=4,b(e);case 4:n=t.sent,a(S.setFollowed(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(E.a.setLanError(!0));case 11:return t.prev=11,a(E.a.toggleLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(S.toggleStatusLoading(!0)),t.next=4,m(e);case 4:n=t.sent,a(S.setStatus(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(E.a.setLanError(!0));case 11:return t.prev=11,a(S.toggleStatusLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(S.toggleStatusLoading(!0)),t.next=4,f(e);case 4:0===t.sent.resultCode&&a(S.setStatus(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(E.a.setLanError(!0));case 11:return t.prev=11,a(S.toggleStatusLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(S.toggleAvatarLoading(!0)),t.next=4,p(e);case 4:0===(n=t.sent).resultCode&&a(S.setPhotos(n.data.photos)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(E.a.setLanError(!0));case 11:return t.prev=11,a(S.toggleAvatarLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(a,r){var s,o,i,u,d,m,f;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(E.a.toggleLoading(!0)),t.next=4,g(e);case 4:if(s=t.sent,o=e.userId,0!==s.resultCode){t.next=10;break}a(O(o)),t.next=15;break;case 10:i={},u=Object(n.a)(s.messages);try{for(u.s();!(d=u.n()).done;)m=d.value,f=m.slice(30,m.length-1).toLowerCase(),i[f]="Invalid url format"}catch(r){u.e(r)}finally{u.f()}return a(Object(l.b)("profileAboutMeForm",{contacts:i})),t.abrupt("return",Promise.reject(s.messages[0]));case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),a(E.a.setLanError(!0));case 20:return t.prev=20,a(E.a.toggleLoading(!1)),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[0,17,20,23]])})));return function(e,a){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/TOGGLE_LIKE_ME":return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.postId?Object(i.a)(Object(i.a)({},e),{},{likeCount:e.likeMe?e.likeCount-1:e.likeCount+1,likeMe:!e.likeMe}):e}))});case"profile/SET_EDITING_POST":return Object(i.a)(Object(i.a)({},e),{},{editingPost:t.editingPost});case"profile/SET_CURRENT_USER_PROFILE":return Object(i.a)(Object(i.a)({},e),{},{currentUserProfile:t.currentUserProfile});case"profile/SET_FOLLOWED":return Object(i.a)(Object(i.a)({},e),{},{followed:t.followed});case"profile/SET_CURRENT_INFO_FORM_SIDEBAR_ITEM":return Object(i.a)(Object(i.a)({},e),{},{currentInfoFormSidebarItem:t.currentInfoFormSidebarItem});case"profile/SET_EDIT_MODE":return Object(i.a)(Object(i.a)({},e),{},{editMode:t.editMode});case"profile/AVATAR_IS_LOADING":return Object(i.a)(Object(i.a)({},e),{},{avatarIsLoading:t.avatarIsLoading});case"profile/STATUS_IS_LOADING":return Object(i.a)(Object(i.a)({},e),{},{statusIsLoading:t.statusIsLoading});case"profile/ADD_POST":var a=e.posts.length?e.posts[e.posts.length-1].id+1:1;return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(o.a)(e.posts),[{id:a,message:t.post,likeMe:!1,likeCount:0,time:t.time}])});case"profile/DELETE_POST":return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.id}))});case"profile/SET_USER_PROFILE":return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case"profile/SET_STATUS":return Object(i.a)(Object(i.a)({},e),{},{status:t.status});case"profile/SET_PHOTOS":if(e.profile)return Object(i.a)(Object(i.a)({},e),{},{profile:Object(i.a)(Object(i.a)({},e.profile),{},{photos:t.photos})});default:return e}}},96:function(e,t,a){"use strict";var n,r,c;a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return c})),function(e){e[e.all=0]="all",e[e.deleted=1]="deleted",e[e.spam=2]="spam"}(n||(n={})),function(e){e[e.main=0]="main",e[e.job=1]="job",e[e.contacts=2]="contacts"}(r||(r={})),function(e){e[e.myProfile=1]="myProfile",e[e.dialogs=2]="dialogs",e[e.users=3]="users",e[e.friends=4]="friends",e[e.settings=5]="settings"}(c||(c={}))}},[[355,1,2]]]);
//# sourceMappingURL=main.88041a27.chunk.js.map