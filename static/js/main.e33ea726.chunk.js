(this["webpackJsonpreact-02"]=this["webpackJsonpreact-02"]||[]).push([[0],{138:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(e){return e.app.isInitialized},r=function(e){return e.app.isLoading}},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(68),r=n(0),c=n.n(r),o=n(29),i=n(9),s=function(e){return{isAuth:e.auth.isAuth}};function l(e){return Object(i.b)(s)((function(t){var n=t.isAuth,r=Object(a.a)(t,["isAuth"]);return n?c.a.createElement(e,r):c.a.createElement(o.a,{to:"/login"})}))}},14:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u}));var a=n(7),r=n.n(a),c=n(11),o=n(5),i=n(81),s={isInitialized:!1,globalError:null,isLoading:!1,lanError:!1},l={setIsInitialized:function(e){return{type:"APP/SET_IS_INITIALIZED",isInitialized:e}},toggleLoading:function(e){return{type:"APP/TOGGLE_LOADING",isLoading:e}},setLanError:function(e){return{type:"APP/SET_LAN_ERROR",lanError:e}}},u=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("getInitialized"),t(l.toggleLoading(!0)),n=t(Object(i.b)()),Promise.all([n]).then((function(){t(l.setIsInitialized(!0))}))}catch(a){t(l.setLanError(!0))}finally{t(l.toggleLoading(!1))}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET_IS_INITIALIZED":return Object(o.a)(Object(o.a)({},e),{},{isInitialized:t.isInitialized});case"APP/TOGGLE_LOADING":return Object(o.a)(Object(o.a)({},e),{},{isLoading:t.isLoading});case"APP/SET_LAN_ERROR":return Object(o.a)(Object(o.a)({},e),{},{lanError:t.lanError});default:return e}}},142:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(495),o=n(496),i=n(73),s=n(293),l=n(35),u=n(486),d=n(70),f=n(291),m=n(143),p=n.n(m),g=n(36),b=n.n(g),E=n(499),h=n(187),v=n(188),O=n(45),S=n(203),j=n(204),I=n.n(j),w=n(9),L=n(71),x=Object(v.a)({form:"send-message"})((function(e){var t=e.handleSubmit,n=e.submitting,a=e.pristine,c=T(),o=_();return r.a.createElement("form",{onSubmit:t},r.a.createElement(h.a,{name:"message",component:S.a,validate:[O.d],autoFocus:!0,className:c.textArea,classes:o,label:"Enter your message",placeholder:"Enter your message",size:"small"}),r.a.createElement("div",null,r.a.createElement(u.a,{type:"submit",size:"small",color:"primary",variant:"contained",startIcon:r.a.createElement(I.a,null),disabled:n||a,className:c.button},"Send message")))}));t.a=function(e){var t=e.open,n=e.onClose,a=e.id,i=e.name,u=e.src,m=e.dialogs,g=T(),b=Object(w.c)(),h=m&&m.some((function(e){return e.id===a}));return r.a.createElement(r.a.Fragment,null,m&&r.a.createElement(c.a,{open:t,classes:{paper:g.paper},className:g.dialog},r.a.createElement("div",{className:g.titleWrapper},r.a.createElement(d.a,{className:g.title},"New message"),h&&r.a.createElement(s.a,{component:l.b,to:"/dialogs/".concat(a),variant:"body2",className:g.titleLink,onClick:function(){b(L.c.setCurrentFriendsId(a))}},"Go to dialog with ",i),r.a.createElement(f.a,{className:g.titleIcon,onClick:function(){n(!1)}},r.a.createElement(p.a,null))),r.a.createElement(o.a,{className:g.content},r.a.createElement("div",{className:g.friendInfo},r.a.createElement(E.a,{className:g.avatar,src:u}),r.a.createElement(s.a,{component:l.b,to:"/users/".concat(a),variant:"subtitle2"},i)),r.a.createElement(x,{onSubmit:function(e){b(Object(L.f)(a,e.message)),n(!1)}}))))};var T=Object(i.a)({dialog:{},paper:{width:500},titleWrapper:{display:"flex",alignItems:"center",backgroundColor:b.a[500],color:"white",padding:"5px 5px 5px 15px"},title:{flexGrow:1},titleLink:{color:"white"},titleIcon:{color:"white",marginLeft:10},friendInfo:{display:"flex",alignItems:"center",padding:"10px 0 15px 0"},avatar:{marginRight:10},content:{backgroundColor:b.a[50],paddingBottom:15},textArea:{width:"100%"},button:{marginTop:15}}),_=Object(i.a)({root:{backgroundColor:"white"}})},169:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={getCurrentDate:function(){return new Date},getMonthWord:function(e){switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December"}},dateTranslateFromJS:function(e){var t=e.getMonth()+1,n=e.getDate(),a=e.getHours(),r=e.getMinutes();a<10&&(a="0".concat(a)),r<10&&(r="0".concat(r));var c=this.getMonthWord(+t);return"".concat(n," ").concat(c," in ").concat(a,":").concat(r)},dateTranslateFromAPI:function(e){e.slice(0,4);var t=e.slice(5,7),n=this.getMonthWord(+t),a=e.slice(8,10),r=e.slice(11,13),c=e.slice(14,16);return"".concat(a," ").concat(n," in ").concat(r,":").concat(c)}}},19:function(e,t,n){"use strict";n.d(t,"h",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return O}));var a=n(7),r=n.n(a),c=n(11),o=n(106),i=n(5),s=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(i.a)(Object(i.a)({},e),a):e}))},l=n(22),u={getUsers:function(){var e=arguments;return Object(c.a)(r.a.mark((function t(){var n,a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,a=e.length>1&&void 0!==e[1]?e[1]:10,t.next=4,l.c.get("users?page=".concat(n,"&count=").concat(a));case 4:return c=t.sent,t.abrupt("return",c.data);case 6:case"end":return t.stop()}}),t)})))()},searchUsers:function(){var e=arguments;return Object(c.a)(r.a.mark((function t(){var n,a,c,o,i,s,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,a=e.length>1&&void 0!==e[1]?e[1]:10,c=e.length>2?e[2]:void 0,o=e.length>3?e[3]:void 0,i="users?page=".concat(n,"&count=").concat(a),c&&(i+="&term=".concat(c)),s="all"===o?"":"&friend=".concat(o),i+=s,t.next=10,l.c.get(i);case 10:return u=t.sent,t.abrupt("return",u.data);case 12:case"end":return t.stop()}}),t)})))()},followUser:function(e){return Object(c.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.c.post("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},unfollowUser:function(e){return Object(c.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.c.delete("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}},d=n(14),f={users:null,pageSize:10,pageFriendsSize:10,totalUsersCount:0,totalFriendsCount:0,currentPage:1,currentFriendsPage:1,isLoading:!1,isFollowing:!1,followingInProgress:[],friends:null,searchUsersParams:{term:"",friend:"all"},searchFriendsParams:{term:""},isFriendsSearching:!1,showUsersFrom:"all",currentFriendsSidebarItem:0,needToChangeListOfFriends:!1,friendIdToRemove:null},m={toggleIsFriendsSearching:function(e){return{type:"USERS/TOGGLE_IS_FRIENDS_SEARCHING",isFriendsSearching:e}},setNeedToChangeListOfFriends:function(e,t){return{type:"USERS/SET_NEED_TO_CHANG_LIST_OF_FRIENDS",needToChangeListOfFriends:e,friendIdToRemove:t}},setCurrentFriendsSidebarItem:function(e){return{type:"USERS/SET_CURRENT_FRIENDS_SIDEBAR_ITEM",currentFriendsSidebarItem:e}},setFriends:function(e){return{type:"USERS/SET_FRIENDS",friends:e}},setSearchFriendsParams:function(e){return{type:"USERS/SET_SEARCH_FRIENDS_PARAMS",searchFriendsParams:e}},setSearchUsersParams:function(e){return{type:"USERS/SET_SEARCH_USERS_PARAMS",searchUsersParams:e}},setFollow:function(e){return{type:"USERS/FOLLOW",userId:e}},setUnfollow:function(e){return{type:"USERS/UNFOLLOW",userId:e}},setUsers:function(e){return{type:"USERS/SET_USERS",users:e}},setCurrentPage:function(e){return{type:"USERS/SET_CURRENT_PAGE",currentPage:e}},setCurrentFriendsPage:function(e){return{type:"USERS/SET_CURRENT_FRIENDS_PAGE",currentFriendsPage:e}},setTotalUsersCount:function(e){return{type:"USERS/SET_TOTAL_USERS_COUNT",totalUsersCount:e}},setTotalFriendsCount:function(e){return{type:"USERS/SET_TOTAL_FRIENDS_COUNT",totalFriendsCount:e}},toggleLoading:function(e){return{type:"USERS/TOGGLE_LOADING",isLoading:e}},toggleFollowing:function(e){return{type:"USERS/TOGGLE_FOLLOWING",isFollowing:e}},toggleFollowingProgress:function(e,t){return{type:"USERS/TOGGLE_FOLLOWING_PROGRESS",followingInProgress:e,id:t}},setShowUsersFrom:function(e){return{type:"USERS/SET_SHOW_USERS_FROM",showUsersFrom:e}}},p=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(d.a.toggleLoading(!0)),n.next=4,u.getUsers(e,t);case 4:c=n.sent,a(m.setUsers(c.items)),a(m.setTotalUsersCount(c.totalCount)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),a(d.a.setLanError(!0));case 12:return n.prev=12,a(d.a.toggleLoading(!1)),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])})));return function(e){return n.apply(this,arguments)}}()},g=function(e,t,n,a){return function(){var o=Object(c.a)(r.a.mark((function c(o){var i;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o(d.a.toggleLoading(!0)),r.next=4,u.searchUsers(e,t,n,a);case 4:i=r.sent,console.log("searchUsers"),o(m.setUsers(i.items)),o(m.setTotalUsersCount(i.totalCount)),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),o(d.a.setLanError(!0));case 13:return r.prev=13,o(d.a.toggleLoading(!1)),r.finish(13);case 16:case"end":return r.stop()}}),c,null,[[0,10,13,16]])})));return function(e){return o.apply(this,arguments)}}()},b=function(e,t,n){return function(){var a=Object(c.a)(r.a.mark((function a(c){var o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c(m.toggleIsFriendsSearching(!0)),a.next=4,u.searchUsers(e,t,n,"true");case 4:o=a.sent,c(m.setFriends(o.items)),c(m.setTotalFriendsCount(o.totalCount)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),c(d.a.setLanError(!0));case 12:return a.prev=12,c(m.toggleIsFriendsSearching(!1)),a.finish(12);case 15:case"end":return a.stop()}}),a,null,[[0,9,12,15]])})));return function(e){return a.apply(this,arguments)}}()},E=function(e,t,n){return function(){var a=Object(c.a)(r.a.mark((function a(c){var o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c(m.toggleFollowing(!0)),c(m.toggleFollowingProgress(!0,n)),a.next=5,u.unfollowUser(n);case 5:if(0!==a.sent.resultCode){a.next=13;break}return a.next=9,u.searchUsers(e,t,"","true");case 9:o=a.sent,c(m.setFriends(o.items)),c(m.setTotalFriendsCount(o.totalCount)),c(m.setNeedToChangeListOfFriends(!1,null));case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),c(d.a.setLanError(!0));case 18:return a.prev=18,c(m.toggleFollowing(!0)),c(m.toggleFollowingProgress(!1,n)),a.finish(18);case 22:case"end":return a.stop()}}),a,null,[[0,15,18,22]])})));return function(e){return a.apply(this,arguments)}}()},h=function(){var e=Object(c.a)(r.a.mark((function e(t,n,a,c){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(m.toggleFollowing(!0)),t(m.toggleFollowingProgress(!0,n)),e.next=4,a(n);case 4:0===e.sent.resultCode&&t(c(n)),t(m.toggleFollowingProgress(!1,n));case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),v=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h(n,e,u.followUser.bind(e),m.setFollow);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),n(d.a.setLanError(!0));case 8:return t.prev=8,n(m.toggleFollowing(!1)),t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,5,8,11]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(n,e,u.unfollowUser.bind(e),m.setUnfollow);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS/TOGGLE_IS_FRIENDS_SEARCHING":return Object(i.a)(Object(i.a)({},e),{},{isFriendsSearching:t.isFriendsSearching});case"USERS/SET_NEED_TO_CHANG_LIST_OF_FRIENDS":return Object(i.a)(Object(i.a)({},e),{},{needToChangeListOfFriends:t.needToChangeListOfFriends,friendIdToRemove:t.friendIdToRemove});case"USERS/SET_CURRENT_FRIENDS_SIDEBAR_ITEM":return Object(i.a)(Object(i.a)({},e),{},{currentFriendsSidebarItem:t.currentFriendsSidebarItem});case"USERS/SET_FRIENDS":return Object(i.a)(Object(i.a)({},e),{},{friends:t.friends});case"USERS/SET_SHOW_USERS_FROM":return Object(i.a)(Object(i.a)({},e),{},{showUsersFrom:t.showUsersFrom});case"USERS/SET_SEARCH_FRIENDS_PARAMS":return Object(i.a)(Object(i.a)({},e),{},{searchFriendsParams:t.searchFriendsParams});case"USERS/SET_SEARCH_USERS_PARAMS":return Object(i.a)(Object(i.a)({},e),{},{searchUsersParams:t.searchUsersParams});case"USERS/FOLLOW":return Object(i.a)(Object(i.a)({},e),{},{users:s(e.users,t.userId,"id",{followed:!0})});case"USERS/UNFOLLOW":return Object(i.a)(Object(i.a)({},e),{},{users:s(e.users,t.userId,"id",{followed:!1})});case"USERS/SET_USERS":return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case"USERS/SET_CURRENT_PAGE":return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage});case"USERS/SET_CURRENT_FRIENDS_PAGE":return Object(i.a)(Object(i.a)({},e),{},{currentFriendsPage:t.currentFriendsPage});case"USERS/SET_TOTAL_USERS_COUNT":return Object(i.a)(Object(i.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"USERS/SET_TOTAL_FRIENDS_COUNT":return Object(i.a)(Object(i.a)({},e),{},{totalFriendsCount:t.totalFriendsCount});case"USERS/TOGGLE_LOADING":return Object(i.a)(Object(i.a)({},e),{},{isLoading:t.isLoading});case"USERS/TOGGLE_FOLLOWING":return Object(i.a)(Object(i.a)({},e),{},{isFollowing:t.isFollowing});case"USERS/TOGGLE_FOLLOWING_PROGRESS":return Object(i.a)(Object(i.a)({},e),{},{followingInProgress:t.followingInProgress?[].concat(Object(o.a)(e.followingInProgress),[t.id]):e.followingInProgress.filter((function(e){return e!==t.id}))});default:return e}}},197:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"j",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"i",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return f}));var a=function(e){return e.profile.posts},r=function(e){return e.profile.profile},c=function(e){return e.profile.currentUserProfile},o=function(e){return e.profile.status},i=function(e){return e.profile.avatarIsLoading},s=function(e){return e.profile.statusIsLoading},l=function(e){return e.profile.editMode},u=function(e){return e.profile.currentInfoFormSidebarItem},d=function(e){return e.profile.followed},f=function(e){return e.profile.editingPost}},203:function(e,t,n){"use strict";var a=n(68),r=n(295),c=n(0),o=n.n(c),i=n(73);t.a=function(e){var t=e.icon,n=e.label,c=e.placeholder,i=e.input,l=e.meta,u=l.touched,d=l.invalid,f=l.error,m=e.classes,p=(e.rows,Object(a.a)(e,["icon","label","placeholder","input","meta","classes","rows"])),g=s();return o.a.createElement("div",{className:g.root},t&&o.a.createElement("div",{className:g.iconLeft},t),o.a.createElement(r.a,Object.assign({InputProps:m?{classes:m}:null,multiline:!0,variant:"outlined",label:n,placeholder:c,error:u&&d,helperText:u&&f},i,p)))};var s=Object(i.a)({root:{position:"relative"},iconLeft:{position:"absolute",left:-5,top:"50%",transform:"translate(-100%, -50%)"}})},22:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a,r,c=n(259),o=n.n(c).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"e09d6375-5dac-4dde-95ca-700e186a8f7d"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(a||(a={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(r||(r={}))},235:function(e,t,n){"use strict";var a=n(68),r=n(0),c=n.n(r),o=n(73),i=n(498);t.a=function(e){var t=e.icon,n=e.label,r=e.placeholder,o=e.input,l=e.meta,u=l.touched,d=l.invalid,f=(l.error,e.rows),m=void 0===f?4:f,p=e.multiline,g=void 0===p||p,b=e.classes,E=Object(a.a)(e,["icon","label","placeholder","input","meta","rows","multiline","classes"]),h=s();return c.a.createElement("div",{className:h.root},t&&c.a.createElement("div",{className:h.iconLeft},t),c.a.createElement(i.a,Object.assign({classes:b||null,multiline:g,rows:m,variant:"outlined",label:n,placeholder:r,error:u&&d},o,E)))};var s=Object(o.a)({root:{position:"relative"},iconLeft:{position:"absolute",left:-5,top:"50%",transform:"translate(-100%, -50%)"}})},24:function(e,t,n){"use strict";n.d(t,"p",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"j",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"o",(function(){return l})),n.d(t,"n",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"k",(function(){return m})),n.d(t,"m",(function(){return p})),n.d(t,"b",(function(){return g})),n.d(t,"i",(function(){return b})),n.d(t,"e",(function(){return E})),n.d(t,"h",(function(){return h}));var a=function(e){return e.users.users},r=function(e){return e.users.friends},c=function(e){return e.users.pageSize},o=function(e){return e.users.currentPage},i=function(e){return e.users.currentFriendsPage},s=function(e){return e.users.followingInProgress},l=function(e){return e.users.totalUsersCount},u=function(e){return e.users.totalFriendsCount},d=function(e){return e.users.isFollowing},f=function(e){return e.users.searchUsersParams},m=function(e){return e.users.searchFriendsParams},p=function(e){return e.users.showUsersFrom},g=function(e){return e.users.currentFriendsSidebarItem},b=function(e){return e.users.needToChangeListOfFriends},E=function(e){return e.users.friendIdToRemove},h=function(e){return e.users.isFriendsSearching}},250:function(e,t,n){"use strict";var a=n(494),r=n(497),c=n(0),o=n.n(c),i=n(73);t.a=function(e){var t=e.input,n=e.label,c=e.icon,i=s();return o.a.createElement("div",{className:i.root},c&&o.a.createElement("div",{className:i.iconLeft},c),o.a.createElement(a.a,{control:o.a.createElement(r.a,{checked:!!t.value,color:"primary",onChange:t.onChange}),label:n}))};var s=Object(i.a)({root:{position:"relative"},iconLeft:{position:"absolute",left:-5,top:"50%",transform:"translate(-100%, -50%)"}})},335:function(e,t,n){e.exports=n(481)},340:function(e,t,n){},45:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i}));var a=function(e){return e?void 0:"Field is required"},r=function(e){return function(t){return t&&t.length>e?"Number of letters is more than ".concat(e):void 0}},c=(r(10),r(30)),o=(r(100),function(e){return/^\s+$/.test(e)}),i=function(e){return o(e)&&""!==e?"Field should not be empty":void 0}},481:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(0),r=n.n(a),c=n(20),o=n.n(c),i=(n(340),n(9)),s=n(30),l=n(91),u=n(71),d=n(56),f=n(19),m=n(81),p=n(260),g=n(255),b=n(14),E=n(261),h=Object(s.combineReducers)({profile:l.a,dialogs:u.a,sidebar:d.a,users:f.a,auth:m.a,app:b.b,form:g.a}),v=Object(s.createStore)(h,Object(E.composeWithDevTools)(Object(s.applyMiddleware)(p.a)));window.store=v;var O=v,S=n(35),j=n(42),I=n(73),w=n(535),L=n(99),x=n(536),T=n(2),_=n(291),N=n(264),R=n.n(N),C=n(70),y=n(537),F=n(486),k=n(499),U=n(265),A=n.n(U),P=n(488),D=n(161),G=n(539),M=n(540),W=n(541),z=n(538),B=n(542),H=n(155),J=n.n(H),q=n(543),K=n(269),V=n.n(K),Z=n(86),$=function(e){return e.sidebar.sidebarIsOpen},Y=function(e){return e.sidebar.currentSidebarItem},Q=n(197),X=n(187),ee=n(188),te=n(45),ne=n(100),ae=n.n(ne),re=n(235),ce=n(36),oe=n.n(ce),ie=Object(ee.a)({form:"header-search"})((function(e){var t=e.handleSubmit,n=(e.submitting,e.pristine,le()),a=ue();return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:n.fieldWrapper},r.a.createElement(ae.a,{className:n.icon}),r.a.createElement(X.a,{name:"name",component:re.a,validate:[te.d],multiline:!1,className:n.field,classes:a,placeholder:"Search...",size:"small"})))})),se=function(){return r.a.createElement("div",null,r.a.createElement(ie,{onSubmit:function(e){console.log(e)}}))},le=Object(I.a)({field:{color:"white"},fieldWrapper:{display:"flex",alignItems:"center",backgroundColor:oe.a[400],height:40,borderRadius:20,paddingRight:20,"&:hover":{backgroundColor:oe.a[300]},marginRight:15},icon:{padding:"0 10px"}}),ue=Object(I.a)((function(e){return Object(w.a)({input:{transition:e.transitions.create("width"),width:200,"&:focus":{width:300}}})})),de=function(){var e=fe(),t=me(),n=Object(i.d)(Z.c),c=Object(i.d)($),o=Object(i.d)(Z.d),s=Object(i.d)(Q.h),u=Object(i.d)(Z.b),f=Object(i.c)();Object(a.useEffect)((function(){u&&f(Object(l.d)(u))}),[u]);var p=r.a.useState(!1),g=Object(j.a)(p,2),b=g[0],E=g[1],h=r.a.useRef(null),v=function(e){h.current&&h.current.contains(e.target)||E(!1)};function O(e){"Tab"===e.key&&(e.preventDefault(),E(!1))}var I=r.a.useRef(b);r.a.useEffect((function(){!0===I.current&&!1===b&&h.current.focus(),I.current=b}),[b]);var w=function(e){v(e)},N=function(e){v(e),f(Object(m.d)())};return r.a.createElement(x.a,{position:"fixed",classes:{root:t.paper},className:Object(T.default)(e.appBar,Object(L.a)({},e.appBarShift,c))},r.a.createElement(y.a,null,r.a.createElement(_.a,{color:"inherit","aria-label":"open drawer",onClick:function(){f(d.b.setSidebarIsOpen(!0))},edge:"start",className:Object(T.default)(e.menuButton,c&&e.hide)},r.a.createElement(R.a,null)),r.a.createElement(C.a,{variant:"h6",noWrap:!0,className:e.logo},"Social Network"),r.a.createElement(se,null),n?r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{ref:h,"aria-controls":b?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){E((function(e){return!e}))},classes:{root:e.button,label:e.label},color:"inherit"},r.a.createElement(C.a,{variant:"subtitle1",noWrap:!0,className:e.login},o),s&&s.photos.small?r.a.createElement(k.a,{src:s.photos.small,className:e.avatar}):r.a.createElement(k.a,{className:e.avatar}),r.a.createElement(A.a,null)),r.a.createElement(z.a,{open:b,anchorEl:h.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,n=e.placement;return r.a.createElement(P.a,Object.assign({},t,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(D.a,null,r.a.createElement(G.a,{onClickAway:v},r.a.createElement(M.a,{autoFocusItem:b,id:"menu-list-grow",onKeyDown:O},r.a.createElement(W.a,{onClick:w},r.a.createElement(B.a,null,r.a.createElement(J.a,null)),r.a.createElement(q.a,{primary:"Settings"})),r.a.createElement(W.a,{onClick:N},r.a.createElement(B.a,null,r.a.createElement(V.a,null)),r.a.createElement(q.a,{primary:"Logout"}))))))}))):r.a.createElement(F.a,{color:"inherit",component:S.b,to:"/login"},"\u0412\u043e\u0439\u0442\u0438")))},fe=Object(I.a)((function(e){return Object(w.a)({appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(180,"px)"),marginLeft:180,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},logo:{flexGrow:1},login:{marginRight:10},button:{"&:hover":{backgroundColor:"rgba(0,0,0,0.3)",borderRadius:0,minHeight:64},textTransform:"none",paddingTop:0,paddingBottom:0},label:{minHeight:64},avatar:{width:50,height:50,marginRight:10}})})),me=Object(I.a)({paper:{}}),pe=n(5),ge=n(561),be=n(489),Ee=n(200),he=n.n(Ee),ve=n(276),Oe=n.n(ve),Se=n(277),je=n.n(Se),Ie=n(272),we=n.n(Ie),Le=n(273),xe=n.n(Le),Te=n(274),_e=n.n(Te),Ne=n(544),Re=n(270),Ce=n.n(Re),ye=n(271),Fe=n.n(ye),ke=n(490),Ue=function(e){var t=e.to,n=e.primary,a=e.icon,c=e.ownIndex,o=Ae(),s=Object(i.d)(Y),u=Object(i.c)();return r.a.createElement("li",null,r.a.createElement(ke.a,{onClick:function(){u(d.b.setCurrentSidebarItem(c)),u(l.f.setEditMode(!1)),u(f.h.setShowUsersFrom("all")),u(f.h.setCurrentPage(1)),u(f.h.setSearchFriendsParams({term:""})),u(f.h.setCurrentFriendsSidebarItem(0))},selected:c===s,button:!0,component:S.b,to:t},a?r.a.createElement(Ce.a,{className:Object(T.default)(c===s&&o.icon)},a):null,r.a.createElement(Fe.a,{primary:n,className:Object(T.default)(c===s&&o.text)})))},Ae=Object(I.a)((function(e){return{icon:{color:oe.a[500]},text:{color:oe.a[600],fontWeight:900}}})),Pe=n(275),De=n.n(Pe),Ge=function(){var e=Me(),t=we()(),n=Object(i.d)($),a=Object(i.c)();return r.a.createElement(ge.a,{className:e.drawer,classes:{root:e.root,paperAnchorDockedLeft:e.paperAnchorDockedLeft,paper:e.drawerPaper},variant:"persistent",anchor:"left",open:n},r.a.createElement("div",{className:e.drawerHeader},r.a.createElement(_.a,{onClick:function(){a(d.b.setSidebarIsOpen(!1))}},"ltr"===t.direction?r.a.createElement(xe.a,null):r.a.createElement(_e.a,null))),r.a.createElement(Ne.a,null),r.a.createElement(be.a,null,r.a.createElement(Ue,{ownIndex:1,to:"/profile",primary:"My profile",icon:r.a.createElement(De.a,null)}),r.a.createElement(Ue,{ownIndex:2,to:"/dialogs",primary:"Dialogs",icon:r.a.createElement(Oe.a,null)}),r.a.createElement(Ue,{ownIndex:3,to:"/users",primary:"Users",icon:r.a.createElement(je.a,null)}),r.a.createElement(Ue,{ownIndex:4,to:"/friends",primary:"Friends",icon:r.a.createElement(he.a,null)}),r.a.createElement(Ue,{ownIndex:5,to:"/settings",primary:"Settings",icon:r.a.createElement(J.a,null)})))},Me=Object(I.a)((function(e){return{root:{},drawer:{width:180,flexShrink:0},drawerPaper:{width:180,backgroundColor:oe.a[50]},drawerHeader:Object(pe.a)(Object(pe.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),paperAnchorDockedLeft:{border:0}}})),We=n(29),ze=n(61),Be=n(282),He=n.n(Be),Je=n(85),qe=n(549),Ke=n(545),Ve=n(297),Ze=n(546),$e=n(548),Ye=n(280),Qe=n.n(Ye),Xe=n(281),et=n.n(Xe),tt=n(562),nt=n(279),at=n.n(nt),rt=function(e){var t=e.label,n=e.input,c=e.placeholder,o=e.meta,i=e.disabled,s=ct(),l=Object(a.useState)(!1),u=Object(j.a)(l,2),d=u[0],f=u[1],m=Object(a.useState)(""),p=Object(j.a)(m,2),g=p[0],b=p[1];return r.a.createElement("div",{className:s.root},r.a.createElement(at.a,{className:s.iconLeft}),r.a.createElement(Ke.a,{className:s.textField,variant:"outlined"},r.a.createElement(Ze.a,{htmlFor:"outlined-adornment-password",classes:{outlined:s.outlined}},t),r.a.createElement(tt.a,Object.assign({classes:{root:s.outlinedInputRoot,input:s.outlinedInputInput},disabled:i,id:"outlined-adornment-password",placeholder:c,type:d?"text":"password",value:g,error:o.touched&&o.invalid,onChange:function(e){b(e.target.value)}},n,{endAdornment:r.a.createElement($e.a,{position:"end"},r.a.createElement(_.a,{"aria-label":"toggle password visibility",onClick:function(){f(!d)},onMouseDown:function(e){e.preventDefault()},edge:"end",className:s.iconButton},d?r.a.createElement(Qe.a,null):r.a.createElement(et.a,null))),labelWidth:73})),o.touched&&o.invalid&&r.a.createElement(C.a,{color:"error",variant:"caption",className:s.error},o.error)))},ct=Object(Ve.a)({root:{position:"relative",width:"100%"},iconLeft:{position:"absolute",left:-5,top:"50%",transform:"translate(-100%, -50%)"},textField:{width:"100%"},error:{paddingLeft:14,paddingTop:2},outlinedInputRoot:{width:"100%"},outlinedInputInput:{height:40,paddingTop:0,paddingBottom:0},outlined:{transform:"translate(14px, 12px) scale(1)"},iconButton:{padding:8}}),ot=n(250),it=Object(ee.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.submitting,a=e.pristine,c=e.error,o=e.captcha,i=lt();return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:i.fieldWrapper},r.a.createElement(X.a,{name:"email",component:Je.a,icon:r.a.createElement(He.a,null),className:i.textField,validate:[te.c,te.d],label:"email",size:"small"})),r.a.createElement("div",{className:i.fieldWrapper},r.a.createElement(X.a,{name:"password",className:i.textField,component:rt,placeholder:"Enter your password",label:"Password",validate:[te.c,te.d]})),r.a.createElement("div",{className:i.fieldWrapper},r.a.createElement(X.a,{name:"rememberMe",component:ot.a,label:"Remember me"})),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:i.fieldWrapper},r.a.createElement("img",{src:o,alt:""})),r.a.createElement("div",{className:i.fieldWrapper},r.a.createElement(X.a,{name:"captcha",className:i.textField,component:Je.a,placeholder:"Enter symbols from image",label:"Captcha",validate:[te.c,te.d],size:"small"}))),c&&!a&&r.a.createElement(C.a,{color:"error",variant:"h6",className:i.fieldWrapper},c),r.a.createElement("div",{className:i.fieldWrapper},r.a.createElement(F.a,{type:"submit",color:"primary",variant:"contained",fullWidth:!0,size:"large",className:i.button,disabled:n||a},"Enter")))})),st=function(){var e=lt(),t=Object(i.d)(Z.c),n=Object(i.d)(Z.a),a=Object(i.c)();return t?r.a.createElement(We.a,{to:"/profile"}):r.a.createElement("div",{className:e.root},r.a.createElement(qe.a,{className:e.card,elevation:6},r.a.createElement(C.a,{className:e.title,align:"center",color:"primary",variant:"h5"},"Enter in your profile"),r.a.createElement(it,{onSubmit:function(e){a(Object(m.c)(e.email,e.password,e.rememberMe,e.captcha))},captcha:n})))},lt=Object(I.a)({root:{display:"flex",justifyContent:"center"},card:{width:500,padding:"15px 30px 15px 10px",borderRadius:10},error:{width:300,marginBottom:10},textField:{width:"100%"},fieldWrapper:{marginLeft:35,marginBottom:10},button:{},title:{marginBottom:20}}),ut=n(138),dt=n(550),ft=n(551),mt=n(552),pt=n(252),gt=n.n(pt),bt=n(251),Et=n.n(bt),ht=n(553),vt=n(24),Ot=n(283),St=n.n(Ot),jt=n(142),It=function(e){var t=e.user,n=e.dialogs,a=wt(),c=r.a.useState(!1),o=Object(j.a)(c,2),s=o[0],l=o[1],u=Object(i.d)(vt.d),d=Object(i.d)(vt.g),m=Object(i.c)(),p=t.followed?"UnFollow":"Follow",g=t.followed?r.a.createElement(Et.a,null):r.a.createElement(gt.a,null),b=t&&t.photos.small?t.photos.small:void 0;return r.a.createElement(dt.a,{item:!0},r.a.createElement(qe.a,{elevation:6,className:a.root},r.a.createElement(ft.a,{component:S.b,to:"/users/".concat(t.id)},r.a.createElement(k.a,{className:a.avatar,src:b||void 0,variant:"rounded"})),r.a.createElement(mt.a,{className:a.cardContent},r.a.createElement(C.a,{color:"primary",variant:"subtitle2",align:"center"},t.name),r.a.createElement(C.a,{variant:"body2",align:"center"},t.status)),r.a.createElement(ht.a,{disableSpacing:!0,className:a.cardActions},r.a.createElement("div",{className:a.buttons},r.a.createElement("div",{className:a.buttonWrapper},r.a.createElement(F.a,{className:a.button,variant:"outlined",color:"primary",size:"small",fullWidth:!0,disabled:u.some((function(e){return e===t.id})),onClick:function(){t.followed?m(Object(f.c)(t.id)):m(Object(f.b)(t.id))},startIcon:g},p),d&&u.some((function(e){return e===t.id}))&&r.a.createElement(ze.a,{size:20,style:"absolute"})),r.a.createElement("div",{className:a.buttonWrapper},r.a.createElement(F.a,{className:a.button,variant:"outlined",color:"primary",size:"small",fullWidth:!0,onClick:function(){l(!0)},startIcon:r.a.createElement(St.a,null)},"Send message")),r.a.createElement(jt.a,{open:s,onClose:l,id:t.id,name:t.name,src:b,dialogs:n})))))},wt=Object(I.a)({root:{width:150,padding:10},media:{height:150,borderRadius:5},avatar:{width:150,height:150},cardContent:{padding:5},cardActions:{padding:0},button:{textTransform:"none"},buttonWrapper:{width:"100%",position:"relative",marginBottom:5},buttons:{width:"100%",marginTop:0}}),Lt=n(284),xt=n.n(Lt),Tt=n(285),_t=n.n(Tt),Nt=function(e){for(var t=e.totalItemsCount,n=e.pageSize,c=e.currentPage,o=e.onPageChanged,i=e.portionSize,s=void 0===i?10:i,l=Rt(),u=Math.ceil(t/n),d=[],f=1;f<u+1;f++)d.push(f);var m=Math.ceil(u/s),p=Object(a.useState)(1),g=Object(j.a)(p,2),b=g[0],E=g[1],h=(b-1)*s+1,v=b*s,O=d.filter((function(e){return e>=h&&e<=v})).map((function(e){return r.a.createElement(F.a,{className:l.buttonRoot,key:e,onClick:function(t){o(e)},size:"small",color:"primary",disableElevation:!0,variant:e===c?"contained":"outlined"},e)})),S=(b-1)*n,I="".concat((b-2)*n+1,"...").concat(S),w=b<m-1?(b+1)*n:u,L="".concat(b*n+1,"...").concat(w);return r.a.createElement("div",{className:l.paginator},b>1&&r.a.createElement(_.a,{onClick:function(){E(1),o(1)},className:l.iconButtonRoot,size:"small"},r.a.createElement(xt.a,{className:l.icon})),b>1&&r.a.createElement(F.a,{className:l.buttonRoot,onClick:function(){E(b-1),o((b-2)*s+1)},size:"small",color:"primary",disableElevation:!0,variant:"outlined"},I),O,b<m&&r.a.createElement(F.a,{className:l.buttonRoot,onClick:function(){E(b+1),o(b*s+1)},size:"small",color:"primary",disableElevation:!0,variant:"outlined"},L),b<m&&r.a.createElement(_.a,{onClick:function(){E(m),o(u)},className:l.iconButtonRoot,size:"small"},r.a.createElement(_t.a,{className:l.icon})))},Rt=Object(I.a)({paginator:{},buttonRoot:{marginRight:5,paddingLeft:3,paddingRight:3,paddingTop:0,paddingBottom:0,minWidth:24},iconButtonRoot:{borderRadius:4,border:"1px solid rgba(63, 81, 181, 0.5)",marginRight:5,padding:0,color:oe.a[500]},icon:{width:22.4,height:22.4}}),Ct=n(139),yt=n(555),Ft=n(287),kt=n.n(Ft),Ut=n(253),At=n.n(Ut),Pt=n(286),Dt=n.n(Pt),Gt=n(554),Mt=n(49),Wt=n(68),zt=n(563),Bt=n(560),Ht=n(494),Jt=n(493),qt=function(e){var t=e.labels,n=(e.value,e.input),a=e.classes,c=e.label,o=Object(Wt.a)(e,["labels","value","input","classes","label"]),i=t.map((function(e,t){return r.a.createElement(Ht.a,{value:e.value,key:t,className:a.formControlLabel,control:r.a.createElement(Bt.a,null),label:e.label})}));return r.a.createElement(Ke.a,null,r.a.createElement(Jt.a,{component:"legend",className:a.formLabel},c),r.a.createElement(zt.a,Object.assign({value:"all",className:a.radioGroup},n,o),i))},Kt=Object(ee.a)({form:"searchUsers"})((function(e){var t=e.handleSubmit,n=e.submitting,a=e.pristine,c=(e.reset,e.error),o=Zt(),s=$t(),l=Object(i.c)();return r.a.createElement("form",{onSubmit:t},r.a.createElement(X.a,{name:"term",component:Je.a,fullWidth:!0,validate:[te.d],label:"User name",size:"small",onChange:function(){return l(Object(Mt.c)("searchUsers"))}}),r.a.createElement(X.a,{name:"friend",label:"User are friend or not",component:qt,classes:s,labels:[{value:"all",label:"All"},{value:"true",label:"Friend"},{value:"false",label:"Not friend"}],size:"small"}),r.a.createElement("div",null,r.a.createElement(F.a,{type:"submit",size:"small",color:"primary",variant:"contained",startIcon:r.a.createElement(ae.a,null),disabled:n||a,className:o.button},"Search")),c&&!a&&r.a.createElement(C.a,{color:"error",variant:"h6"},c))})),Vt=function(){var e=Zt(),t=Object(i.c)();return r.a.createElement(qe.a,{className:e.card,elevation:6},r.a.createElement(C.a,{variant:"h6",color:"primary",classes:{h6:e.title}},"Search users"),r.a.createElement(Ne.a,{classes:{root:e.divider}}),r.a.createElement(Kt,{onSubmit:function(e){console.log(e),t(f.h.setSearchUsersParams(e)),t(f.h.setCurrentPage(1)),t(f.h.setShowUsersFrom("search"))},initialValues:{term:"",friend:"all"}}))},Zt=Object(I.a)({card:{padding:10,paddingBottom:10,marginBottom:10},title:{marginLeft:10},divider:{marginTop:5,marginBottom:15},button:{textTransform:"none"}}),$t=Object(I.a)({formLabel:{margin:"15px 10px 5px"},radioGroup:{display:"flex",flexDirection:"row",marginLeft:10},formControlLabel:{}}),Yt=n(82),Qt=Object(Ct.a)((function(){var e=Xt(),t=Object(i.d)(vt.p),n=Object(i.d)(vt.o),c=Object(i.d)(vt.j),o=Object(i.d)(vt.c),s=Object(i.d)(ut.b),l=Object(i.d)(vt.l),d=Object(i.d)(vt.m),m=Object(i.d)(Yt.c),p=Object(i.c)(),g=Object(a.useState)(!1),b=Object(j.a)(g,2),E=b[0],h=b[1];Object(a.useEffect)((function(){p(Object(u.d)())}),[]),Object(a.useEffect)((function(){"all"===d?p(Object(f.d)(o,c)):"search"===d&&p(Object(f.g)(o,c,l.term,l.friend))}),[o,c,d,l.term,l.friend]);var v=t&&t.map((function(e){return r.a.createElement(It,{user:e,key:e.id,dialogs:m})})),O="all"===d?"Total all users count:":"Total users count from search:";return r.a.createElement("div",{className:e.root},r.a.createElement(Gt.a,{in:E,timeout:"auto",unmountOnExit:!0},r.a.createElement(Vt,null)),r.a.createElement("div",{className:e.count},r.a.createElement(F.a,{onClick:function(){h(!E)},size:"small",className:e.button,color:"primary",startIcon:E?r.a.createElement(Dt.a,null):r.a.createElement(At.a,null),variant:"contained"},E?"Close search":"Open search"),r.a.createElement(F.a,{onClick:function(){p(f.h.setShowUsersFrom("all")),p(f.h.setCurrentPage(1))},size:"small",color:"primary",disabled:"all"===d,className:e.button,variant:"contained"},"Show all"),r.a.createElement(C.a,{color:"primary",variant:"subtitle2",className:e.countTitle},O),r.a.createElement(yt.a,{badgeContent:n,color:"primary",max:99999,showZero:!0},r.a.createElement(kt.a,null))),0!==n&&n&&c&&o&&r.a.createElement("div",{className:e.paginator},r.a.createElement(Nt,{totalItemsCount:n,pageSize:c,currentPage:o,onPageChanged:function(e){p(f.h.setCurrentPage(e))}})),s||!t?r.a.createElement(ze.a,null):r.a.createElement(dt.a,{container:!0,alignContent:"stretch",justify:"flex-start",wrap:"wrap",spacing:2},v))})),Xt=Object(I.a)({root:{minHeight:"100vh"},count:{display:"flex",alignItems:"center",marginTop:10,marginBottom:10},countTitle:{marginRight:10},button:{marginRight:10,textTransform:"none"},paginator:{marginBottom:10}}),en=n(556),tn=n(293),nn=n(288),an=n.n(nn),rn=function(e){var t=e.friend,n=e.dialogs,c=cn(),o=r.a.useState(!1),s=Object(j.a)(o,2),l=s[0],u=s[1],m=Object(i.c)(),p=Object(i.d)(vt.d),g=Object(i.d)(vt.g),b=t?t.photos.small:void 0,E=Object(a.useState)(!1),h=Object(j.a)(E,2),v=h[0],O=h[1],I=r.a.useRef(null),w=function(e){I.current&&I.current.contains(e.target)||O(!1)};function L(e){"Tab"===e.key&&(e.preventDefault(),O(!1))}var x=r.a.useRef(v);r.a.useEffect((function(){!0===x.current&&!1===v&&I.current.focus(),x.current=v}),[v]);var T=function(){},N=["Remove from friends","Something else","Something else"],R=[function(){m(f.h.setNeedToChangeListOfFriends(!0,t.id))},T,T],C=N.map((function(e,t){return r.a.createElement(W.a,{key:t,onClick:function(e){w(e),R[t]()}},N[t])}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{className:c.divider}),r.a.createElement(ke.a,{className:c.listItem},r.a.createElement("div",{className:c.listItemInner},r.a.createElement("div",{className:c.listItemInnerleft},r.a.createElement(en.a,null,r.a.createElement(k.a,{className:c.avatar,src:t.photos.large?t.photos.large:void 0})),r.a.createElement("div",{className:c.text},r.a.createElement(tn.a,{component:S.b,to:"/users/".concat(t.id),variant:"subtitle2",onClick:function(){m(d.b.setCurrentSidebarItem(3))}},t.name),r.a.createElement(tn.a,{component:S.b,to:"#",variant:"body2",onClick:function(e){e.preventDefault(),u(!0)}},"Send message")),r.a.createElement(jt.a,{open:l,onClose:u,id:t.id,name:t.name,src:b,dialogs:n})),r.a.createElement("div",null,r.a.createElement(_.a,{ref:I,"aria-controls":v?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){O((function(e){return!e}))},edge:"end","aria-label":"delete",className:c.iconButton},r.a.createElement(an.a,null)),r.a.createElement(z.a,{className:c.popper,open:v,anchorEl:I.current,role:void 0,transition:!0,placement:"bottom-end",disablePortal:!0},(function(e){var t=e.TransitionProps,n=e.placement;return r.a.createElement(P.a,Object.assign({},t,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(D.a,null,r.a.createElement(G.a,{onClickAway:w},r.a.createElement(M.a,{autoFocusItem:v,id:"menu-list-grow",onKeyDown:L},C))))})))),g&&p.some((function(e){return e===t.id}))&&r.a.createElement(ze.a,{size:80,style:"absolute"})))},cn=Object(I.a)({avatar:{width:80,height:80,marginRight:15},iconButton:{marginRight:0,zIndex:1},divider:{margin:"0 10px"},popper:{zIndex:1e3},listItemInner:{flexGrow:1,display:"flex",justifyContent:"space-between",alignItems:"center"},listItemInnerleft:{display:"flex",alignItems:"center",flexGrow:1},listItem:{position:"relative"},text:{display:"flex",flexDirection:"column"}}),on=(Object(I.a)({iconButton:{marginRight:0},popper:{}}),n(143)),sn=n.n(on),ln=Object(ee.a)({form:"friends-search"})((function(e){var t=e.handleSubmit,n=(e.submitting,e.pristine,e.reset,e.error,dn(),Object(i.c)());return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,r.a.createElement(X.a,{name:"term",component:Je.a,fullWidth:!0,validate:[te.d],label:"Friends name",size:"small",onChange:function(){n(Object(Mt.c)("friends-search")),n(f.h.setCurrentFriendsPage(1))}})))})),un=function(){var e=dn(),t=Object(i.d)(vt.h),n=Object(i.d)(vt.k),a=Object(i.c)(),c=""===n.term?r.a.createElement(ae.a,null):r.a.createElement(sn.a,null);return r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.iconButton},t?r.a.createElement(ze.a,{size:20,style:"absolute"}):r.a.createElement(_.a,{onClick:function(){""!==n.term&&(a(f.h.setSearchFriendsParams({term:""})),a(f.h.setCurrentFriendsPage(1)),a(Object(Mt.a)("friends-search")))}},c)),r.a.createElement("div",{className:e.form},r.a.createElement(ln,{onSubmit:function(e){a(f.h.setSearchFriendsParams({term:e.term})),console.log(e)}})))},dn=Object(I.a)({fieldWrapper:{margin:"10px 10px 5px 35px"},search:{display:"flex",alignItems:"center",padding:"0 10px"},form:{flexGrow:1},iconButton:{width:48,height:48,position:"relative",marginRight:5}}),fn=function(){var e=mn(),t=Object(i.d)(vt.f),n=Object(i.d)(vt.c),c=Object(i.d)(vt.a),o=Object(i.d)(vt.j),s=Object(i.d)(vt.i),l=Object(i.d)(vt.e),d=Object(i.d)(vt.k),m=Object(i.d)(vt.n),p=Object(i.d)(Yt.c),g=Object(i.c)(),b=t&&t.map((function(e){return r.a.createElement(rn,{key:e.id,friend:e,dialogs:p})}));Object(a.useEffect)((function(){g(Object(f.f)(c,o,d.term))}),[d.term,c]),Object(a.useEffect)((function(){s&&l&&g(Object(f.e)(n,o,l))}),[s]),Object(a.useEffect)((function(){g(Object(u.d)())}),[]);return r.a.createElement(qe.a,{className:e.card,elevation:6},r.a.createElement("div",{className:e.title},r.a.createElement(C.a,{component:"span",color:"primary",className:e.titleleft},"Friends"),r.a.createElement(C.a,{component:"span",color:"textSecondary"},m)),r.a.createElement(un,null),r.a.createElement("div",{className:e.paginator},r.a.createElement(Nt,{totalItemsCount:m,pageSize:o,currentPage:c,onPageChanged:function(e){g(f.h.setCurrentFriendsPage(e))}})),r.a.createElement(be.a,null,b))},mn=Object(I.a)({card:{padding:5},title:{padding:"5px 10px 5px 10px"},titleleft:{marginRight:5},paginator:{marginLeft:10,marginTop:5}}),pn=n(558),gn=n(194),bn=n.n(gn),En=n(557),hn=n(289),vn=n.n(hn),On=n(290),Sn=n.n(On),jn=function(){var e=In(),t=Object(i.d)(vt.b),n=Object(i.c)();return r.a.createElement(qe.a,{className:e.card,elevation:6},r.a.createElement(pn.a,{classes:{indicator:e.indicator},orientation:"vertical",value:t,onChange:function(e,t){n(f.h.setCurrentFriendsSidebarItem(t))},className:e.tabs},r.a.createElement(En.a,{label:"Friends",icon:r.a.createElement(vn.a,{className:e.icon}),classes:{wrapper:e.wrapper,selected:e.selected,root:e.tabRoot,labelIcon:e.labelIcon}}),r.a.createElement(En.a,{label:"Request for friendship",icon:r.a.createElement(Sn.a,{className:e.icon}),classes:{wrapper:e.wrapper,selected:e.selected,root:e.tabRoot,labelIcon:e.labelIcon}}),r.a.createElement(En.a,{label:"Something else",icon:r.a.createElement(bn.a,{className:e.icon}),classes:{wrapper:e.wrapper,selected:e.selected,root:e.tabRoot,labelIcon:e.labelIcon}}),r.a.createElement(En.a,{label:"Something else",icon:r.a.createElement(bn.a,{className:e.icon}),classes:{wrapper:e.wrapper,selected:e.selected,root:e.tabRoot,labelIcon:e.labelIcon}})))},In=Object(I.a)({card:{padding:5},tabs:{borderLeft:"3px solid #ccc"},indicator:{width:2,left:0,right:"auto"},wrapper:{flexDirection:"row",justifyContent:"flex-start",textTransform:"none"},icon:{marginRight:15,marginLeft:15},selected:{color:oe.a[500],backgroundColor:"#eee"},tabRoot:{padding:0},labelIcon:{minHeight:50}}),wn=function(){var e=Ln();return r.a.createElement(qe.a,{className:e.card,elevation:6},r.a.createElement(C.a,{variant:"h6",color:"primary",align:"center"},"Something else"))},Ln=Object(I.a)({card:{padding:20}}),xn=Object(Ct.a)((function(){var e=Tn(),t=Object(i.d)(vt.b);return r.a.createElement("div",{className:e.wrapper},r.a.createElement("div",{className:e.leftColumn},0===t?r.a.createElement(fn,null):r.a.createElement(wn,null)),r.a.createElement("div",{className:e.rightColumn},r.a.createElement(jn,null)))})),Tn=Object(I.a)({wrapper:{display:"flex"},card:{padding:5},leftColumn:{flexGrow:1,marginRight:15},rightColumn:{flexBasis:240}}),_n=function(){var e=Nn();return r.a.createElement(qe.a,{className:e.card,elevation:6},r.a.createElement(C.a,{variant:"h6",color:"primary",align:"center"},"Settings"))},Nn=Object(I.a)({card:{padding:20}}),Rn=r.a.lazy((function(){return Promise.all([n.e(4),n.e(5)]).then(n.bind(null,599))})),Cn=r.a.lazy((function(){return Promise.all([n.e(3),n.e(6)]).then(n.bind(null,598))})),yn=function(){var e=Fn(),t=Object(i.d)(ut.a),n=Object(i.d)($);return t?r.a.createElement("main",{className:Object(T.default)(e.content,Object(L.a)({},e.contentShift,n))},r.a.createElement("div",{className:e.drawerHeader}),r.a.createElement(a.Suspense,{fallback:r.a.createElement(ze.a,null)},r.a.createElement(We.d,null,r.a.createElement(We.b,{exact:!0,path:"/",render:function(){return r.a.createElement(Cn,null)}}),r.a.createElement(We.b,{path:"/dialogs/:userId?",render:function(){return r.a.createElement(Rn,null)}}),r.a.createElement(We.b,{path:"/profile",render:function(){return r.a.createElement(Cn,null)}}),r.a.createElement(We.b,{exact:!0,path:"/users",render:function(){return r.a.createElement(Qt,null)}}),r.a.createElement(We.b,{path:"/users/:userId",render:function(){return r.a.createElement(Cn,null)}}),r.a.createElement(We.b,{path:"/friends",render:function(){return r.a.createElement(xn,null)}}),r.a.createElement(We.b,{path:"/login",render:function(){return r.a.createElement(st,null)}}),r.a.createElement(We.b,{path:"/settings",render:function(){return r.a.createElement(_n,null)}}),r.a.createElement(We.b,{path:"*",render:function(){return r.a.createElement("div",null,"404 Page not found")}})))):r.a.createElement(ze.a,null)},Fn=Object(I.a)((function(e){return{drawerHeader:Object(pe.a)(Object(pe.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{backgroundColor:oe.a[50],flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-180,minHeight:"100vh",padding:15},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}})),kn=n(564),Un=n(559),An=Object(We.h)((function(){var e=Pn(),t=Object(i.d)(Yt.d),n=Object(i.d)(Yt.g),c=r.a.useState(!1),o=Object(j.a)(c,2),s=o[0],l=o[1],u=Object(i.c)(),d=function(e){alert(e)};Object(a.useEffect)((function(){return u(Object(b.c)()),window.addEventListener("unhandledrejection",d),function(){window.removeEventListener("unhandledrejection",d)}}),[]),Object(a.useEffect)((function(){return console.log("messageIsSending - ".concat(t)),console.log("recipientName - ".concat(n)),!t&&n&&l(!0),function(){}}),[t]);var f=function(e,t){"clickaway"!==t&&l(!1)};return r.a.createElement("div",{className:e.root},r.a.createElement(de,null),r.a.createElement(Ge,null),r.a.createElement(yn,null),r.a.createElement(kn.a,{open:s,autoHideDuration:6e3,onClose:f},r.a.createElement(Un.a,{onClose:f,severity:"success"},r.a.createElement(C.a,{component:"span"},"Message to "),r.a.createElement(C.a,{component:"span",color:"primary"},n),r.a.createElement(C.a,{component:"span"}," is sent!"))))})),Pn=Object(I.a)((function(){return Object(w.a)({root:{display:"flex"}})})),Dn=function(){return r.a.createElement(S.a,null,r.a.createElement(i.a,{store:O},r.a.createElement(An,null)))};o.a.render(r.a.createElement(Dn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},56:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var a=n(5),r={sidebarIsOpen:!0,currentSidebarItem:null},c={setSidebarIsOpen:function(e){return{type:"SIDEBAR/SET_SIDEBAR_IS_OPEN",sidebarIsOpen:e}},setCurrentSidebarItem:function(e){return{type:"SIDEBAR/SET_CURRENT_SIDEBAR_ITEM",currentSidebarItem:e}}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIDEBAR/SET_SIDEBAR_IS_OPEN":return Object(a.a)(Object(a.a)({},e),{},{sidebarIsOpen:t.sidebarIsOpen});case"SIDEBAR/SET_CURRENT_SIDEBAR_ITEM":return Object(a.a)(Object(a.a)({},e),{},{currentSidebarItem:t.currentSidebarItem});default:return e}}},61:function(e,t,n){"use strict";var a=n(492),r=n(0),c=n.n(r),o=n(73);t.a=function(e){var t=e.size,n=void 0===t?100:t,r=e.style,o=void 0===r?"static-center":r,u=i(),d=s(),f=l(),m=d;return"absolute"===o&&(m=u),"static-top"===o&&(m=f),c.a.createElement("div",{className:m.circularWrapper},c.a.createElement(a.a,{size:n,color:"secondary",className:m.circular}))};var i=Object(o.a)({circularWrapper:{position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:1001},circular:{}}),s=Object(o.a)({circularWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},circular:{}}),l=Object(o.a)({circularWrapper:{display:"flex",justifyContent:"center",alignItems:"flex-start"},circular:{}})},71:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return E})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return v}));var a=n(7),r=n.n(a),c=n(11),o=n(106),i=n(5),s=n(14),l=n(22),u=function(){return Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.c.get("dialogs");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},d=function(e){return Object(c.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.c.get("dialogs/".concat(e,"/messages"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},f=function(e,t){return Object(c.a)(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.c.post("dialogs/".concat(e,"/messages"),{body:t});case 2:return a=n.sent,n.abrupt("return",a.data);case 4:case"end":return n.stop()}}),n)})))()},m=function(e){return Object(c.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.c.delete("dialogs/messages/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},p={dialogs:null,currentDialogsListItem:0,currentFriendsId:null,messages:null,selectedMessagesId:[],dialogsIsLoading:!1,messagesIsLoading:!1,deleteAndSpamMessagesId:[],messageIsSending:!1,recipientName:null},g={setMessagesIsLoading:function(e){return{type:"dialogs/SET_MESSAGES_IS_LOADING",messagesIsLoading:e}},setRecipientName:function(e){return{type:"dialogs/SET_RECIPIENT_NAME",recipientName:e}},setMessageIsSending:function(e){return{type:"dialogs/SET_MESSAGE_IS_SENDING",messageIsSending:e}},toggleDialogsIsLoading:function(e){return{type:"dialogs/TOGGLE_DIALOGS_IS_LOADING",dialogsIsLoading:e}},cleanSelectedId:function(){return{type:"dialogs/CLEAN_SELECTED_ID"}},addSelectedId:function(e){return{type:"dialogs/ADD_SELECTED_ID",id:e}},removeSelectedId:function(e){return{type:"dialogs/REMOVE_SELECTED_ID",id:e}},setMessages:function(e){return{type:"dialogs/SET_MESSAGES",messages:e}},setCurrentFriendsId:function(e){return{type:"dialogs/SET_CURRENT_FRIEND_ID",currentFriendsId:e}},setDialogs:function(e){return{type:"dialogs/SET_DIALOGS",dialogs:e}},setCurrentDialogsListItem:function(e){return{type:"dialogs/SET_CURRENT_DIALOGS_LIST_ITEM",currentDialogsListItem:e}}},b=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(g.toggleDialogsIsLoading(!0)),e.next=4,u();case 4:n=e.sent,t(g.setDialogs(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(s.a.setLanError(!0));case 11:return e.prev=11,t(g.toggleDialogsIsLoading(!1)),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()},E=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(g.setMessageIsSending(!0)),n.next=4,f(e,t);case 4:if(0!==(c=n.sent).resultCode){n.next=9;break}return a(g.setRecipientName(c.data.message.recipientName)),n.next=9,a(h(e));case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),a(s.a.setLanError(!0));case 14:return n.prev=14,a(g.setMessageIsSending(!1)),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[0,11,14,17]])})));return function(e){return n.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(g.setMessagesIsLoading(!0)),t.next=4,d(e);case 4:null===(a=t.sent).error&&n(g.setMessages(a.items)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(s.a.setLanError(!0));case 11:return t.prev=11,n(g.setMessagesIsLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c,o,i,s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=e.map((function(e){return m(e)})),n.next=4,Promise.all(c);case 4:o=n.sent,i=0,s=0;case 7:if(!(s<o.length-1)){n.next=14;break}if(1!==o[s].resultCode){n.next=11;break}return i=1,n.abrupt("break",14);case 11:s++,n.next=7;break;case 14:if(0!==i){n.next=18;break}return a(g.cleanSelectedId()),n.next=18,a(h(t));case 18:console.log(o),n.next=23;break;case 21:n.prev=21,n.t0=n.catch(0);case 23:return n.prev=23,n.finish(23);case 25:case"end":return n.stop()}}),n,null,[[0,21,23,25]])})));return function(e){return n.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dialogs/SET_MESSAGES_IS_LOADING":return Object(i.a)(Object(i.a)({},e),{},{messagesIsLoading:t.messagesIsLoading});case"dialogs/SET_RECIPIENT_NAME":return Object(i.a)(Object(i.a)({},e),{},{recipientName:t.recipientName});case"dialogs/SET_MESSAGE_IS_SENDING":return Object(i.a)(Object(i.a)({},e),{},{messageIsSending:t.messageIsSending});case"dialogs/TOGGLE_DIALOGS_IS_LOADING":return Object(i.a)(Object(i.a)({},e),{},{dialogsIsLoading:t.dialogsIsLoading});case"dialogs/CLEAN_SELECTED_ID":return Object(i.a)(Object(i.a)({},e),{},{selectedMessagesId:[]});case"dialogs/REMOVE_SELECTED_ID":return Object(i.a)(Object(i.a)({},e),{},{selectedMessagesId:e.selectedMessagesId.filter((function(e){return e!==t.id}))});case"dialogs/ADD_SELECTED_ID":return Object(i.a)(Object(i.a)({},e),{},{selectedMessagesId:[].concat(Object(o.a)(e.selectedMessagesId),[t.id])});case"dialogs/SET_MESSAGES":return Object(i.a)(Object(i.a)({},e),{},{messages:t.messages});case"dialogs/SET_CURRENT_FRIEND_ID":return Object(i.a)(Object(i.a)({},e),{},{currentFriendsId:t.currentFriendsId});case"dialogs/SET_DIALOGS":return Object(i.a)(Object(i.a)({},e),{},{dialogs:t.dialogs});case"dialogs/SET_CURRENT_DIALOGS_LIST_ITEM":return Object(i.a)(Object(i.a)({},e),{},{currentDialogsListItem:t.currentDialogsListItem});default:return e}}},81:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return S}));var a=n(7),r=n.n(a),c=n(11),o=n(5),i=n(22),s=n(49),l=function(){return Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.get("auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},u=function(e,t){var n=arguments;return Object(c.a)(r.a.mark((function a(){var c,o,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=n.length>2&&void 0!==n[2]&&n[2],o=n.length>3&&void 0!==n[3]?n[3]:null,a.next=4,i.c.post("auth/login",{email:e,password:t,rememberMe:c,captcha:o});case 4:return s=a.sent,a.abrupt("return",s.data);case 6:case"end":return a.stop()}}),a)})))()},d=function(){return Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.delete("auth/login");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},f=function(){return Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.get("security/get-captcha-url");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},m=n(14),p=n(56),g={id:null,email:null,login:null,isAuth:!1,captcha:null},b=function(e,t,n,a){return{type:"AUTH/SET_AUTH_USER_DATA",data:{id:e,email:t,login:n,isAuth:a}}},E=function(e){return{type:"AUTH/SET_CAPTCHA",captcha:e}},h=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(m.a.toggleLoading(!0)),e.next=4,l();case 4:(n=e.sent).resultCode===i.b.Success&&(a=n.data,c=a.id,o=a.login,s=a.email,t(b(c,s,o,!0))),t(m.a.toggleLoading(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(m.a.setLanError(!0));case 12:return e.prev=12,t(m.a.toggleLoading(!1)),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}()},v=function(e,t,n,a){return function(){var o=Object(c.a)(r.a.mark((function c(o){var l,d;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o(m.a.toggleLoading(!0)),r.next=4,u(e,t,n,a);case 4:(l=r.sent).resultCode===i.b.Success?(o(h()),o(p.b.setCurrentSidebarItem(1))):(l.resultCode===i.a.CaptchaIsRequired&&o(O()),d=l.messages.length>0?l.messages[0]:"some error",o(Object(s.b)("login",{_error:d}))),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),o(m.a.setLanError(!0));case 11:return r.prev=11,o(m.a.toggleLoading(!1)),r.finish(11);case 14:case"end":return r.stop()}}),c,null,[[0,8,11,14]])})));return function(e){return o.apply(this,arguments)}}()},O=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(m.a.toggleLoading(!0)),e.next=4,f();case 4:n=e.sent,t(E(n.url)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(m.a.setLanError(!0));case 11:return e.prev=11,t(m.a.toggleLoading(!1)),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()},S=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(m.a.toggleLoading(!0)),e.next=4,d();case 4:0===e.sent.resultCode&&t(b(null,null,null,!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(m.a.setLanError(!0));case 11:return e.prev=11,t(m.a.toggleLoading(!1)),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET_AUTH_USER_DATA":return Object(o.a)(Object(o.a)({},e),t.data);case"AUTH/SET_CAPTCHA":return Object(o.a)(Object(o.a)({},e),{},{captcha:t.captcha});default:return e}}},82:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"h",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return u}));var a=function(e){return e.dialogs.dialogs},r=function(e){return e.dialogs.messages},c=function(e){return e.dialogs.currentFriendsId},o=function(e){return e.dialogs.selectedMessagesId},i=function(e){return e.dialogs.dialogsIsLoading},s=function(e){return e.dialogs.messageIsSending},l=function(e){return e.dialogs.recipientName},u=function(e){return e.dialogs.messagesIsLoading}},85:function(e,t,n){"use strict";var a=n(68),r=n(295),c=n(0),o=n.n(c),i=n(73);t.a=function(e){var t=e.icon,n=e.label,c=e.input,i=e.meta,l=i.touched,u=i.invalid,d=i.error,f=e.classes,m=Object(a.a)(e,["icon","label","input","meta","classes"]),p=s();return o.a.createElement("div",{className:p.root},t&&o.a.createElement("div",{className:p.iconLeft},t),o.a.createElement(r.a,Object.assign({InputProps:f?{classes:f}:null,variant:"outlined",label:n,placeholder:n,error:l&&u,helperText:l&&d},c,m)))};var s=Object(i.a)({root:{position:"relative",width:"100%"},iconLeft:{position:"absolute",left:-5,top:"50%",transform:"translate(-100%, -50%)"}})},86:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return o}));var a=function(e){return e.auth.id},r=function(e){return e.auth.login},c=function(e){return e.auth.isAuth},o=function(e){return e.auth.captcha}},91:function(e,t,n){"use strict";n.d(t,"f",(function(){return O})),n.d(t,"d",(function(){return S})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return I})),n.d(t,"e",(function(){return w})),n.d(t,"i",(function(){return L})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return T}));var a=n(258),r=n(7),c=n.n(r),o=n(11),i=n(106),s=n(5),l=n(49),u=n(22),d=function(e){return Object(o.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.get("profile/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},f=function(e){return Object(o.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.get("profile/status/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},m=function(e){return Object(o.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.put("profile/status",{status:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},p=function(e){return Object(o.a)(c.a.mark((function t(){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("image",e),t.next=4,u.c.put("profile/photo",n);case 4:return a=t.sent,t.abrupt("return",a.data);case 6:case"end":return t.stop()}}),t)})))()},g=function(e){return Object(o.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.put("profile",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},b=function(e){return Object(o.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.get("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},E=n(14),h=n(169),v={posts:[{id:1,message:"Hello, world",likeCount:4,likeMe:!1,time:"25 September in 10:10"}],profile:null,currentUserProfile:null,status:null,avatarIsLoading:!1,statusIsLoading:!1,editMode:!1,currentInfoFormSidebarItem:0,followed:null,editingPost:!1},O={toggleLikeMe:function(e){return{type:"profile/TOGGLE_LIKE_ME",postId:e}},setEditingPost:function(e){return{type:"profile/SET_EDITING_POST",editingPost:e}},setCurrentUserProfile:function(e){return{type:"profile/SET_CURRENT_USER_PROFILE",currentUserProfile:e}},setFollowed:function(e){return{type:"profile/SET_FOLLOWED",followed:e}},setCurrentInfoFormSidebarItem:function(e){return{type:"profile/SET_CURRENT_INFO_FORM_SIDEBAR_ITEM",currentInfoFormSidebarItem:e}},addPost:function(e){return{type:"profile/ADD_POST",post:e,time:h.a.dateTranslateFromJS(h.a.getCurrentDate())}},deletePost:function(e){return{type:"profile/DELETE_POST",id:e}},setUserProfile:function(e){return{type:"profile/SET_USER_PROFILE",profile:e}},setStatus:function(e){return{type:"profile/SET_STATUS",status:e}},setPhotos:function(e){return{type:"profile/SET_PHOTOS",photos:e}},toggleAvatarLoading:function(e){return{type:"profile/AVATAR_IS_LOADING",avatarIsLoading:e}},toggleStatusLoading:function(e){return{type:"profile/STATUS_IS_LOADING",statusIsLoading:e}},setEditMode:function(e){return{type:"profile/SET_EDIT_MODE",editMode:e}}},S=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(E.a.toggleLoading(!0)),t.next=4,d(e);case 4:a=t.sent,n(O.setUserProfile(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(E.a.setLanError(!0));case 11:return t.prev=11,n(E.a.toggleLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(E.a.toggleLoading(!0)),t.next=4,d(e);case 4:a=t.sent,n(O.setCurrentUserProfile(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(E.a.setLanError(!0));case 11:return t.prev=11,n(E.a.toggleLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(E.a.toggleLoading(!0)),t.next=4,b(e);case 4:a=t.sent,n(O.setFollowed(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(E.a.setLanError(!0));case 11:return t.prev=11,n(E.a.toggleLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(O.toggleStatusLoading(!0)),t.next=4,f(e);case 4:a=t.sent,n(O.setStatus(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(E.a.setLanError(!0));case 11:return t.prev=11,n(O.toggleStatusLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},L=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(O.toggleStatusLoading(!0)),t.next=4,m(e);case 4:0===t.sent.resultCode&&n(O.setStatus(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(E.a.setLanError(!0));case 11:return t.prev=11,n(O.toggleStatusLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(O.toggleAvatarLoading(!0)),t.next=4,p(e);case 4:0===(a=t.sent).resultCode&&n(O.setPhotos(a.data.photos)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(E.a.setLanError(!0));case 11:return t.prev=11,n(O.toggleAvatarLoading(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n,r){var o,i,s,u,d,f,m;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(E.a.toggleLoading(!0)),t.next=4,g(e);case 4:if(o=t.sent,i=e.userId,0!==o.resultCode){t.next=10;break}n(S(i)),t.next=15;break;case 10:s={},u=Object(a.a)(o.messages);try{for(u.s();!(d=u.n()).done;)f=d.value,m=f.slice(30,f.length-1).toLowerCase(),s[m]="Invalid url format"}catch(r){u.e(r)}finally{u.f()}return n(Object(l.b)("profileAboutMeForm",{contacts:s})),t.abrupt("return",Promise.reject(o.messages[0]));case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),n(E.a.setLanError(!0));case 20:return t.prev=20,n(E.a.toggleLoading(!1)),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[0,17,20,23]])})));return function(e,n){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/TOGGLE_LIKE_ME":return Object(s.a)(Object(s.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.postId?Object(s.a)(Object(s.a)({},e),{},{likeCount:e.likeMe?e.likeCount-1:e.likeCount+1,likeMe:!e.likeMe}):e}))});case"profile/SET_EDITING_POST":return Object(s.a)(Object(s.a)({},e),{},{editingPost:t.editingPost});case"profile/SET_CURRENT_USER_PROFILE":return Object(s.a)(Object(s.a)({},e),{},{currentUserProfile:t.currentUserProfile});case"profile/SET_FOLLOWED":return Object(s.a)(Object(s.a)({},e),{},{followed:t.followed});case"profile/SET_CURRENT_INFO_FORM_SIDEBAR_ITEM":return Object(s.a)(Object(s.a)({},e),{},{currentInfoFormSidebarItem:t.currentInfoFormSidebarItem});case"profile/SET_EDIT_MODE":return Object(s.a)(Object(s.a)({},e),{},{editMode:t.editMode});case"profile/AVATAR_IS_LOADING":return Object(s.a)(Object(s.a)({},e),{},{avatarIsLoading:t.avatarIsLoading});case"profile/STATUS_IS_LOADING":return Object(s.a)(Object(s.a)({},e),{},{statusIsLoading:t.statusIsLoading});case"profile/ADD_POST":var n=e.posts.length?e.posts[e.posts.length-1].id+1:1;return Object(s.a)(Object(s.a)({},e),{},{posts:[].concat(Object(i.a)(e.posts),[{id:n,message:t.post,likeMe:!1,likeCount:0,time:t.time}])});case"profile/DELETE_POST":return Object(s.a)(Object(s.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.id}))});case"profile/SET_USER_PROFILE":return Object(s.a)(Object(s.a)({},e),{},{profile:t.profile});case"profile/SET_STATUS":return Object(s.a)(Object(s.a)({},e),{},{status:t.status});case"profile/SET_PHOTOS":if(e.profile)return Object(s.a)(Object(s.a)({},e),{},{profile:Object(s.a)(Object(s.a)({},e.profile),{},{photos:t.photos})});default:return e}}}},[[335,1,2]]]);
//# sourceMappingURL=main.e33ea726.chunk.js.map